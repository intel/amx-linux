
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Kernel driver i2c-ali15x3 &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Kernel driver i2c-amd756" href="i2c-amd756.html" />
    <link rel="prev" title="Kernel driver i2c-ali1563" href="i2c-ali1563.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="kernel-driver-i2c-ali15x3">
<h1>Kernel driver i2c-ali15x3<a class="headerlink" href="#kernel-driver-i2c-ali15x3" title="Permalink to this headline">¶</a></h1>
<dl>
<dt>Supported adapters:</dt><dd><ul>
<li><p>Acer Labs, Inc. ALI 1533 and 1543C (south bridge)</p>
<dl class="simple">
<dt>Datasheet: Now under NDA</dt><dd><p><a class="reference external" href="http://www.ali.com.tw/">http://www.ali.com.tw/</a></p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Authors:</dt><dd><ul class="simple">
<li><p>Frodo Looijaard &lt;<a class="reference external" href="mailto:frodol&#37;&#52;&#48;dds&#46;nl">frodol<span>&#64;</span>dds<span>&#46;</span>nl</a>&gt;,</p></li>
<li><p>Philip Edelbrock &lt;<a class="reference external" href="mailto:phil&#37;&#52;&#48;netroedge&#46;com">phil<span>&#64;</span>netroedge<span>&#46;</span>com</a>&gt;,</p></li>
<li><p>Mark D. Studebaker &lt;<a class="reference external" href="mailto:mdsxyz123&#37;&#52;&#48;yahoo&#46;com">mdsxyz123<span>&#64;</span>yahoo<span>&#46;</span>com</a>&gt;</p></li>
</ul>
</dd>
</dl>
<section id="module-parameters">
<h2>Module Parameters<a class="headerlink" href="#module-parameters" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>force_addr: int</dt><dd><p>Initialize the base address of the i2c controller</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>The force_addr parameter is useful for boards that don’t set the address in
the BIOS. Does not do a PCI force; the device must still be present in
lspci. Don’t use this unless the driver complains that the base address is
not set.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>modprobe i2c-ali15x3 force_addr=0xe800
</pre></div>
</div>
<p>SMBus periodically hangs on ASUS P5A motherboards and can only be cleared
by a power cycle. Cause unknown (see Issues below).</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This is the driver for the SMB Host controller on Acer Labs Inc. (ALI)
M1541 and M1543C South Bridges.</p>
<p>The M1543C is a South bridge for desktop systems.</p>
<p>The M1541 is a South bridge for portable systems.</p>
<p>They are part of the following ALI chipsets:</p>
<blockquote>
<div><ul>
<li><p>“Aladdin Pro 2” includes the M1621 Slot 1 North bridge with AGP and
100MHz CPU Front Side bus</p></li>
<li><p>“Aladdin V” includes the M1541 Socket 7 North bridge with AGP and 100MHz
CPU Front Side bus</p>
<dl class="simple">
<dt>Some Aladdin V motherboards:</dt><dd><ul class="simple">
<li><p>Asus P5A</p></li>
<li><p>Atrend ATC-5220</p></li>
<li><p>BCM/GVC VP1541</p></li>
<li><p>Biostar M5ALA</p></li>
<li><p>Gigabyte GA-5AX (Generally doesn’t work because the BIOS doesn’t
enable the 7101 device!)</p></li>
<li><p>Iwill XA100 Plus</p></li>
<li><p>Micronics C200</p></li>
<li><p>Microstar (MSI) MS-5169</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>“Aladdin IV” includes the M1541 Socket 7 North bridge
with host bus up to 83.3 MHz.</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>For an overview of these chips see <a class="reference external" href="http://www.acerlabs.com">http://www.acerlabs.com</a>. At this time the
full data sheets on the web site are password protected, however if you
contact the ALI office in San Jose they may give you the password.</p>
<p>The M1533/M1543C devices appear as FOUR separate devices on the PCI bus. An
output of lspci will show something similar to the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>00:02.0 USB Controller: Acer Laboratories Inc. M5237 (rev 03)
00:03.0 Bridge: Acer Laboratories Inc. M7101      &lt;= THIS IS THE ONE WE NEED
00:07.0 ISA bridge: Acer Laboratories Inc. M1533 (rev c3)
00:0f.0 IDE interface: Acer Laboratories Inc. M5229 (rev c1)
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you have a M1533 or M1543C on the board and you get
“ali15x3: Error: Can’t detect ali15x3!”
then run lspci.</p>
<p>If you see the 1533 and 5229 devices but NOT the 7101 device,
then you must enable ACPI, the PMU, SMB, or something similar
in the BIOS.</p>
<p>The driver won’t work if it can’t find the M7101 device.</p>
</div>
<p>The SMB controller is part of the M7101 device, which is an ACPI-compliant
Power Management Unit (PMU).</p>
<p>The whole M7101 device has to be enabled for the SMB to work. You can’t
just enable the SMB alone. The SMB and the ACPI have separate I/O spaces.
We make sure that the SMB is enabled. We leave the ACPI alone.</p>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<p>This driver controls the SMB Host only. The SMB Slave
controller on the M15X3 is not enabled. This driver does not use
interrupts.</p>
</section>
<section id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h2>
<p>This driver requests the I/O space for only the SMB
registers. It doesn’t use the ACPI region.</p>
<p>On the ASUS P5A motherboard, there are several reports that
the SMBus will hang and this can only be resolved by
powering off the computer. It appears to be worse when the board
gets hot, for example under heavy CPU load, or in the summer.
There may be electrical problems on this board.
On the P5A, the W83781D sensor chip is on both the ISA and
SMBus. Therefore the SMBus hangs can generally be avoided
by accessing the W83781D on the ISA bus only.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Kernel driver i2c-ali15x3</a><ul>
<li><a class="reference internal" href="#module-parameters">Module Parameters</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#issues">Issues</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/i2c/busses/i2c-ali15x3.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/i2c/busses/i2c-ali15x3.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>