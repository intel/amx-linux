
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>s3fb - fbdev driver for S3 Trio/Virge chips &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="What is sa1100fb?" href="sa1100fb.html" />
    <link rel="prev" title="Driver for PXA25x LCD controller" href="pxafb.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="s3fb-fbdev-driver-for-s3-trio-virge-chips">
<h1>s3fb - fbdev driver for S3 Trio/Virge chips<a class="headerlink" href="#s3fb-fbdev-driver-for-s3-trio-virge-chips" title="Permalink to this headline">¶</a></h1>
<section id="supported-hardware">
<h2>Supported Hardware<a class="headerlink" href="#supported-hardware" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>S3 Trio32
S3 Trio64 (and variants V+, UV+, V2/DX, V2/GX)
S3 Virge  (and variants VX, DX, GX and GX2+)
S3 Plato/PX             (completely untested)
S3 Aurora64V+           (completely untested)</p>
<ul class="simple">
<li><p>only PCI bus supported</p></li>
<li><p>only BIOS initialized VGA devices supported</p></li>
<li><p>probably not working on big endian</p></li>
</ul>
</div></blockquote>
<p>I tested s3fb on Trio64 (plain, V+ and V2/DX) and Virge (plain, VX, DX),
all on i386.</p>
</section>
<section id="supported-features">
<h2>Supported Features<a class="headerlink" href="#supported-features" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>4 bpp pseudocolor modes (with 18bit palette, two variants)</p></li>
<li><p>8 bpp pseudocolor mode (with 18bit palette)</p></li>
<li><p>16 bpp truecolor modes (RGB 555 and RGB 565)</p></li>
<li><p>24 bpp truecolor mode (RGB 888) on (only on Virge VX)</p></li>
<li><p>32 bpp truecolor mode (RGB 888) on (not on Virge VX)</p></li>
<li><p>text mode (activated by bpp = 0)</p></li>
<li><p>interlaced mode variant (not available in text mode)</p></li>
<li><p>doublescan mode variant (not available in text mode)</p></li>
<li><p>panning in both directions</p></li>
<li><p>suspend/resume support</p></li>
<li><p>DPMS support</p></li>
</ul>
</div></blockquote>
<p>Text mode is supported even in higher resolutions, but there is limitation to
lower pixclocks (maximum usually between 50-60 MHz, depending on specific
hardware, i get best results from plain S3 Trio32 card - about 75 MHz). This
limitation is not enforced by driver. Text mode supports 8bit wide fonts only
(hardware limitation) and 16bit tall fonts (driver limitation). Text mode
support is broken on S3 Trio64 V2/DX.</p>
<p>There are two 4 bpp modes. First mode (selected if nonstd == 0) is mode with
packed pixels, high nibble first. Second mode (selected if nonstd == 1) is mode
with interleaved planes (1 byte interleave), MSB first. Both modes support
8bit wide fonts only (driver limitation).</p>
<p>Suspend/resume works on systems that initialize video card during resume and
if device is active (for example used by fbcon).</p>
</section>
<section id="missing-features">
<h2>Missing Features<a class="headerlink" href="#missing-features" title="Permalink to this headline">¶</a></h2>
<p>(alias TODO list)</p>
<blockquote>
<div><ul class="simple">
<li><p>secondary (not initialized by BIOS) device support</p></li>
<li><p>big endian support</p></li>
<li><p>Zorro bus support</p></li>
<li><p>MMIO support</p></li>
<li><p>24 bpp mode support on more cards</p></li>
<li><p>support for fontwidths != 8 in 4 bpp modes</p></li>
<li><p>support for fontheight != 16 in text mode</p></li>
<li><p>composite and external sync (is anyone able to test this?)</p></li>
<li><p>hardware cursor</p></li>
<li><p>video overlay support</p></li>
<li><p>vsync synchronization</p></li>
<li><p>feature connector support</p></li>
<li><p>acceleration support (8514-like 2D, Virge 3D, busmaster transfers)</p></li>
<li><p>better values for some magic registers (performance issues)</p></li>
</ul>
</div></blockquote>
</section>
<section id="known-bugs">
<h2>Known bugs<a class="headerlink" href="#known-bugs" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>cursor disable in text mode doesn’t work</p></li>
<li><p>text mode broken on S3 Trio64 V2/DX</p></li>
</ul>
</div></blockquote>
<p>–
Ondrej Zajicek &lt;<a class="reference external" href="mailto:santiago&#37;&#52;&#48;crfreenet&#46;org">santiago<span>&#64;</span>crfreenet<span>&#46;</span>org</a>&gt;</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">s3fb - fbdev driver for S3 Trio/Virge chips</a><ul>
<li><a class="reference internal" href="#supported-hardware">Supported Hardware</a></li>
<li><a class="reference internal" href="#supported-features">Supported Features</a></li>
<li><a class="reference internal" href="#missing-features">Missing Features</a></li>
<li><a class="reference internal" href="#known-bugs">Known bugs</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/fb/s3fb.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/fb/s3fb.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>