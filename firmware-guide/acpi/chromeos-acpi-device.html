
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Chrome OS ACPI Device &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Open Firmware and Devicetree" href="../../devicetree/index.html" />
    <link rel="prev" title="Intel North Mux-Agent" href="intel-pmc-mux.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="chrome-os-acpi-device">
<h1>Chrome OS ACPI Device<a class="headerlink" href="#chrome-os-acpi-device" title="Permalink to this headline">¶</a></h1>
<p>Hardware functionality specific to Chrome OS is exposed through a Chrome OS ACPI device.
The plug and play ID of a Chrome OS ACPI device is GGL0001. GGL is a valid PNP ID of Google.
PNP ID can be used with the ACPI devices according to the guidelines. The following ACPI
objects are supported:</p>
<table class="docutils align-default" id="id20">
<caption><span class="caption-text">Supported ACPI Objects</span><a class="headerlink" href="#id20" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Object</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CHSW</p></td>
<td><p>Chrome OS switch positions</p></td>
</tr>
<tr class="row-odd"><td><p>HWID</p></td>
<td><p>Chrome OS hardware ID</p></td>
</tr>
<tr class="row-even"><td><p>FWID</p></td>
<td><p>Chrome OS firmware version</p></td>
</tr>
<tr class="row-odd"><td><p>FRID</p></td>
<td><p>Chrome OS read-only firmware version</p></td>
</tr>
<tr class="row-even"><td><p>BINF</p></td>
<td><p>Chrome OS boot information</p></td>
</tr>
<tr class="row-odd"><td><p>GPIO</p></td>
<td><p>Chrome OS GPIO assignments</p></td>
</tr>
<tr class="row-even"><td><p>VBNV</p></td>
<td><p>Chrome OS NVRAM locations</p></td>
</tr>
<tr class="row-odd"><td><p>VDTA</p></td>
<td><p>Chrome OS verified boot data</p></td>
</tr>
<tr class="row-even"><td><p>FMAP</p></td>
<td><p>Chrome OS flashmap base address</p></td>
</tr>
<tr class="row-odd"><td><p>MLST</p></td>
<td><p>Chrome OS method list</p></td>
</tr>
</tbody>
</table>
<section id="chsw-chrome-os-switch-positions">
<h2>CHSW (Chrome OS switch positions)<a class="headerlink" href="#chsw-chrome-os-switch-positions" title="Permalink to this headline">¶</a></h2>
<p>This control method returns the switch positions for Chrome OS specific hardware switches.</p>
<section id="arguments">
<h3>Arguments:<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="result-code">
<h3>Result code:<a class="headerlink" href="#result-code" title="Permalink to this headline">¶</a></h3>
<p>An integer containing the switch positions as bitfields:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0x00000002</p></td>
<td><p>Recovery button was pressed when x86 firmware booted.</p></td>
</tr>
<tr class="row-even"><td><p>0x00000004</p></td>
<td><p>Recovery button was pressed when EC firmware booted. (required if EC EEPROM is
rewritable; otherwise optional)</p></td>
</tr>
<tr class="row-odd"><td><p>0x00000020</p></td>
<td><p>Developer switch was enabled when x86 firmware booted.</p></td>
</tr>
<tr class="row-even"><td><p>0x00000200</p></td>
<td><p>Firmware write protection was disabled when x86 firmware booted. (required if
firmware write protection is controlled through x86 BIOS; otherwise optional)</p></td>
</tr>
</tbody>
</table>
<p>All other bits are reserved and should be set to 0.</p>
</section>
</section>
<section id="hwid-chrome-os-hardware-id">
<h2>HWID (Chrome OS hardware ID)<a class="headerlink" href="#hwid-chrome-os-hardware-id" title="Permalink to this headline">¶</a></h2>
<p>This control method returns the hardware ID for the Chromebook.</p>
<section id="id1">
<h3>Arguments:<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id2">
<h3>Result code:<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>A null-terminated ASCII string containing the hardware ID from the Model-Specific Data area of
EEPROM.</p>
<p>Note that the hardware ID can be up to 256 characters long, including the terminating null.</p>
</section>
</section>
<section id="fwid-chrome-os-firmware-version">
<h2>FWID (Chrome OS firmware version)<a class="headerlink" href="#fwid-chrome-os-firmware-version" title="Permalink to this headline">¶</a></h2>
<p>This control method returns the firmware version for the rewritable portion of the main
processor firmware.</p>
<section id="id3">
<h3>Arguments:<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id4">
<h3>Result code:<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>A null-terminated ASCII string containing the complete firmware version for the rewritable
portion of the main processor firmware.</p>
</section>
</section>
<section id="frid-chrome-os-read-only-firmware-version">
<h2>FRID (Chrome OS read-only firmware version)<a class="headerlink" href="#frid-chrome-os-read-only-firmware-version" title="Permalink to this headline">¶</a></h2>
<p>This control method returns the firmware version for the read-only portion of the main
processor firmware.</p>
<section id="id5">
<h3>Arguments:<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id6">
<h3>Result code:<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>A null-terminated ASCII string containing the complete firmware version for the read-only
(bootstrap + recovery ) portion of the main processor firmware.</p>
</section>
</section>
<section id="binf-chrome-os-boot-information">
<h2>BINF (Chrome OS boot information)<a class="headerlink" href="#binf-chrome-os-boot-information" title="Permalink to this headline">¶</a></h2>
<p>This control method returns information about the current boot.</p>
<section id="id7">
<h3>Arguments:<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id8">
<h3>Result code:<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Package {
        Reserved1
        Reserved2
        Active EC Firmware
        Active Main Firmware Type
        Reserved5
}
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Reserved1</p></td>
<td><p>DWORD</p></td>
<td><p>Set to 256 (0x100). This indicates this field is no longer used.</p></td>
</tr>
<tr class="row-odd"><td><p>Reserved2</p></td>
<td><p>DWORD</p></td>
<td><p>Set to 256 (0x100). This indicates this field is no longer used.</p></td>
</tr>
<tr class="row-even"><td><p>Active EC firmware</p></td>
<td><p>DWORD</p></td>
<td><p>The EC firmware which was used during boot.</p>
<ul class="simple">
<li><p>0 - Read-only (recovery) firmware</p></li>
<li><p>1 - Rewritable firmware.</p></li>
</ul>
<p>Set to 0 if EC firmware is always read-only.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Active Main Firmware Type</p></td>
<td><p>DWORD</p></td>
<td><p>The main firmware type which was used during boot.</p>
<ul class="simple">
<li><p>0 - Recovery</p></li>
<li><p>1 - Normal</p></li>
<li><p>2 - Developer</p></li>
<li><p>3 - netboot (factory installation only)</p></li>
</ul>
<p>Other values are reserved.</p>
</td>
</tr>
<tr class="row-even"><td><p>Reserved5</p></td>
<td><p>DWORD</p></td>
<td><p>Set to 256 (0x100). This indicates this field is no longer used.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="gpio-chrome-os-gpio-assignments">
<h2>GPIO (Chrome OS GPIO assignments)<a class="headerlink" href="#gpio-chrome-os-gpio-assignments" title="Permalink to this headline">¶</a></h2>
<p>This control method returns information about Chrome OS specific GPIO assignments for
Chrome OS hardware, so the kernel can directly control that hardware.</p>
<section id="id9">
<h3>Arguments:<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id10">
<h3>Result code:<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Package {
        Package {
                // First GPIO assignment
                Signal Type        //DWORD
                Attributes         //DWORD
                Controller Offset  //DWORD
                Controller Name    //ASCIIZ
        },
        ...
        Package {
                // Last GPIO assignment
                Signal Type        //DWORD
                Attributes         //DWORD
                Controller Offset  //DWORD
                Controller Name    //ASCIIZ
        }
}
</pre></div>
</div>
<p>Where ASCIIZ means a null-terminated ASCII string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Signal Type</p></td>
<td><p>DWORD</p></td>
<td><p>Type of GPIO signal</p>
<ul class="simple">
<li><p>0x00000001 - Recovery button</p></li>
<li><p>0x00000002 - Developer mode switch</p></li>
<li><p>0x00000003 - Firmware write protection switch</p></li>
<li><p>0x00000100 - Debug header GPIO 0</p></li>
<li><p>…</p></li>
<li><p>0x000001FF - Debug header GPIO 255</p></li>
</ul>
<p>Other values are reserved.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Attributes</p></td>
<td><p>DWORD</p></td>
<td><p>Signal attributes as bitfields:</p>
<ul class="simple">
<li><p>0x00000001 - Signal is active-high (for button, a GPIO value
of 1 means the button is pressed; for switches, a GPIO value
of 1 means the switch is enabled). If this bit is 0, the signal
is active low. Set to 0 for debug header GPIOs.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Controller Offset</p></td>
<td><p>DWORD</p></td>
<td><p>GPIO number on the specified controller.</p></td>
</tr>
<tr class="row-odd"><td><p>Controller Name</p></td>
<td><p>ASCIIZ</p></td>
<td><p>Name of the controller for the GPIO.
Currently supported names:
“NM10” - Intel NM10 chip</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="vbnv-chrome-os-nvram-locations">
<h2>VBNV (Chrome OS NVRAM locations)<a class="headerlink" href="#vbnv-chrome-os-nvram-locations" title="Permalink to this headline">¶</a></h2>
<p>This control method returns information about the NVRAM (CMOS) locations used to
communicate with the BIOS.</p>
<section id="id11">
<h3>Arguments:<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id12">
<h3>Result code:<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Package {
        NV Storage Block Offset  //DWORD
        NV Storage Block Size    //DWORD
}
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NV Storage Block Offset</p></td>
<td><p>DWORD</p></td>
<td><p>Offset in CMOS bank 0 of the verified boot non-volatile storage block, counting from
the first writable CMOS byte (that is, offset=0 is the byte following the 14 bytes of
clock data).</p></td>
</tr>
<tr class="row-odd"><td><p>NV Storage Block Size</p></td>
<td><p>DWORD</p></td>
<td><p>Size in bytes of the verified boot non-volatile storage block.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="fmap-chrome-os-flashmap-address">
<h2>FMAP (Chrome OS flashmap address)<a class="headerlink" href="#fmap-chrome-os-flashmap-address" title="Permalink to this headline">¶</a></h2>
<p>This control method returns the physical memory address of the start of the main processor
firmware flashmap.</p>
<section id="id13">
<h3>Arguments:<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="noneresult-code">
<h3>NoneResult code:<a class="headerlink" href="#noneresult-code" title="Permalink to this headline">¶</a></h3>
<p>A DWORD containing the physical memory address of the start of the main processor firmware
flashmap.</p>
</section>
</section>
<section id="vdta-chrome-os-verified-boot-data">
<h2>VDTA (Chrome OS verified boot data)<a class="headerlink" href="#vdta-chrome-os-verified-boot-data" title="Permalink to this headline">¶</a></h2>
<p>This control method returns the verified boot data block shared between the firmware
verification step and the kernel verification step.</p>
<section id="id14">
<h3>Arguments:<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id15">
<h3>Result code:<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>A buffer containing the verified boot data block.</p>
</section>
</section>
<section id="meck-management-engine-checksum">
<h2>MECK (Management Engine Checksum)<a class="headerlink" href="#meck-management-engine-checksum" title="Permalink to this headline">¶</a></h2>
<p>This control method returns the SHA-1 or SHA-256 hash that is read out of the Management
Engine extended registers during boot. The hash is exported via ACPI so the OS can verify that
the ME firmware has not changed. If Management Engine is not present, or if the firmware was
unable to read the extended registers, this buffer can be zero.</p>
<section id="id16">
<h3>Arguments:<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id17">
<h3>Result code:<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p>A buffer containing the ME hash.</p>
</section>
</section>
<section id="mlst-chrome-os-method-list">
<h2>MLST (Chrome OS method list)<a class="headerlink" href="#mlst-chrome-os-method-list" title="Permalink to this headline">¶</a></h2>
<p>This control method returns a list of the other control methods supported by the Chrome OS
hardware device.</p>
<section id="id18">
<h3>Arguments:<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</section>
<section id="id19">
<h3>Result code:<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<p>A package containing a list of null-terminated ASCII strings, one for each control method
supported by the Chrome OS hardware device, not including the MLST method itself.
For this version of the specification, the result is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Package {
        &quot;CHSW&quot;,
        &quot;FWID&quot;,
        &quot;HWID&quot;,
        &quot;FRID&quot;,
        &quot;BINF&quot;,
        &quot;GPIO&quot;,
        &quot;VBNV&quot;,
        &quot;FMAP&quot;,
        &quot;VDTA&quot;,
        &quot;MECK&quot;
}
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Chrome OS ACPI Device</a><ul>
<li><a class="reference internal" href="#chsw-chrome-os-switch-positions">CHSW (Chrome OS switch positions)</a><ul>
<li><a class="reference internal" href="#arguments">Arguments:</a></li>
<li><a class="reference internal" href="#result-code">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hwid-chrome-os-hardware-id">HWID (Chrome OS hardware ID)</a><ul>
<li><a class="reference internal" href="#id1">Arguments:</a></li>
<li><a class="reference internal" href="#id2">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fwid-chrome-os-firmware-version">FWID (Chrome OS firmware version)</a><ul>
<li><a class="reference internal" href="#id3">Arguments:</a></li>
<li><a class="reference internal" href="#id4">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#frid-chrome-os-read-only-firmware-version">FRID (Chrome OS read-only firmware version)</a><ul>
<li><a class="reference internal" href="#id5">Arguments:</a></li>
<li><a class="reference internal" href="#id6">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#binf-chrome-os-boot-information">BINF (Chrome OS boot information)</a><ul>
<li><a class="reference internal" href="#id7">Arguments:</a></li>
<li><a class="reference internal" href="#id8">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gpio-chrome-os-gpio-assignments">GPIO (Chrome OS GPIO assignments)</a><ul>
<li><a class="reference internal" href="#id9">Arguments:</a></li>
<li><a class="reference internal" href="#id10">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vbnv-chrome-os-nvram-locations">VBNV (Chrome OS NVRAM locations)</a><ul>
<li><a class="reference internal" href="#id11">Arguments:</a></li>
<li><a class="reference internal" href="#id12">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fmap-chrome-os-flashmap-address">FMAP (Chrome OS flashmap address)</a><ul>
<li><a class="reference internal" href="#id13">Arguments:</a></li>
<li><a class="reference internal" href="#noneresult-code">NoneResult code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vdta-chrome-os-verified-boot-data">VDTA (Chrome OS verified boot data)</a><ul>
<li><a class="reference internal" href="#id14">Arguments:</a></li>
<li><a class="reference internal" href="#id15">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#meck-management-engine-checksum">MECK (Management Engine Checksum)</a><ul>
<li><a class="reference internal" href="#id16">Arguments:</a></li>
<li><a class="reference internal" href="#id17">Result code:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mlst-chrome-os-method-list">MLST (Chrome OS method list)</a><ul>
<li><a class="reference internal" href="#id18">Arguments:</a></li>
<li><a class="reference internal" href="#id19">Result code:</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/firmware-guide/acpi/chromeos-acpi-device.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/firmware-guide/acpi/chromeos-acpi-device.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>