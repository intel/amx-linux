
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>9.1.15. The Zoran driver &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="9.1.16. MIPI CCS camera sensor driver" href="ccs/ccs.html" />
    <link rel="prev" title="9.1.14. The Virtual Media Controller Driver (vimc)" href="vimc-devel.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="the-zoran-driver">
<h1><span class="section-number">9.1.15. </span>The Zoran driver<a class="headerlink" href="#the-zoran-driver" title="Permalink to this headline">¶</a></h1>
<p>unified zoran driver (zr360x7, zoran, buz, dc10(+), dc30(+), lml33)</p>
<p>website: <a class="reference external" href="http://mjpeg.sourceforge.net/driver-zoran/">http://mjpeg.sourceforge.net/driver-zoran/</a></p>
<section id="frequently-asked-questions">
<h2><span class="section-number">9.1.15.1. </span>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h2>
</section>
<section id="what-cards-are-supported">
<h2><span class="section-number">9.1.15.2. </span>What cards are supported<a class="headerlink" href="#what-cards-are-supported" title="Permalink to this headline">¶</a></h2>
<p>Iomega Buz, Linux Media Labs LML33/LML33R10, Pinnacle/Miro
DC10/DC10+/DC30/DC30+ and related boards (available under various names).</p>
<section id="iomega-buz">
<h3><span class="section-number">9.1.15.2.1. </span>Iomega Buz<a class="headerlink" href="#iomega-buz" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36067 PCI controller</p></li>
<li><p>Zoran zr36060 MJPEG codec</p></li>
<li><p>Philips saa7111 TV decoder</p></li>
<li><p>Philips saa7185 TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, saa7111, saa7185, zr36060, zr36067</p>
<p>Inputs/outputs: Composite and S-video</p>
<p>Norms: PAL, SECAM (720x576 &#64; 25 fps), NTSC (720x480 &#64; 29.97 fps)</p>
<p>Card number: 7</p>
</section>
<section id="avermedia-6-eyes-avs6eyes">
<h3><span class="section-number">9.1.15.2.2. </span>AverMedia 6 Eyes AVS6EYES<a class="headerlink" href="#avermedia-6-eyes-avs6eyes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36067 PCI controller</p></li>
<li><p>Zoran zr36060 MJPEG codec</p></li>
<li><p>Samsung ks0127 TV decoder</p></li>
<li><p>Conexant bt866  TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, ks0127, bt866, zr36060, zr36067</p>
<dl class="simple">
<dt>Inputs/outputs:</dt><dd><p>Six physical inputs. 1-6 are composite,
1-2, 3-4, 5-6 doubles as S-video,
1-3 triples as component.
One composite output.</p>
</dd>
</dl>
<p>Norms: PAL, SECAM (720x576 &#64; 25 fps), NTSC (720x480 &#64; 29.97 fps)</p>
<p>Card number: 8</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not autodetected, card=8 is necessary.</p>
</div>
</section>
<section id="linux-media-labs-lml33">
<h3><span class="section-number">9.1.15.2.3. </span>Linux Media Labs LML33<a class="headerlink" href="#linux-media-labs-lml33" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36067 PCI controller</p></li>
<li><p>Zoran zr36060 MJPEG codec</p></li>
<li><p>Brooktree bt819 TV decoder</p></li>
<li><p>Brooktree bt856 TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, bt819, bt856, zr36060, zr36067</p>
<p>Inputs/outputs: Composite and S-video</p>
<p>Norms: PAL (720x576 &#64; 25 fps), NTSC (720x480 &#64; 29.97 fps)</p>
<p>Card number: 5</p>
</section>
<section id="linux-media-labs-lml33r10">
<h3><span class="section-number">9.1.15.2.4. </span>Linux Media Labs LML33R10<a class="headerlink" href="#linux-media-labs-lml33r10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36067 PCI controller</p></li>
<li><p>Zoran zr36060 MJPEG codec</p></li>
<li><p>Philips saa7114 TV decoder</p></li>
<li><p>Analog Devices adv7170 TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, saa7114, adv7170, zr36060, zr36067</p>
<p>Inputs/outputs: Composite and S-video</p>
<p>Norms: PAL (720x576 &#64; 25 fps), NTSC (720x480 &#64; 29.97 fps)</p>
<p>Card number: 6</p>
</section>
<section id="pinnacle-miro-dc10-new">
<h3><span class="section-number">9.1.15.2.5. </span>Pinnacle/Miro DC10(new)<a class="headerlink" href="#pinnacle-miro-dc10-new" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36057 PCI controller</p></li>
<li><p>Zoran zr36060 MJPEG codec</p></li>
<li><p>Philips saa7110a TV decoder</p></li>
<li><p>Analog Devices adv7176 TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, saa7110, adv7175, zr36060, zr36067</p>
<p>Inputs/outputs: Composite, S-video and Internal</p>
<p>Norms: PAL, SECAM (768x576 &#64; 25 fps), NTSC (640x480 &#64; 29.97 fps)</p>
<p>Card number: 1</p>
</section>
<section id="pinnacle-miro-dc10">
<h3><span class="section-number">9.1.15.2.6. </span>Pinnacle/Miro DC10+<a class="headerlink" href="#pinnacle-miro-dc10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36067 PCI controller</p></li>
<li><p>Zoran zr36060 MJPEG codec</p></li>
<li><p>Philips saa7110a TV decoder</p></li>
<li><p>Analog Devices adv7176 TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, saa7110, adv7175, zr36060, zr36067</p>
<p>Inputs/outputs: Composite, S-video and Internal</p>
<p>Norms: PAL, SECAM (768x576 &#64; 25 fps), NTSC (640x480 &#64; 29.97 fps)</p>
<p>Card number: 2</p>
</section>
<section id="pinnacle-miro-dc10-old">
<h3><span class="section-number">9.1.15.2.7. </span>Pinnacle/Miro DC10(old)<a class="headerlink" href="#pinnacle-miro-dc10-old" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36057 PCI controller</p></li>
<li><p>Zoran zr36050 MJPEG codec</p></li>
<li><p>Zoran zr36016 Video Front End or Fuji md0211 Video Front End (clone?)</p></li>
<li><p>Micronas vpx3220a TV decoder</p></li>
<li><p>mse3000 TV encoder or Analog Devices adv7176 TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, vpx3220, mse3000/adv7175, zr36050, zr36016, zr36067</p>
<p>Inputs/outputs: Composite, S-video and Internal</p>
<p>Norms: PAL, SECAM (768x576 &#64; 25 fps), NTSC (640x480 &#64; 29.97 fps)</p>
<p>Card number: 0</p>
</section>
<section id="pinnacle-miro-dc30">
<h3><span class="section-number">9.1.15.2.8. </span>Pinnacle/Miro DC30<a class="headerlink" href="#pinnacle-miro-dc30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36057 PCI controller</p></li>
<li><p>Zoran zr36050 MJPEG codec</p></li>
<li><p>Zoran zr36016 Video Front End</p></li>
<li><p>Micronas vpx3225d/vpx3220a/vpx3216b TV decoder</p></li>
<li><p>Analog Devices adv7176 TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, vpx3220/vpx3224, adv7175, zr36050, zr36016, zr36067</p>
<p>Inputs/outputs: Composite, S-video and Internal</p>
<p>Norms: PAL, SECAM (768x576 &#64; 25 fps), NTSC (640x480 &#64; 29.97 fps)</p>
<p>Card number: 3</p>
</section>
<section id="id1">
<h3><span class="section-number">9.1.15.2.9. </span>Pinnacle/Miro DC30+<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Zoran zr36067 PCI controller</p></li>
<li><p>Zoran zr36050 MJPEG codec</p></li>
<li><p>Zoran zr36016 Video Front End</p></li>
<li><p>Micronas vpx3225d/vpx3220a/vpx3216b TV decoder</p></li>
<li><p>Analog Devices adv7176 TV encoder</p></li>
</ul>
<p>Drivers to use: videodev, i2c-core, i2c-algo-bit,
videocodec, vpx3220/vpx3224, adv7175, zr36050, zr36015, zr36067</p>
<p>Inputs/outputs: Composite, S-video and Internal</p>
<p>Norms: PAL, SECAM (768x576 &#64; 25 fps), NTSC (640x480 &#64; 29.97 fps)</p>
<p>Card number: 4</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>No module for the mse3000 is available yet</p></li>
<li><p>No module for the vpx3224 is available yet</p></li>
</ol>
</div>
</section>
</section>
<section id="what-the-tv-decoder-can-do-an-what-not">
<h2><span class="section-number">9.1.15.3. </span>1.1 What the TV decoder can do an what not<a class="headerlink" href="#what-the-tv-decoder-can-do-an-what-not" title="Permalink to this headline">¶</a></h2>
<p>The best know TV standards are NTSC/PAL/SECAM. but for decoding a frame that
information is not enough. There are several formats of the TV standards.
And not every TV decoder is able to handle every format. Also the every
combination is supported by the driver. There are currently 11 different
tv broadcast formats all aver the world.</p>
<p>The CCIR defines parameters needed for broadcasting the signal.
The CCIR has defined different standards: A,B,D,E,F,G,D,H,I,K,K1,L,M,N,…
The CCIR says not much about the colorsystem used !!!
And talking about a colorsystem says not to much about how it is broadcast.</p>
<p>The CCIR standards A,E,F are not used any more.</p>
<p>When you speak about NTSC, you usually mean the standard: CCIR - M using
the NTSC colorsystem which is used in the USA, Japan, Mexico, Canada
and a few others.</p>
<p>When you talk about PAL, you usually mean: CCIR - B/G using the PAL
colorsystem which is used in many Countries.</p>
<p>When you talk about SECAM, you mean: CCIR - L using the SECAM Colorsystem
which is used in France, and a few others.</p>
<p>There the other version of SECAM, CCIR - D/K is used in Bulgaria, China,
Slovakai, Hungary, Korea (Rep.), Poland, Rumania and a others.</p>
<p>The CCIR - H uses the PAL colorsystem (sometimes SECAM) and is used in
Egypt, Libya, Sri Lanka, Syrain Arab. Rep.</p>
<p>The CCIR - I uses the PAL colorsystem, and is used in Great Britain, Hong Kong,
Ireland, Nigeria, South Africa.</p>
<p>The CCIR - N uses the PAL colorsystem and PAL frame size but the NTSC framerate,
and is used in Argentinia, Uruguay, an a few others</p>
<p>We do not talk about how the audio is broadcast !</p>
<p>A rather good sites about the TV standards are:
<a class="reference external" href="http://www.sony.jp/support/">http://www.sony.jp/support/</a>
<a class="reference external" href="http://info.electronicwerkstatt.de/bereiche/fernsehtechnik/frequenzen_und_normen/Fernsehnormen/">http://info.electronicwerkstatt.de/bereiche/fernsehtechnik/frequenzen_und_normen/Fernsehnormen/</a>
and <a class="reference external" href="http://www.cabl.com/restaurant/channel.html">http://www.cabl.com/restaurant/channel.html</a></p>
<p>Other weird things around: NTSC 4.43 is a modificated NTSC, which is mainly
used in PAL VCR’s that are able to play back NTSC. PAL 60 seems to be the same
as NTSC 4.43 . The Datasheets also talk about NTSC 44, It seems as if it would
be the same as NTSC 4.43.
NTSC Combs seems to be a decoder mode where the decoder uses a comb filter
to split coma and luma instead of a Delay line.</p>
<p>But I did not defiantly find out what NTSC Comb is.</p>
<section id="philips-saa7111-tv-decoder">
<h3><span class="section-number">9.1.15.3.1. </span>Philips saa7111 TV decoder<a class="headerlink" href="#philips-saa7111-tv-decoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 1997, is used in the BUZ and</p></li>
<li><p>can handle: PAL B/G/H/I, PAL N, PAL M, NTSC M, NTSC N, NTSC 4.43 and SECAM</p></li>
</ul>
</section>
<section id="philips-saa7110a-tv-decoder">
<h3><span class="section-number">9.1.15.3.2. </span>Philips saa7110a TV decoder<a class="headerlink" href="#philips-saa7110a-tv-decoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 1995, is used in the Pinnacle/Miro DC10(new), DC10+ and</p></li>
<li><p>can handle: PAL B/G, NTSC M and SECAM</p></li>
</ul>
</section>
<section id="philips-saa7114-tv-decoder">
<h3><span class="section-number">9.1.15.3.3. </span>Philips saa7114 TV decoder<a class="headerlink" href="#philips-saa7114-tv-decoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 2000, is used in the LML33R10 and</p></li>
<li><p>can handle: PAL B/G/D/H/I/N, PAL N, PAL M, NTSC M, NTSC 4.43 and SECAM</p></li>
</ul>
</section>
<section id="brooktree-bt819-tv-decoder">
<h3><span class="section-number">9.1.15.3.4. </span>Brooktree bt819 TV decoder<a class="headerlink" href="#brooktree-bt819-tv-decoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 1996, and is used in the LML33 and</p></li>
<li><p>can handle: PAL B/D/G/H/I, NTSC M</p></li>
</ul>
</section>
<section id="micronas-vpx3220a-tv-decoder">
<h3><span class="section-number">9.1.15.3.5. </span>Micronas vpx3220a TV decoder<a class="headerlink" href="#micronas-vpx3220a-tv-decoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 1996, is used in the DC30 and DC30+ and</p></li>
<li><p>can handle: PAL B/G/H/I, PAL N, PAL M, NTSC M, NTSC 44, PAL 60, SECAM,NTSC Comb</p></li>
</ul>
</section>
<section id="samsung-ks0127-tv-decoder">
<h3><span class="section-number">9.1.15.3.6. </span>Samsung ks0127 TV decoder<a class="headerlink" href="#samsung-ks0127-tv-decoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>is used in the AVS6EYES card and</p></li>
<li><p>can handle: NTSC-M/N/44, PAL-M/N/B/G/H/I/D/K/L and SECAM</p></li>
</ul>
</section>
</section>
<section id="what-the-tv-encoder-can-do-an-what-not">
<h2><span class="section-number">9.1.15.4. </span>What the TV encoder can do an what not<a class="headerlink" href="#what-the-tv-encoder-can-do-an-what-not" title="Permalink to this headline">¶</a></h2>
<p>The TV encoder is doing the “same” as the decoder, but in the other direction.
You feed them digital data and the generate a Composite or SVHS signal.
For information about the colorsystems and TV norm take a look in the
TV decoder section.</p>
<section id="philips-saa7185-tv-encoder">
<h3><span class="section-number">9.1.15.4.1. </span>Philips saa7185 TV Encoder<a class="headerlink" href="#philips-saa7185-tv-encoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 1996, is used in the BUZ</p></li>
<li><p>can generate: PAL B/G, NTSC M</p></li>
</ul>
</section>
<section id="brooktree-bt856-tv-encoder">
<h3><span class="section-number">9.1.15.4.2. </span>Brooktree bt856 TV Encoder<a class="headerlink" href="#brooktree-bt856-tv-encoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 1994, is used in the LML33</p></li>
<li><p>can generate: PAL B/D/G/H/I/N, PAL M, NTSC M, PAL-N (Argentina)</p></li>
</ul>
</section>
<section id="analog-devices-adv7170-tv-encoder">
<h3><span class="section-number">9.1.15.4.3. </span>Analog Devices adv7170 TV Encoder<a class="headerlink" href="#analog-devices-adv7170-tv-encoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 2000, is used in the LML300R10</p></li>
<li><p>can generate: PAL B/D/G/H/I/N, PAL M, NTSC M, PAL 60</p></li>
</ul>
</section>
<section id="analog-devices-adv7175-tv-encoder">
<h3><span class="section-number">9.1.15.4.4. </span>Analog Devices adv7175 TV Encoder<a class="headerlink" href="#analog-devices-adv7175-tv-encoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 1996, is used in the DC10, DC10+, DC10 old, DC30, DC30+</p></li>
<li><p>can generate: PAL B/D/G/H/I/N, PAL M, NTSC M</p></li>
</ul>
</section>
<section id="itt-mse3000-tv-encoder">
<h3><span class="section-number">9.1.15.4.5. </span>ITT mse3000 TV encoder<a class="headerlink" href="#itt-mse3000-tv-encoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>was introduced in 1991, is used in the DC10 old</p></li>
<li><p>can generate: PAL , NTSC , SECAM</p></li>
</ul>
</section>
<section id="conexant-bt866-tv-encoder">
<h3><span class="section-number">9.1.15.4.6. </span>Conexant bt866 TV encoder<a class="headerlink" href="#conexant-bt866-tv-encoder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>is used in AVS6EYES, and</p></li>
<li><p>can generate: NTSC/PAL, PAL-M, PAL-N</p></li>
</ul>
<p>The adv717x, should be able to produce PAL N. But you find nothing PAL N
specific in the registers. Seem that you have to reuse a other standard
to generate PAL N, maybe it would work if you use the PAL M settings.</p>
</section>
</section>
<section id="how-do-i-get-this-damn-thing-to-work">
<h2><span class="section-number">9.1.15.5. </span>How do I get this damn thing to work<a class="headerlink" href="#how-do-i-get-this-damn-thing-to-work" title="Permalink to this headline">¶</a></h2>
<p>Load zr36067.o. If it can’t autodetect your card, use the card=X insmod
option with X being the card number as given in the previous section.
To have more than one card, use card=X1[,X2[,X3,[X4[..]]]]</p>
<p>To automate this, add the following to your /etc/modprobe.d/zoran.conf:</p>
<p>options zr36067 card=X1[,X2[,X3[,X4[..]]]]
alias char-major-81-0 zr36067</p>
<p>One thing to keep in mind is that this doesn’t load zr36067.o itself yet. It
just automates loading. If you start using xawtv, the device won’t load on
some systems, since you’re trying to load modules as a user, which is not
allowed (“permission denied”). A quick workaround is to add ‘Load “v4l”’ to
XF86Config-4 when you use X by default, or to run ‘v4l-conf -c &lt;device&gt;’ in
one of your startup scripts (normally rc.local) if you don’t use X. Both
make sure that the modules are loaded on startup, under the root account.</p>
</section>
<section id="what-mainboard-should-i-use-or-why-doesn-t-my-card-work">
<h2><span class="section-number">9.1.15.6. </span>What mainboard should I use (or why doesn’t my card work)<a class="headerlink" href="#what-mainboard-should-i-use-or-why-doesn-t-my-card-work" title="Permalink to this headline">¶</a></h2>
<p>&lt;insert lousy disclaimer here&gt;. In short: good=SiS/Intel, bad=VIA.</p>
<p>Experience tells us that people with a Buz, on average, have more problems
than users with a DC10+/LML33. Also, it tells us that people owning a VIA-
based mainboard (ktXXX, MVP3) have more problems than users with a mainboard
based on a different chipset. Here’s some notes from Andrew Stevens:</p>
<p>Here’s my experience of using LML33 and Buz on various motherboards:</p>
<ul class="simple">
<li><dl class="simple">
<dt>VIA MVP3</dt><dd><ul>
<li><p>Forget it. Pointless. Doesn’t work.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Intel 430FX (Pentium 200)</dt><dd><ul>
<li><p>LML33 perfect, Buz tolerable (3 or 4 frames dropped per movie)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Intel 440BX (early stepping)</dt><dd><ul>
<li><p>LML33 tolerable. Buz starting to get annoying (6-10 frames/hour)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Intel 440BX (late stepping)</dt><dd><ul>
<li><p>Buz tolerable, LML3 almost perfect (occasional single frame drops)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SiS735</dt><dd><ul>
<li><p>LML33 perfect, Buz tolerable.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>VIA KT133(*)</dt><dd><ul>
<li><p>LML33 starting to get annoying, Buz poor enough that I have up.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Both 440BX boards were dual CPU versions.</p></li>
</ul>
<p>Bernhard Praschinger later added:</p>
<ul class="simple">
<li><dl class="simple">
<dt>AMD 751</dt><dd><ul>
<li><p>Buz perfect-tolerable</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>AMD 760</dt><dd><ul>
<li><p>Buz perfect-tolerable</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>In general, people on the user mailinglist won’t give you much of a chance
if you have a VIA-based motherboard. They may be cheap, but sometimes, you’d
rather want to spend some more money on better boards. In general, VIA
mainboard’s IDE/PCI performance will also suck badly compared to others.
You’ll noticed the DC10+/DC30+ aren’t mentioned anywhere in the overview.
Basically, you can assume that if the Buz works, the LML33 will work too. If
the LML33 works, the DC10+/DC30+ will work too. They’re most tolerant to
different mainboard chipsets from all of the supported cards.</p>
<p>If you experience timeouts during capture, buy a better mainboard or lower
the quality/buffersize during capture (see ‘Concerning buffer sizes, quality,
output size etc.’). If it hangs, there’s little we can do as of now. Check
your IRQs and make sure the card has its own interrupts.</p>
</section>
<section id="programming-interface">
<h2><span class="section-number">9.1.15.7. </span>Programming interface<a class="headerlink" href="#programming-interface" title="Permalink to this headline">¶</a></h2>
<p>This driver conforms to video4linux2. Support for V4L1 and for the custom
zoran ioctls has been removed in kernel 2.6.38.</p>
<p>For programming example, please, look at lavrec.c and lavplay.c code in
the MJPEG-tools (<a class="reference external" href="http://mjpeg.sf.net/">http://mjpeg.sf.net/</a>).</p>
<p>Additional notes for software developers:</p>
<blockquote>
<div><p>The driver returns maxwidth and maxheight parameters according to
the current TV standard (norm). Therefore, the software which
communicates with the driver and “asks” for these parameters should
first set the correct norm. Well, it seems logically correct: TV
standard is “more constant” for current country than geometry
settings of a variety of TV capture cards which may work in ITU or
square pixel format.</p>
</div></blockquote>
</section>
<section id="applications">
<h2><span class="section-number">9.1.15.8. </span>Applications<a class="headerlink" href="#applications" title="Permalink to this headline">¶</a></h2>
<p>Applications known to work with this driver:</p>
<p>TV viewing:</p>
<ul class="simple">
<li><p>xawtv</p></li>
<li><p>kwintv</p></li>
<li><p>probably any TV application that supports video4linux or video4linux2.</p></li>
</ul>
<p>MJPEG capture/playback:</p>
<ul class="simple">
<li><p>mjpegtools/lavtools (or Linux Video Studio)</p></li>
<li><p>gstreamer</p></li>
<li><p>mplayer</p></li>
</ul>
<p>General raw capture:</p>
<ul class="simple">
<li><p>xawtv</p></li>
<li><p>gstreamer</p></li>
<li><p>probably any application that supports video4linux or video4linux2</p></li>
</ul>
<p>Video editing:</p>
<ul class="simple">
<li><p>Cinelerra</p></li>
<li><p>MainActor</p></li>
<li><p>mjpegtools (or Linux Video Studio)</p></li>
</ul>
</section>
<section id="concerning-buffer-sizes-quality-output-size-etc">
<h2><span class="section-number">9.1.15.9. </span>Concerning buffer sizes, quality, output size etc.<a class="headerlink" href="#concerning-buffer-sizes-quality-output-size-etc" title="Permalink to this headline">¶</a></h2>
<p>The zr36060 can do 1:2 JPEG compression. This is really the theoretical
maximum that the chipset can reach. The driver can, however, limit compression
to a maximum (size) of 1:4. The reason for this is that some cards (e.g. Buz)
can’t handle 1:2 compression without stopping capture after only a few minutes.
With 1:4, it’ll mostly work. If you have a Buz, use ‘low_bitrate=1’ to go into
1:4 max. compression mode.</p>
<p>100% JPEG quality is thus 1:2 compression in practice. So for a full PAL frame
(size 720x576). The JPEG fields are stored in YUY2 format, so the size of the
fields are 720x288x16/2 bits/field (2 fields/frame) = 207360 bytes/field x 2 =
414720 bytes/frame (add some more bytes for headers and DHT (huffman)/DQT
(quantization) tables, and you’ll get to something like 512kB per frame for
1:2 compression. For 1:4 compression, you’d have frames of half this size.</p>
<p>Some additional explanation by Martin Samuelsson, which also explains the
importance of buffer sizes:
–
&gt; Hmm, I do not think it is really that way. With the current (downloaded
&gt; at 18:00 Monday) driver I get that output sizes for 10 sec:
&gt; -q 50 -b 128 : 24.283.332 Bytes
&gt; -q 50 -b 256 : 48.442.368
&gt; -q 25 -b 128 : 24.655.992
&gt; -q 25 -b 256 : 25.859.820</p>
<p>I woke up, and can’t go to sleep again. I’ll kill some time explaining why
this doesn’t look strange to me.</p>
<p>Let’s do some math using a width of 704 pixels. I’m not sure whether the Buz
actually use that number or not, but that’s not too important right now.</p>
<p>704x288 pixels, one field, is 202752 pixels. Divided by 64 pixels per block;
3168 blocks per field. Each pixel consist of two bytes; 128 bytes per block;
1024 bits per block. 100% in the new driver mean 1:2 compression; the maximum
output becomes 512 bits per block. Actually 510, but 512 is simpler to use
for calculations.</p>
<p>Let’s say that we specify d1q50. We thus want 256 bits per block; times 3168
becomes 811008 bits; 101376 bytes per field. We’re talking raw bits and bytes
here, so we don’t need to do any fancy corrections for bits-per-pixel or such
things. 101376 bytes per field.</p>
<p>d1 video contains two fields per frame. Those sum up to 202752 bytes per
frame, and one of those frames goes into each buffer.</p>
<p>But wait a second! -b128 gives 128kB buffers! It’s not possible to cram
202752 bytes of JPEG data into 128kB!</p>
<p>This is what the driver notice and automatically compensate for in your
examples. Let’s do some math using this information:</p>
<p>128kB is 131072 bytes. In this buffer, we want to store two fields, which
leaves 65536 bytes for each field. Using 3168 blocks per field, we get
20.68686868… available bytes per block; 165 bits. We can’t allow the
request for 256 bits per block when there’s only 165 bits available! The -q50
option is silently overridden, and the -b128 option takes precedence, leaving
us with the equivalence of -q32.</p>
<p>This gives us a data rate of 165 bits per block, which, times 3168, sums up
to 65340 bytes per field, out of the allowed 65536. The current driver has
another level of rate limiting; it won’t accept -q values that fill more than
6/8 of the specified buffers. (I’m not sure why. “Playing it safe” seem to be
a safe bet. Personally, I think I would have lowered requested-bits-per-block
by one, or something like that.) We can’t use 165 bits per block, but have to
lower it again, to 6/8 of the available buffer space: We end up with 124 bits
per block, the equivalence of -q24. With 128kB buffers, you can’t use greater
than -q24 at -d1. (And PAL, and 704 pixels width…)</p>
<p>The third example is limited to -q24 through the same process. The second
example, using very similar calculations, is limited to -q48. The only
example that actually grab at the specified -q value is the last one, which
is clearly visible, looking at the file size.
–</p>
<p>Conclusion: the quality of the resulting movie depends on buffer size, quality,
whether or not you use ‘low_bitrate=1’ as insmod option for the zr36060.c
module to do 1:4 instead of 1:2 compression, etc.</p>
<p>If you experience timeouts, lowering the quality/buffersize or using
‘low_bitrate=1 as insmod option for zr36060.o might actually help, as is
proven by the Buz.</p>
</section>
<section id="it-hangs-crashes-fails-whatevers-help">
<h2><span class="section-number">9.1.15.10. </span>It hangs/crashes/fails/whatevers! Help!<a class="headerlink" href="#it-hangs-crashes-fails-whatevers-help" title="Permalink to this headline">¶</a></h2>
<p>Make sure that the card has its own interrupts (see /proc/interrupts), check
the output of dmesg at high verbosity (load zr36067.o with debug=2,
load all other modules with debug=1). Check that your mainboard is favorable
(see question 2) and if not, test the card in another computer. Also see the
notes given in question 3 and try lowering quality/buffersize/capturesize
if recording fails after a period of time.</p>
<p>If all this doesn’t help, give a clear description of the problem including
detailed hardware information (memory+brand, mainboard+chipset+brand, which
MJPEG card, processor, other PCI cards that might be of interest), give the
system PnP information (/proc/interrupts, /proc/dma, /proc/devices), and give
the kernel version, driver version, glibc version, gcc version and any other
information that might possibly be of interest. Also provide the dmesg output
at high verbosity. See ‘Contacting’ on how to contact the developers.</p>
</section>
<section id="maintainers-contacting">
<h2><span class="section-number">9.1.15.11. </span>Maintainers/Contacting<a class="headerlink" href="#maintainers-contacting" title="Permalink to this headline">¶</a></h2>
<p>Previous maintainers/developers of this driver are
- Laurent Pinchart &lt;<a class="reference external" href="mailto:laurent&#46;pinchart&#37;&#52;&#48;skynet&#46;be">laurent<span>&#46;</span>pinchart<span>&#64;</span>skynet<span>&#46;</span>be</a>&gt;
- Ronald Bultje <a class="reference external" href="mailto:rbultje&#37;&#52;&#48;ronald&#46;bitfreak&#46;net">rbultje<span>&#64;</span>ronald<span>&#46;</span>bitfreak<span>&#46;</span>net</a>
- Serguei Miridonov &lt;<a class="reference external" href="mailto:mirsev&#37;&#52;&#48;cicese&#46;mx">mirsev<span>&#64;</span>cicese<span>&#46;</span>mx</a>&gt;
- Wolfgang Scherr &lt;<a class="reference external" href="mailto:scherr&#37;&#52;&#48;net4you&#46;net">scherr<span>&#64;</span>net4you<span>&#46;</span>net</a>&gt;
- Dave Perks &lt;<a class="reference external" href="mailto:dperks&#37;&#52;&#48;ibm&#46;net">dperks<span>&#64;</span>ibm<span>&#46;</span>net</a>&gt;
- Rainer Johanni &lt;<a class="reference external" href="mailto:Rainer&#37;&#52;&#48;Johanni&#46;de">Rainer<span>&#64;</span>Johanni<span>&#46;</span>de</a>&gt;</p>
</section>
<section id="driver-s-license">
<h2><span class="section-number">9.1.15.12. </span>Driver’s License<a class="headerlink" href="#driver-s-license" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>This driver is distributed under the terms of the General Public License.</p>
<p>This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
</div></blockquote>
<p>See <a class="reference external" href="http://www.gnu.org/">http://www.gnu.org/</a> for more information.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">9.1.15. The Zoran driver</a><ul>
<li><a class="reference internal" href="#frequently-asked-questions">9.1.15.1. Frequently Asked Questions</a></li>
<li><a class="reference internal" href="#what-cards-are-supported">9.1.15.2. What cards are supported</a><ul>
<li><a class="reference internal" href="#iomega-buz">9.1.15.2.1. Iomega Buz</a></li>
<li><a class="reference internal" href="#avermedia-6-eyes-avs6eyes">9.1.15.2.2. AverMedia 6 Eyes AVS6EYES</a></li>
<li><a class="reference internal" href="#linux-media-labs-lml33">9.1.15.2.3. Linux Media Labs LML33</a></li>
<li><a class="reference internal" href="#linux-media-labs-lml33r10">9.1.15.2.4. Linux Media Labs LML33R10</a></li>
<li><a class="reference internal" href="#pinnacle-miro-dc10-new">9.1.15.2.5. Pinnacle/Miro DC10(new)</a></li>
<li><a class="reference internal" href="#pinnacle-miro-dc10">9.1.15.2.6. Pinnacle/Miro DC10+</a></li>
<li><a class="reference internal" href="#pinnacle-miro-dc10-old">9.1.15.2.7. Pinnacle/Miro DC10(old)</a></li>
<li><a class="reference internal" href="#pinnacle-miro-dc30">9.1.15.2.8. Pinnacle/Miro DC30</a></li>
<li><a class="reference internal" href="#id1">9.1.15.2.9. Pinnacle/Miro DC30+</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-the-tv-decoder-can-do-an-what-not">9.1.15.3. 1.1 What the TV decoder can do an what not</a><ul>
<li><a class="reference internal" href="#philips-saa7111-tv-decoder">9.1.15.3.1. Philips saa7111 TV decoder</a></li>
<li><a class="reference internal" href="#philips-saa7110a-tv-decoder">9.1.15.3.2. Philips saa7110a TV decoder</a></li>
<li><a class="reference internal" href="#philips-saa7114-tv-decoder">9.1.15.3.3. Philips saa7114 TV decoder</a></li>
<li><a class="reference internal" href="#brooktree-bt819-tv-decoder">9.1.15.3.4. Brooktree bt819 TV decoder</a></li>
<li><a class="reference internal" href="#micronas-vpx3220a-tv-decoder">9.1.15.3.5. Micronas vpx3220a TV decoder</a></li>
<li><a class="reference internal" href="#samsung-ks0127-tv-decoder">9.1.15.3.6. Samsung ks0127 TV decoder</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-the-tv-encoder-can-do-an-what-not">9.1.15.4. What the TV encoder can do an what not</a><ul>
<li><a class="reference internal" href="#philips-saa7185-tv-encoder">9.1.15.4.1. Philips saa7185 TV Encoder</a></li>
<li><a class="reference internal" href="#brooktree-bt856-tv-encoder">9.1.15.4.2. Brooktree bt856 TV Encoder</a></li>
<li><a class="reference internal" href="#analog-devices-adv7170-tv-encoder">9.1.15.4.3. Analog Devices adv7170 TV Encoder</a></li>
<li><a class="reference internal" href="#analog-devices-adv7175-tv-encoder">9.1.15.4.4. Analog Devices adv7175 TV Encoder</a></li>
<li><a class="reference internal" href="#itt-mse3000-tv-encoder">9.1.15.4.5. ITT mse3000 TV encoder</a></li>
<li><a class="reference internal" href="#conexant-bt866-tv-encoder">9.1.15.4.6. Conexant bt866 TV encoder</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-do-i-get-this-damn-thing-to-work">9.1.15.5. How do I get this damn thing to work</a></li>
<li><a class="reference internal" href="#what-mainboard-should-i-use-or-why-doesn-t-my-card-work">9.1.15.6. What mainboard should I use (or why doesn’t my card work)</a></li>
<li><a class="reference internal" href="#programming-interface">9.1.15.7. Programming interface</a></li>
<li><a class="reference internal" href="#applications">9.1.15.8. Applications</a></li>
<li><a class="reference internal" href="#concerning-buffer-sizes-quality-output-size-etc">9.1.15.9. Concerning buffer sizes, quality, output size etc.</a></li>
<li><a class="reference internal" href="#it-hangs-crashes-fails-whatevers-help">9.1.15.10. It hangs/crashes/fails/whatevers! Help!</a></li>
<li><a class="reference internal" href="#maintainers-contacting">9.1.15.11. Maintainers/Contacting</a></li>
<li><a class="reference internal" href="#driver-s-license">9.1.15.12. Driver’s License</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/driver-api/media/drivers/zoran.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/driver-api/media/drivers/zoran.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>