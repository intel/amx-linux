
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Dell Systems Management Base Driver &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="EISA bus support" href="eisa.html" />
    <link rel="prev" title="Console Drivers" href="console.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="dell-systems-management-base-driver">
<h1>Dell Systems Management Base Driver<a class="headerlink" href="#dell-systems-management-base-driver" title="Permalink to this headline">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Dell Systems Management Base Driver provides a sysfs interface for
systems management software such as Dell OpenManage to perform system
management interrupts and host control actions (system power cycle or
power off after OS shutdown) on certain Dell systems.</p>
<p>Dell OpenManage requires this driver on the following Dell PowerEdge systems:
300, 1300, 1400, 400SC, 500SC, 1500SC, 1550, 600SC, 1600SC, 650, 1655MC,
700, and 750.  Other Dell software such as the open source libsmbios project
is expected to make use of this driver, and it may include the use of this
driver on other Dell systems.</p>
<p>The Dell libsmbios project aims towards providing access to as much BIOS
information as possible.  See <a class="reference external" href="http://linux.dell.com/libsmbios/main/">http://linux.dell.com/libsmbios/main/</a> for
more information about the libsmbios project.</p>
</section>
<section id="system-management-interrupt">
<h2>System Management Interrupt<a class="headerlink" href="#system-management-interrupt" title="Permalink to this headline">¶</a></h2>
<p>On some Dell systems, systems management software must access certain
management information via a system management interrupt (SMI).  The SMI data
buffer must reside in 32-bit address space, and the physical address of the
buffer is required for the SMI.  The driver maintains the memory required for
the SMI and provides a way for the application to generate the SMI.
The driver creates the following sysfs entries for systems management
software to perform these system management interrupts:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/sys/devices/platform/dcdbas/smi_data
/sys/devices/platform/dcdbas/smi_data_buf_phys_addr
/sys/devices/platform/dcdbas/smi_data_buf_size
/sys/devices/platform/dcdbas/smi_request
</pre></div>
</div>
<p>Systems management software must perform the following steps to execute
a SMI using this driver:</p>
<ol class="arabic simple">
<li><p>Lock smi_data.</p></li>
<li><p>Write system management command to smi_data.</p></li>
<li><p>Write “1” to smi_request to generate a calling interface SMI or
“2” to generate a raw SMI.</p></li>
<li><p>Read system management command response from smi_data.</p></li>
<li><p>Unlock smi_data.</p></li>
</ol>
</section>
<section id="host-control-action">
<h2>Host Control Action<a class="headerlink" href="#host-control-action" title="Permalink to this headline">¶</a></h2>
<p>Dell OpenManage supports a host control feature that allows the administrator
to perform a power cycle or power off of the system after the OS has finished
shutting down.  On some Dell systems, this host control feature requires that
a driver perform a SMI after the OS has finished shutting down.</p>
<p>The driver creates the following sysfs entries for systems management software
to schedule the driver to perform a power cycle or power off host control
action after the system has finished shutting down:</p>
<p>/sys/devices/platform/dcdbas/host_control_action
/sys/devices/platform/dcdbas/host_control_smi_type
/sys/devices/platform/dcdbas/host_control_on_shutdown</p>
<p>Dell OpenManage performs the following steps to execute a power cycle or
power off host control action using this driver:</p>
<ol class="arabic simple">
<li><p>Write host control action to be performed to host_control_action.</p></li>
<li><p>Write type of SMI that driver needs to perform to host_control_smi_type.</p></li>
<li><p>Write “1” to host_control_on_shutdown to enable host control action.</p></li>
<li><p>Initiate OS shutdown.
(Driver will perform host control SMI when it is notified that the OS
has finished shutting down.)</p></li>
</ol>
</section>
<section id="host-control-smi-type">
<h2>Host Control SMI Type<a class="headerlink" href="#host-control-smi-type" title="Permalink to this headline">¶</a></h2>
<p>The following table shows the value to write to host_control_smi_type to
perform a power cycle or power off host control action:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 48%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>PowerEdge System</p></th>
<th class="head"><p>Host Control SMI Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>300</p></td>
<td><p>HC_SMITYPE_TYPE1</p></td>
</tr>
<tr class="row-odd"><td><p>1300</p></td>
<td><p>HC_SMITYPE_TYPE1</p></td>
</tr>
<tr class="row-even"><td><p>1400</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>500SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>1500SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1550</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>600SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1600SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>650</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1655MC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>700</p></td>
<td><p>HC_SMITYPE_TYPE3</p></td>
</tr>
<tr class="row-odd"><td><p>750</p></td>
<td><p>HC_SMITYPE_TYPE3</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Dell Systems Management Base Driver</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#system-management-interrupt">System Management Interrupt</a></li>
<li><a class="reference internal" href="#host-control-action">Host Control Action</a></li>
<li><a class="reference internal" href="#host-control-smi-type">Host Control SMI Type</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/driver-api/dcdbas.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/driver-api/dcdbas.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>