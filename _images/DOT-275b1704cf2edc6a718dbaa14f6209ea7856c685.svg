<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: encoder_state_machine Pages: 1 -->
<svg width="1206pt" height="667pt"
 viewBox="0.00 0.00 1205.74 666.66" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 662.6644)">
<title>encoder_state_machine</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-662.6644 1201.7375,-662.6644 1201.7375,4 -4,4"/>
<!-- Encoding -->
<g id="node1" class="node">
<title>Encoding</title>
<ellipse fill="none" stroke="#000000" cx="548.7375" cy="-610.4683" rx="44.3766" ry="44.3766"/>
<ellipse fill="none" stroke="#000000" cx="548.7375" cy="-610.4683" rx="48.393" ry="48.393"/>
<text text-anchor="middle" x="548.7375" y="-606.7683" font-family="Times,serif" font-size="14.00" fill="#000000">Encoding</text>
</g>
<!-- Encoding&#45;&gt;Encoding -->
<g id="edge6" class="edge">
<title>Encoding&#45;&gt;Encoding</title>
<path fill="none" stroke="#000000" d="M595.1362,-623.7573C606.4867,-622.773 614.9336,-618.3433 614.9336,-610.4683 614.9336,-605.1773 611.1205,-601.4415 605.1757,-599.261"/>
<polygon fill="#000000" stroke="#000000" points="605.6386,-595.7826 595.1362,-597.1792 604.2172,-602.6368 605.6386,-595.7826"/>
</g>
<!-- Stopped -->
<g id="node3" class="node">
<title>Stopped</title>
<ellipse fill="none" stroke="#000000" cx="230.7375" cy="-314.5311" rx="39.7935" ry="39.7935"/>
<text text-anchor="middle" x="230.7375" y="-310.8311" font-family="Times,serif" font-size="14.00" fill="#000000">Stopped</text>
</g>
<!-- Encoding&#45;&gt;Stopped -->
<g id="edge5" class="edge">
<title>Encoding&#45;&gt;Stopped</title>
<path fill="none" stroke="#000000" d="M501.1509,-602.493C421.0966,-588.0047 265.0324,-554.7931 232.7375,-511.2722 201.2674,-468.8626 207.0791,-405.9206 216.6197,-362.7143"/>
<polygon fill="#000000" stroke="#000000" points="220.0868,-363.2599 218.9689,-352.7242 213.2727,-361.6575 220.0868,-363.2599"/>
<text text-anchor="middle" x="331.2375" y="-477.0249" font-family="Times,serif" font-size="14.00" fill="#000000">VIDIOC_STREAMOFF(OUTPUT)</text>
</g>
<!-- Drain -->
<g id="node4" class="node">
<title>Drain</title>
<ellipse fill="none" stroke="#000000" cx="469.7375" cy="-480.7249" rx="30.5947" ry="30.5947"/>
<text text-anchor="middle" x="469.7375" y="-477.0249" font-family="Times,serif" font-size="14.00" fill="#000000">Drain</text>
</g>
<!-- Encoding&#45;&gt;Drain -->
<g id="edge3" class="edge">
<title>Encoding&#45;&gt;Drain</title>
<path fill="none" stroke="#000000" d="M507.2432,-585.8337C492.9813,-575.0295 478.6287,-560.9731 470.7375,-544.2722 467.3944,-537.1968 465.8269,-529.1645 465.3077,-521.2484"/>
<polygon fill="#000000" stroke="#000000" points="468.8041,-520.9505 465.168,-510.9992 461.8047,-521.0461 468.8041,-520.9505"/>
<text text-anchor="middle" x="542.7375" y="-533.0722" font-family="Times,serif" font-size="14.00" fill="#000000">V4L2_ENC_CMD_STOP</text>
</g>
<!-- Reset -->
<g id="node5" class="node">
<title>Reset</title>
<ellipse fill="none" stroke="#000000" cx="701.7375" cy="-193.3374" rx="30.5947" ry="30.5947"/>
<text text-anchor="middle" x="701.7375" y="-189.6374" font-family="Times,serif" font-size="14.00" fill="#000000">Reset</text>
</g>
<!-- Encoding&#45;&gt;Reset -->
<g id="edge4" class="edge">
<title>Encoding&#45;&gt;Reset</title>
<path fill="none" stroke="#000000" d="M587.1928,-580.7765C597.9205,-570.4344 608.3715,-557.9565 614.7375,-544.2722 647.1217,-474.6598 581.5561,-431.9536 629.7375,-372.1776 646.6756,-351.1635 670.8007,-375.1928 687.7375,-354.1776 714.8717,-320.5097 714.3867,-269.01 709.7165,-233.3969"/>
<polygon fill="#000000" stroke="#000000" points="713.156,-232.7294 708.2337,-223.3474 706.231,-233.7512 713.156,-232.7294"/>
<text text-anchor="middle" x="732.2375" y="-398.4776" font-family="Times,serif" font-size="14.00" fill="#000000">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Initialization -->
<g id="node2" class="node">
<title>Initialization</title>
<ellipse fill="none" stroke="#000000" cx="1071.7375" cy="-55.895" rx="55.7903" ry="55.7903"/>
<text text-anchor="middle" x="1071.7375" y="-52.195" font-family="Times,serif" font-size="14.00" fill="#000000">Initialization</text>
</g>
<!-- Initialization&#45;&gt;Encoding -->
<g id="edge2" class="edge">
<title>Initialization&#45;&gt;Encoding</title>
<path fill="none" stroke="#000000" d="M1071.7375,-112.0665C1071.7375,-136.9645 1071.7375,-166.6125 1071.7375,-193.3374 1071.7375,-480.7249 1071.7375,-480.7249 1071.7375,-480.7249 1071.7375,-575.5475 743.786,-601.5524 607.273,-608.2697"/>
<polygon fill="#000000" stroke="#000000" points="606.8258,-604.7868 597.0027,-608.7563 607.1571,-611.779 606.8258,-604.7868"/>
<text text-anchor="middle" x="1134.7375" y="-310.8311" font-family="Times,serif" font-size="14.00" fill="#000000">Both queues streaming</text>
</g>
<!-- Stopped&#45;&gt;Encoding -->
<g id="edge11" class="edge">
<title>Stopped&#45;&gt;Encoding</title>
<path fill="none" stroke="#000000" d="M193.1996,-328.1306C115.6883,-358.2045 -49.6298,-433.8468 14.7375,-511.2722 74.7624,-583.4742 364.5641,-603.3711 490.3136,-608.6473"/>
<polygon fill="#000000" stroke="#000000" points="490.3885,-612.1531 500.5213,-609.0585 490.6703,-605.1588 490.3885,-612.1531"/>
<text text-anchor="middle" x="110.7375" y="-492.0249" font-family="Times,serif" font-size="14.00" fill="#000000">V4L2_ENC_CMD_START</text>
<text text-anchor="middle" x="110.7375" y="-477.0249" font-family="Times,serif" font-size="14.00" fill="#000000">or</text>
<text text-anchor="middle" x="110.7375" y="-462.0249" font-family="Times,serif" font-size="14.00" fill="#000000">VIDIOC_STREAMON(OUTPUT)</text>
</g>
<!-- Stopped&#45;&gt;Reset -->
<g id="edge12" class="edge">
<title>Stopped&#45;&gt;Reset</title>
<path fill="none" stroke="#000000" d="M232.5327,-274.8204C235.1076,-262.5653 240.1559,-250.1368 249.7375,-241.8847 280.5968,-215.307 555.5422,-200.0271 660.9017,-195.1047"/>
<polygon fill="#000000" stroke="#000000" points="661.3113,-198.5897 671.1401,-194.6342 660.9899,-191.597 661.3113,-198.5897"/>
<text text-anchor="middle" x="352.2375" y="-245.6847" font-family="Times,serif" font-size="14.00" fill="#000000">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Drain&#45;&gt;Stopped -->
<g id="edge7" class="edge">
<title>Drain&#45;&gt;Stopped</title>
<path fill="none" stroke="#000000" d="M445.7043,-461.2708C439.2351,-456.9394 432.006,-452.8462 424.7375,-450.1776 389.6985,-437.313 285.6442,-456.9658 257.7375,-432.1776 247.4117,-423.0057 240.5611,-392.0891 236.3446,-364.2518"/>
<polygon fill="#000000" stroke="#000000" points="239.7853,-363.5871 234.9088,-354.1812 232.8554,-364.5752 239.7853,-363.5871"/>
<text text-anchor="middle" x="356.2375" y="-420.9776" font-family="Times,serif" font-size="14.00" fill="#000000">All CAPTURE</text>
<text text-anchor="middle" x="356.2375" y="-405.9776" font-family="Times,serif" font-size="14.00" fill="#000000">buffers dequeued</text>
<text text-anchor="middle" x="356.2375" y="-390.9776" font-family="Times,serif" font-size="14.00" fill="#000000">or</text>
<text text-anchor="middle" x="356.2375" y="-375.9776" font-family="Times,serif" font-size="14.00" fill="#000000">VIDIOC_STREAMOFF(OUTPUT)</text>
</g>
<!-- Drain&#45;&gt;Reset -->
<g id="edge8" class="edge">
<title>Drain&#45;&gt;Reset</title>
<path fill="none" stroke="#000000" d="M467.7331,-450.1877C465.0539,-399.7294 462.7249,-301.8364 482.7375,-274.8847 504.6417,-245.3855 605.1785,-216.8075 662.1148,-202.6141"/>
<polygon fill="#000000" stroke="#000000" points="662.9967,-206.0015 671.8724,-200.2159 661.326,-199.2038 662.9967,-206.0015"/>
<text text-anchor="middle" x="585.2375" y="-310.8311" font-family="Times,serif" font-size="14.00" fill="#000000">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Reset&#45;&gt;Encoding -->
<g id="edge9" class="edge">
<title>Reset&#45;&gt;Encoding</title>
<path fill="none" stroke="#000000" d="M726.1473,-211.9087C775.8398,-252.0706 880.3399,-350.0116 834.7375,-432.1776 785.8892,-520.192 673.5321,-570.43 605.0865,-593.916"/>
<polygon fill="#000000" stroke="#000000" points="603.6894,-590.6928 595.3193,-597.1884 605.9132,-597.3302 603.6894,-590.6928"/>
<text text-anchor="middle" x="945.7375" y="-398.4776" font-family="Times,serif" font-size="14.00" fill="#000000">VIDIOC_STREAMON(CAPTURE)</text>
</g>
<!-- Reset&#45;&gt;Initialization -->
<g id="edge10" class="edge">
<title>Reset&#45;&gt;Initialization</title>
<path fill="none" stroke="#000000" d="M730.3905,-181.9824C763.0573,-169.0956 818.1031,-147.5592 865.7375,-129.7901 913.6899,-111.9024 968.2129,-92.3801 1009.1158,-77.8959"/>
<polygon fill="#000000" stroke="#000000" points="1010.4197,-81.1473 1018.6802,-74.5129 1008.0854,-74.5479 1010.4197,-81.1473"/>
<text text-anchor="middle" x="961.7375" y="-133.5901" font-family="Times,serif" font-size="14.00" fill="#000000">VIDIOC_REQBUFS(OUTPUT, 0)</text>
</g>
<!-- qi -->
<g id="node6" class="node">
<title>qi</title>
<ellipse fill="#000000" stroke="#000000" cx="1104.7375" cy="-193.3374" rx="1.8" ry="1.8"/>
</g>
<!-- qi&#45;&gt;Initialization -->
<g id="edge1" class="edge">
<title>qi&#45;&gt;Initialization</title>
<path fill="none" stroke="#000000" d="M1104.271,-191.3944C1102.3271,-183.298 1094.6255,-151.2218 1087.204,-120.3115"/>
<polygon fill="#000000" stroke="#000000" points="1090.5498,-119.255 1084.8118,-110.3485 1083.7433,-120.8893 1090.5498,-119.255"/>
<text text-anchor="middle" x="1109.7375" y="-133.5901" font-family="Times,serif" font-size="14.00" fill="#000000">open()</text>
</g>
</g>
</svg>
