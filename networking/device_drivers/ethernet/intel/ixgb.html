
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Linux Base Driver for 10 Gigabit Intel(R) Ethernet Network Connection &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Linux Base Driver for the Intel(R) Ethernet 10 Gigabit PCI Express Adapters" href="ixgbe.html" />
    <link rel="prev" title="Linux Base Virtual Function Driver for Intel(R) 1G Ethernet" href="igbvf.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="linux-base-driver-for-10-gigabit-intel-r-ethernet-network-connection">
<h1>Linux Base Driver for 10 Gigabit Intel(R) Ethernet Network Connection<a class="headerlink" href="#linux-base-driver-for-10-gigabit-intel-r-ethernet-network-connection" title="Permalink to this headline">¶</a></h1>
<p>October 1, 2018</p>
<section id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>In This Release</p></li>
<li><p>Identifying Your Adapter</p></li>
<li><p>Command Line Parameters</p></li>
<li><p>Improving Performance</p></li>
<li><p>Additional Configurations</p></li>
<li><p>Known Issues/Troubleshooting</p></li>
<li><p>Support</p></li>
</ul>
</section>
<section id="in-this-release">
<h2>In This Release<a class="headerlink" href="#in-this-release" title="Permalink to this headline">¶</a></h2>
<p>This file describes the ixgb Linux Base Driver for the 10 Gigabit Intel(R)
Network Connection.  This driver includes support for Itanium(R)2-based
systems.</p>
<p>For questions related to hardware requirements, refer to the documentation
supplied with your 10 Gigabit adapter.  All hardware requirements listed apply
to use with Linux.</p>
<dl class="simple">
<dt>The following features are available in this kernel:</dt><dd><ul class="simple">
<li><p>Native VLANs</p></li>
<li><p>Channel Bonding (teaming)</p></li>
<li><p>SNMP</p></li>
</ul>
</dd>
</dl>
<p>Channel Bonding documentation can be found in the Linux kernel source:
/Documentation/networking/bonding.rst</p>
<p>The driver information previously displayed in the /proc filesystem is not
supported in this release.  Alternatively, you can use ethtool (version 1.6
or later), lspci, and iproute2 to obtain the same information.</p>
<p>Instructions on updating ethtool can be found in the section “Additional
Configurations” later in this document.</p>
</section>
<section id="identifying-your-adapter">
<h2>Identifying Your Adapter<a class="headerlink" href="#identifying-your-adapter" title="Permalink to this headline">¶</a></h2>
<p>The following Intel network adapters are compatible with the drivers in this
release:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 39%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Controller</p></th>
<th class="head"><p>Adapter Name</p></th>
<th class="head"><p>Physical Layer</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>82597EX</p></td>
<td><p>Intel(R) PRO/10GbE LR/SR/CX4
Server Adapters</p></td>
<td><ul class="simple">
<li><p>10G Base-LR (fiber)</p></li>
<li><p>10G Base-SR (fiber)</p></li>
<li><p>10G Base-CX4 (copper)</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>For more information on how to identify your adapter, go to the Adapter &amp;
Driver ID Guide at:</p>
<blockquote>
<div><p><a class="reference external" href="https://support.intel.com">https://support.intel.com</a></p>
</div></blockquote>
</section>
<section id="command-line-parameters">
<h2>Command Line Parameters<a class="headerlink" href="#command-line-parameters" title="Permalink to this headline">¶</a></h2>
<p>If the driver is built as a module, the  following optional parameters are
used by entering them on the command line with the modprobe command using
this syntax:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>modprobe ixgb [&lt;option&gt;=&lt;VAL1&gt;,&lt;VAL2&gt;,...]
</pre></div>
</div>
<p>For example, with two 10GbE PCI adapters, entering:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>modprobe ixgb TxDescriptors=80,128
</pre></div>
</div>
<p>loads the ixgb driver with 80 TX resources for the first adapter and 128 TX
resources for the second adapter.</p>
<p>The default value for each parameter is generally the recommended setting,
unless otherwise noted.</p>
<section id="copybreak">
<h3>Copybreak<a class="headerlink" href="#copybreak" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>0-XXXX</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>256</p>
<p>This is the maximum size of packet that is copied to a new buffer on
receive.</p>
</dd>
</dl>
</section>
<section id="debug">
<h3>Debug<a class="headerlink" href="#debug" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>0-16 (0=none,…,16=all)</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>0</p>
<p>This parameter adjusts the level of debug messages displayed in the
system logs.</p>
</dd>
</dl>
</section>
<section id="flowcontrol">
<h3>FlowControl<a class="headerlink" href="#flowcontrol" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>0-3 (0=none, 1=Rx only, 2=Tx only, 3=Rx&amp;Tx)</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>1 if no EEPROM, otherwise read from EEPROM</p>
<p>This parameter controls the automatic generation(Tx) and response(Rx) to
Ethernet PAUSE frames.  There are hardware bugs associated with enabling
Tx flow control so beware.</p>
</dd>
</dl>
</section>
<section id="rxdescriptors">
<h3>RxDescriptors<a class="headerlink" href="#rxdescriptors" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>64-4096</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>1024</p>
<p>This value is the number of receive descriptors allocated by the driver.
Increasing this value allows the driver to buffer more incoming packets.
Each descriptor is 16 bytes.  A receive buffer is also allocated for
each descriptor and can be either 2048, 4056, 8192, or 16384 bytes,
depending on the MTU setting.  When the MTU size is 1500 or less, the
receive buffer size is 2048 bytes. When the MTU is greater than 1500 the
receive buffer size will be either 4056, 8192, or 16384 bytes.  The
maximum MTU size is 16114.</p>
</dd>
</dl>
</section>
<section id="txdescriptors">
<h3>TxDescriptors<a class="headerlink" href="#txdescriptors" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>64-4096</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>256</p>
<p>This value is the number of transmit descriptors allocated by the driver.
Increasing this value allows the driver to queue more transmits.  Each
descriptor is 16 bytes.</p>
</dd>
</dl>
</section>
<section id="rxintdelay">
<h3>RxIntDelay<a class="headerlink" href="#rxintdelay" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>0-65535 (0=off)</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>72</p>
<p>This value delays the generation of receive interrupts in units of
0.8192 microseconds.  Receive interrupt reduction can improve CPU
efficiency if properly tuned for specific network traffic.  Increasing
this value adds extra latency to frame reception and can end up
decreasing the throughput of TCP traffic.  If the system is reporting
dropped receives, this value may be set too high, causing the driver to
run out of available receive descriptors.</p>
</dd>
</dl>
</section>
<section id="txintdelay">
<h3>TxIntDelay<a class="headerlink" href="#txintdelay" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>0-65535 (0=off)</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>32</p>
<p>This value delays the generation of transmit interrupts in units of
0.8192 microseconds.  Transmit interrupt reduction can improve CPU
efficiency if properly tuned for specific network traffic.  Increasing
this value adds extra latency to frame transmission and can end up
decreasing the throughput of TCP traffic.  If this value is set too high,
it will cause the driver to run out of available transmit descriptors.</p>
</dd>
</dl>
</section>
<section id="xsumrx">
<h3>XsumRX<a class="headerlink" href="#xsumrx" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>0-1</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>1</p>
<p>A value of ‘1’ indicates that the driver should enable IP checksum
offload for received packets (both UDP and TCP) to the adapter hardware.</p>
</dd>
</dl>
</section>
<section id="rxfchighthresh">
<h3>RxFCHighThresh<a class="headerlink" href="#rxfchighthresh" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>1,536-262,136 (0x600 - 0x3FFF8, 8 byte granularity)</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>196,608 (0x30000)</p>
<p>Receive Flow control high threshold (when we send a pause frame)</p>
</dd>
</dl>
</section>
<section id="rxfclowthresh">
<h3>RxFCLowThresh<a class="headerlink" href="#rxfclowthresh" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>64-262,136 (0x40 - 0x3FFF8, 8 byte granularity)</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>163,840 (0x28000)</p>
<p>Receive Flow control low threshold (when we send a resume frame)</p>
</dd>
</dl>
</section>
<section id="fcreqtimeout">
<h3>FCReqTimeout<a class="headerlink" href="#fcreqtimeout" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Valid Range</dt>
<dd class="field-odd"><p>1-65535</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>65535</p>
<p>Flow control request timeout (how long to pause the link partner’s tx)</p>
</dd>
</dl>
</section>
<section id="intdelayenable">
<h3>IntDelayEnable<a class="headerlink" href="#intdelayenable" title="Permalink to this headline">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Value Range</dt>
<dd class="field-odd"><p>0,1</p>
</dd>
<dt class="field-even">Default Value</dt>
<dd class="field-even"><p>1</p>
<p>Interrupt Delay, 0 disables transmit interrupt delay and 1 enables it.</p>
</dd>
</dl>
</section>
</section>
<section id="improving-performance">
<h2>Improving Performance<a class="headerlink" href="#improving-performance" title="Permalink to this headline">¶</a></h2>
<p>With the 10 Gigabit server adapters, the default Linux configuration will
very likely limit the total available throughput artificially.  There is a set
of configuration changes that, when applied together, will increase the ability
of Linux to transmit and receive data.  The following enhancements were
originally acquired from settings published at <a class="reference external" href="https://www.spec.org/web99/">https://www.spec.org/web99/</a> for
various submitted results using Linux.</p>
<dl class="simple">
<dt>NOTE:</dt><dd><p>These changes are only suggestions, and serve as a starting point for
tuning your network performance.</p>
</dd>
</dl>
<p>The changes are made in three major ways, listed in order of greatest effect:</p>
<ul class="simple">
<li><p>Use ip link to modify the mtu (maximum transmission unit) and the txqueuelen
parameter.</p></li>
<li><p>Use sysctl to modify /proc parameters (essentially kernel tuning)</p></li>
<li><p>Use setpci to modify the MMRBC field in PCI-X configuration space to increase
transmit burst lengths on the bus.</p></li>
</ul>
<dl class="simple">
<dt>NOTE:</dt><dd><p>setpci modifies the adapter’s configuration registers to allow it to read
up to 4k bytes at a time (for transmits).  However, for some systems the
behavior after modifying this register may be undefined (possibly errors of
some kind).  A power-cycle, hard reset or explicitly setting the e6 register
back to 22 (setpci -d 8086:1a48 e6.b=22) may be required to get back to a
stable configuration.</p>
</dd>
</dl>
<ul class="simple">
<li><p>COPY these lines and paste them into ixgb_perf.sh:</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
echo &quot;configuring network performance , edit this file to change the interface
or device ID of 10GbE card&quot;
# set mmrbc to 4k reads, modify only Intel 10GbE device IDs
# replace 1a48 with appropriate 10GbE device&#39;s ID installed on the system,
# if needed.
setpci -d 8086:1a48 e6.b=2e
# set the MTU (max transmission unit) - it requires your switch and clients
# to change as well.
# set the txqueuelen
# your ixgb adapter should be loaded as eth1 for this to work, change if needed
ip li set dev eth1 mtu 9000 txqueuelen 1000 up
# call the sysctl utility to modify /proc/sys entries
sysctl -p ./sysctl_ixgb.conf
</pre></div>
</div>
<ul class="simple">
<li><p>COPY these lines and paste them into sysctl_ixgb.conf:</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># some of the defaults may be different for your kernel
# call this file with sysctl -p &lt;this file&gt;
# these are just suggested values that worked well to increase throughput in
# several network benchmark tests, your mileage may vary

### IPV4 specific settings
# turn TCP timestamp support off, default 1, reduces CPU use
net.ipv4.tcp_timestamps = 0
# turn SACK support off, default on
# on systems with a VERY fast bus -&gt; memory interface this is the big gainer
net.ipv4.tcp_sack = 0
# set min/default/max TCP read buffer, default 4096 87380 174760
net.ipv4.tcp_rmem = 10000000 10000000 10000000
# set min/pressure/max TCP write buffer, default 4096 16384 131072
net.ipv4.tcp_wmem = 10000000 10000000 10000000
# set min/pressure/max TCP buffer space, default 31744 32256 32768
net.ipv4.tcp_mem = 10000000 10000000 10000000

### CORE settings (mostly for socket and UDP effect)
# set maximum receive socket buffer size, default 131071
net.core.rmem_max = 524287
# set maximum send socket buffer size, default 131071
net.core.wmem_max = 524287
# set default receive socket buffer size, default 65535
net.core.rmem_default = 524287
# set default send socket buffer size, default 65535
net.core.wmem_default = 524287
# set maximum amount of option memory buffers, default 10240
net.core.optmem_max = 524287
# set number of unprocessed input packets before kernel starts dropping them; default 300
net.core.netdev_max_backlog = 300000
</pre></div>
</div>
<p>Edit the ixgb_perf.sh script if necessary to change eth1 to whatever interface
your ixgb driver is using and/or replace ‘1a48’ with appropriate 10GbE device’s
ID installed on the system.</p>
<dl class="simple">
<dt>NOTE:</dt><dd><p>Unless these scripts are added to the boot process, these changes will
only last only until the next system reboot.</p>
</dd>
</dl>
<section id="resolving-slow-udp-traffic">
<h3>Resolving Slow UDP Traffic<a class="headerlink" href="#resolving-slow-udp-traffic" title="Permalink to this headline">¶</a></h3>
<p>If your server does not seem to be able to receive UDP traffic as fast as it
can receive TCP traffic, it could be because Linux, by default, does not set
the network stack buffers as large as they need to be to support high UDP
transfer rates.  One way to alleviate this problem is to allow more memory to
be used by the IP stack to store incoming data.</p>
<p>For instance, use the commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sysctl -w net.core.rmem_max=262143
</pre></div>
</div>
<p>and:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sysctl -w net.core.rmem_default=262143
</pre></div>
</div>
<p>to increase the read buffer memory max and default to 262143 (256k - 1) from
defaults of max=131071 (128k - 1) and default=65535 (64k - 1).  These variables
will increase the amount of memory used by the network stack for receives, and
can be increased significantly more if necessary for your application.</p>
</section>
</section>
<section id="additional-configurations">
<h2>Additional Configurations<a class="headerlink" href="#additional-configurations" title="Permalink to this headline">¶</a></h2>
<section id="configuring-the-driver-on-different-distributions">
<h3>Configuring the Driver on Different Distributions<a class="headerlink" href="#configuring-the-driver-on-different-distributions" title="Permalink to this headline">¶</a></h3>
<p>Configuring a network driver to load properly when the system is started is
distribution dependent. Typically, the configuration process involves adding
an alias line to /etc/modprobe.conf as well as editing other system startup
scripts and/or configuration files.  Many popular Linux distributions ship
with tools to make these changes for you.  To learn the proper way to
configure a network device for your system, refer to your distribution
documentation.  If during this process you are asked for the driver or module
name, the name for the Linux Base Driver for the Intel 10GbE Family of
Adapters is ixgb.</p>
</section>
<section id="viewing-link-messages">
<h3>Viewing Link Messages<a class="headerlink" href="#viewing-link-messages" title="Permalink to this headline">¶</a></h3>
<p>Link messages will not be displayed to the console if the distribution is
restricting system messages. In order to see network driver link messages on
your console, set dmesg to eight by entering the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dmesg -n 8
</pre></div>
</div>
<p>NOTE: This setting is not saved across reboots.</p>
</section>
<section id="jumbo-frames">
<h3>Jumbo Frames<a class="headerlink" href="#jumbo-frames" title="Permalink to this headline">¶</a></h3>
<p>The driver supports Jumbo Frames for all adapters. Jumbo Frames support is
enabled by changing the MTU to a value larger than the default of 1500.
The maximum value for the MTU is 16114.  Use the ip command to
increase the MTU size.  For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ip li set dev ethx mtu 9000
</pre></div>
</div>
<p>The maximum MTU setting for Jumbo Frames is 16114.  This value coincides
with the maximum Jumbo Frames size of 16128.</p>
</section>
<section id="ethtool">
<h3>Ethtool<a class="headerlink" href="#ethtool" title="Permalink to this headline">¶</a></h3>
<p>The driver utilizes the ethtool interface for driver configuration and
diagnostics, as well as displaying statistical information.  The ethtool
version 1.6 or later is required for this functionality.</p>
<p>The latest release of ethtool can be found from
<a class="reference external" href="https://www.kernel.org/pub/software/network/ethtool/">https://www.kernel.org/pub/software/network/ethtool/</a></p>
<dl class="simple">
<dt>NOTE:</dt><dd><p>The ethtool version 1.6 only supports a limited set of ethtool options.
Support for a more complete ethtool feature set can be enabled by
upgrading to the latest version.</p>
</dd>
</dl>
</section>
<section id="napi">
<h3>NAPI<a class="headerlink" href="#napi" title="Permalink to this headline">¶</a></h3>
<p>NAPI (Rx polling mode) is supported in the ixgb driver.</p>
<p>See <a class="reference external" href="https://wiki.linuxfoundation.org/networking/napi">https://wiki.linuxfoundation.org/networking/napi</a> for more information on
NAPI.</p>
</section>
</section>
<section id="known-issues-troubleshooting">
<h2>Known Issues/Troubleshooting<a class="headerlink" href="#known-issues-troubleshooting" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>NOTE:</dt><dd><p>After installing the driver, if your Intel Network Connection is not
working, verify in the “In This Release” section of the readme that you have
installed the correct driver.</p>
</dd>
</dl>
<section id="cable-interoperability-issue-with-fujitsu-xenpak-module-in-smartbits-chassis">
<h3>Cable Interoperability Issue with Fujitsu XENPAK Module in SmartBits Chassis<a class="headerlink" href="#cable-interoperability-issue-with-fujitsu-xenpak-module-in-smartbits-chassis" title="Permalink to this headline">¶</a></h3>
<p>Excessive CRC errors may be observed if the Intel(R) PRO/10GbE CX4
Server adapter is connected to a Fujitsu XENPAK CX4 module in a SmartBits
chassis using 15 m/24AWG cable assemblies manufactured by Fujitsu or Leoni.
The CRC errors may be received either by the Intel(R) PRO/10GbE CX4
Server adapter or the SmartBits. If this situation occurs using a different
cable assembly may resolve the issue.</p>
</section>
<section id="cable-interoperability-issues-with-hp-procurve-3400cl-switch-port">
<h3>Cable Interoperability Issues with HP Procurve 3400cl Switch Port<a class="headerlink" href="#cable-interoperability-issues-with-hp-procurve-3400cl-switch-port" title="Permalink to this headline">¶</a></h3>
<p>Excessive CRC errors may be observed if the Intel(R) PRO/10GbE CX4 Server
adapter is connected to an HP Procurve 3400cl switch port using short cables
(1 m or shorter). If this situation occurs, using a longer cable may resolve
the issue.</p>
<p>Excessive CRC errors may be observed using Fujitsu 24AWG cable assemblies that
Are 10 m or longer or where using a Leoni 15 m/24AWG cable assembly. The CRC
errors may be received either by the CX4 Server adapter or at the switch. If
this situation occurs, using a different cable assembly may resolve the issue.</p>
</section>
<section id="jumbo-frames-system-requirement">
<h3>Jumbo Frames System Requirement<a class="headerlink" href="#jumbo-frames-system-requirement" title="Permalink to this headline">¶</a></h3>
<p>Memory allocation failures have been observed on Linux systems with 64 MB
of RAM or less that are running Jumbo Frames.  If you are using Jumbo
Frames, your system may require more than the advertised minimum
requirement of 64 MB of system memory.</p>
</section>
<section id="performance-degradation-with-jumbo-frames">
<h3>Performance Degradation with Jumbo Frames<a class="headerlink" href="#performance-degradation-with-jumbo-frames" title="Permalink to this headline">¶</a></h3>
<p>Degradation in throughput performance may be observed in some Jumbo frames
environments.  If this is observed, increasing the application’s socket buffer
size and/or increasing the /proc/sys/net/ipv4/tcp_*mem entry values may help.
See the specific application manual and /usr/src/linux*/Documentation/
networking/ip-sysctl.txt for more details.</p>
</section>
<section id="allocating-rx-buffers-when-using-jumbo-frames">
<h3>Allocating Rx Buffers when Using Jumbo Frames<a class="headerlink" href="#allocating-rx-buffers-when-using-jumbo-frames" title="Permalink to this headline">¶</a></h3>
<p>Allocating Rx buffers when using Jumbo Frames on 2.6.x kernels may fail if
the available memory is heavily fragmented. This issue may be seen with PCI-X
adapters or with packet split disabled. This can be reduced or eliminated
by changing the amount of available memory for receive buffer allocation, by
increasing /proc/sys/vm/min_free_kbytes.</p>
</section>
<section id="multiple-interfaces-on-same-ethernet-broadcast-network">
<h3>Multiple Interfaces on Same Ethernet Broadcast Network<a class="headerlink" href="#multiple-interfaces-on-same-ethernet-broadcast-network" title="Permalink to this headline">¶</a></h3>
<p>Due to the default ARP behavior on Linux, it is not possible to have
one system on two IP networks in the same Ethernet broadcast domain
(non-partitioned switch) behave as expected.  All Ethernet interfaces
will respond to IP traffic for any IP address assigned to the system.
This results in unbalanced receive traffic.</p>
<p>If you have multiple interfaces in a server, do either of the following:</p>
<blockquote>
<div><ul>
<li><p>Turn on ARP filtering by entering:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo 1 &gt; /proc/sys/net/ipv4/conf/all/arp_filter
</pre></div>
</div>
</li>
<li><p>Install the interfaces in separate broadcast domains - either in
different switches or in a switch partitioned to VLANs.</p></li>
</ul>
</div></blockquote>
</section>
<section id="udp-stress-test-dropped-packet-issue">
<h3>UDP Stress Test Dropped Packet Issue<a class="headerlink" href="#udp-stress-test-dropped-packet-issue" title="Permalink to this headline">¶</a></h3>
<p>Under small packets UDP stress test with 10GbE driver, the Linux system
may drop UDP packets due to the fullness of socket buffers. You may want
to change the driver’s Flow Control variables to the minimum value for
controlling packet reception.</p>
</section>
<section id="tx-hangs-possible-under-stress">
<h3>Tx Hangs Possible Under Stress<a class="headerlink" href="#tx-hangs-possible-under-stress" title="Permalink to this headline">¶</a></h3>
<p>Under stress conditions, if TX hangs occur, turning off TSO
“ethtool -K eth0 tso off” may resolve the problem.</p>
</section>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<p>For general information, go to the Intel support website at:</p>
<p><a class="reference external" href="https://www.intel.com/support/">https://www.intel.com/support/</a></p>
<p>or the Intel Wired Networking project hosted by Sourceforge at:</p>
<p><a class="reference external" href="https://sourceforge.net/projects/e1000">https://sourceforge.net/projects/e1000</a></p>
<p>If an issue is identified with the released source code on a supported kernel
with a supported adapter, email the specific information related to the issue
to <a class="reference external" href="mailto:e1000-devel&#37;&#52;&#48;lists&#46;sf&#46;net">e1000-devel<span>&#64;</span>lists<span>&#46;</span>sf<span>&#46;</span>net</a></p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Linux Base Driver for 10 Gigabit Intel(R) Ethernet Network Connection</a><ul>
<li><a class="reference internal" href="#contents">Contents</a></li>
<li><a class="reference internal" href="#in-this-release">In This Release</a></li>
<li><a class="reference internal" href="#identifying-your-adapter">Identifying Your Adapter</a></li>
<li><a class="reference internal" href="#command-line-parameters">Command Line Parameters</a><ul>
<li><a class="reference internal" href="#copybreak">Copybreak</a></li>
<li><a class="reference internal" href="#debug">Debug</a></li>
<li><a class="reference internal" href="#flowcontrol">FlowControl</a></li>
<li><a class="reference internal" href="#rxdescriptors">RxDescriptors</a></li>
<li><a class="reference internal" href="#txdescriptors">TxDescriptors</a></li>
<li><a class="reference internal" href="#rxintdelay">RxIntDelay</a></li>
<li><a class="reference internal" href="#txintdelay">TxIntDelay</a></li>
<li><a class="reference internal" href="#xsumrx">XsumRX</a></li>
<li><a class="reference internal" href="#rxfchighthresh">RxFCHighThresh</a></li>
<li><a class="reference internal" href="#rxfclowthresh">RxFCLowThresh</a></li>
<li><a class="reference internal" href="#fcreqtimeout">FCReqTimeout</a></li>
<li><a class="reference internal" href="#intdelayenable">IntDelayEnable</a></li>
</ul>
</li>
<li><a class="reference internal" href="#improving-performance">Improving Performance</a><ul>
<li><a class="reference internal" href="#resolving-slow-udp-traffic">Resolving Slow UDP Traffic</a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-configurations">Additional Configurations</a><ul>
<li><a class="reference internal" href="#configuring-the-driver-on-different-distributions">Configuring the Driver on Different Distributions</a></li>
<li><a class="reference internal" href="#viewing-link-messages">Viewing Link Messages</a></li>
<li><a class="reference internal" href="#jumbo-frames">Jumbo Frames</a></li>
<li><a class="reference internal" href="#ethtool">Ethtool</a></li>
<li><a class="reference internal" href="#napi">NAPI</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-issues-troubleshooting">Known Issues/Troubleshooting</a><ul>
<li><a class="reference internal" href="#cable-interoperability-issue-with-fujitsu-xenpak-module-in-smartbits-chassis">Cable Interoperability Issue with Fujitsu XENPAK Module in SmartBits Chassis</a></li>
<li><a class="reference internal" href="#cable-interoperability-issues-with-hp-procurve-3400cl-switch-port">Cable Interoperability Issues with HP Procurve 3400cl Switch Port</a></li>
<li><a class="reference internal" href="#jumbo-frames-system-requirement">Jumbo Frames System Requirement</a></li>
<li><a class="reference internal" href="#performance-degradation-with-jumbo-frames">Performance Degradation with Jumbo Frames</a></li>
<li><a class="reference internal" href="#allocating-rx-buffers-when-using-jumbo-frames">Allocating Rx Buffers when Using Jumbo Frames</a></li>
<li><a class="reference internal" href="#multiple-interfaces-on-same-ethernet-broadcast-network">Multiple Interfaces on Same Ethernet Broadcast Network</a></li>
<li><a class="reference internal" href="#udp-stress-test-dropped-packet-issue">UDP Stress Test Dropped Packet Issue</a></li>
<li><a class="reference internal" href="#tx-hangs-possible-under-stress">Tx Hangs Possible Under Stress</a></li>
</ul>
</li>
<li><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../_sources/networking/device_drivers/ethernet/intel/ixgb.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../../_sources/networking/device_drivers/ethernet/intel/ixgb.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>