
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>7.66. V4L2 open() &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="7.67. V4L2 poll()" href="func-poll.html" />
    <link rel="prev" title="7.65. V4L2 munmap()" href="func-munmap.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="v4l2-open">
<span id="func-open"></span><h1><span class="section-number">7.66. </span>V4L2 open()<a class="headerlink" href="#v4l2-open" title="Permalink to this headline">¶</a></h1>
<section id="name">
<h2><span class="section-number">7.66.1. </span>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>v4l2-open - Open a V4L2 device</p>
</section>
<section id="synopsis">
<h2><span class="section-number">7.66.2. </span>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;fcntl.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<dl class="function">
<dt id="c.V4L.open">
int <code class="sig-name descname">open</code><span class="sig-paren">(</span>const char<em> *device_name</em>, int<em> flags</em><span class="sig-paren">)</span><a class="headerlink" href="#c.V4L.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="arguments">
<h2><span class="section-number">7.66.3. </span>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">device_name</span></code></dt><dd><p>Device to be opened.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">flags</span></code></dt><dd><p>Open flags. Access mode must be <code class="docutils literal notranslate"><span class="pre">O_RDWR</span></code>. This is just a
technicality, input devices still support only reading and output
devices only writing.</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code> flag is given, the <code class="xref c c-func docutils literal notranslate"><span class="pre">read()</span></code>
function and the <a class="reference internal" href="vidioc-qbuf.html#vidioc-qbuf"><span class="std std-ref">VIDIOC_DQBUF</span></a> ioctl will
return the <code class="docutils literal notranslate"><span class="pre">EAGAIN</span></code> error code when no data is available or no
buffer is in the driver outgoing queue, otherwise these functions
block until data becomes available. All V4L2 drivers exchanging data
with applications must support the <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code> flag.</p>
<p>Other flags have no effect.</p>
</dd>
</dl>
</section>
<section id="description">
<h2><span class="section-number">7.66.4. </span>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>To open a V4L2 device applications call <code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code> with the
desired device name. This function has no side effects; all data format
parameters, current input or output, control values or other properties
remain unchanged. At the first <code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code> call after loading the
driver they will be reset to default values, drivers are never in an
undefined state.</p>
</section>
<section id="return-value">
<h2><span class="section-number">7.66.5. </span>Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success <code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code> returns the new file descriptor. On error
-1 is returned, and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set appropriately.
Possible error codes are:</p>
<dl class="simple">
<dt>EACCES</dt><dd><p>The caller has no permission to access the device.</p>
</dd>
<dt>EBUSY</dt><dd><p>The driver does not support multiple opens and the device is already
in use.</p>
</dd>
<dt>ENXIO</dt><dd><p>No device corresponding to this device special file exists.</p>
</dd>
<dt>ENOMEM</dt><dd><p>Not enough kernel memory was available to complete the request.</p>
</dd>
<dt>EMFILE</dt><dd><p>The process already has the maximum number of files open.</p>
</dd>
<dt>ENFILE</dt><dd><p>The limit on the total number of files open on the system has been
reached.</p>
</dd>
</dl>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">7.66. V4L2 open()</a><ul>
<li><a class="reference internal" href="#name">7.66.1. Name</a></li>
<li><a class="reference internal" href="#synopsis">7.66.2. Synopsis</a></li>
<li><a class="reference internal" href="#arguments">7.66.3. Arguments</a></li>
<li><a class="reference internal" href="#description">7.66.4. Description</a></li>
<li><a class="reference internal" href="#return-value">7.66.5. Return Value</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/v4l/func-open.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/v4l/func-open.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>