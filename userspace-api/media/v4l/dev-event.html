
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>4.12. Event Interface &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="4.13. Sub-device Interface" href="dev-subdev.html" />
    <link rel="prev" title="4.11. Touch Devices" href="dev-touch.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="event-interface">
<span id="event"></span><h1><span class="section-number">4.12. </span>Event Interface<a class="headerlink" href="#event-interface" title="Permalink to this headline">Â¶</a></h1>
<p>The V4L2 event interface provides a means for a user to get immediately
notified on certain conditions taking place on a device. This might
include start of frame or loss of signal events, for example. Changes in
the value or state of a V4L2 control can also be reported through
events.</p>
<p>To receive events, the events the user is interested in first must be
subscribed using the
<a class="reference internal" href="vidioc-subscribe-event.html#vidioc-subscribe-event"><span class="std std-ref">ioctl VIDIOC_SUBSCRIBE_EVENT, VIDIOC_UNSUBSCRIBE_EVENT</span></a> ioctl. Once
an event is subscribed, the events of subscribed types are dequeueable
using the <a class="reference internal" href="vidioc-dqevent.html#vidioc-dqevent"><span class="std std-ref">ioctl VIDIOC_DQEVENT</span></a> ioctl. Events may be
unsubscribed using VIDIOC_UNSUBSCRIBE_EVENT ioctl. The special event
type V4L2_EVENT_ALL may be used to unsubscribe all the events the
driver supports.</p>
<p>The event subscriptions and event queues are specific to file handles.
Subscribing an event on one file handle does not affect other file
handles.</p>
<p>The information on dequeueable events is obtained by using select or
poll system calls on video devices. The V4L2 events use POLLPRI events
on poll system call and exceptions on select system call.</p>
<p>Starting with kernel 3.1 certain guarantees can be given with regards to
events:</p>
<ol class="arabic simple">
<li><p>Each subscribed event has its own internal dedicated event queue.
This means that flooding of one event type will not interfere with
other event types.</p></li>
<li><p>If the internal event queue for a particular subscribed event becomes
full, then the oldest event in that queue will be dropped.</p></li>
<li><p>Where applicable, certain event types can ensure that the payload of
the oldest event that is about to be dropped will be merged with the
payload of the next oldest event. Thus ensuring that no information
is lost, but only an intermediate step leading up to that
information. See the documentation for the event you want to
subscribe to whether this is applicable for that event or not.</p></li>
</ol>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/v4l/dev-event.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/v4l/dev-event.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>