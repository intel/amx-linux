
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1.16. Stateless Codec Control Reference &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="1.17. JPEG Control Reference" href="ext-ctrls-jpeg.html" />
    <link rel="prev" title="1.15. Codec Control Reference" href="ext-ctrls-codec.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="stateless-codec-control-reference">
<span id="codec-stateless-controls"></span><h1><span class="section-number">1.16. </span>Stateless Codec Control Reference<a class="headerlink" href="#stateless-codec-control-reference" title="Permalink to this headline">¶</a></h1>
<p>The Stateless Codec control class is intended to support
stateless decoder and encoders (i.e. hardware accelerators).</p>
<p>These drivers are typically supported by the <a class="reference internal" href="dev-stateless-decoder.html#stateless-decoder"><span class="std std-ref">Memory-to-memory Stateless Video Decoder Interface</span></a>,
and deal with parsed pixel formats such as V4L2_PIX_FMT_H264_SLICE.</p>
<section id="stateless-codec-control-id">
<h2><span class="section-number">1.16.1. </span>Stateless Codec Control ID<a class="headerlink" href="#stateless-codec-control-id" title="Permalink to this headline">¶</a></h2>
<dl class="simple" id="codec-stateless-control-id">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_CODEC_STATELESS_CLASS</span> <span class="pre">(class)</span></code></dt><dd><p>The Stateless Codec class descriptor.</p>
</dd>
</dl>
<dl class="simple" id="v4l2-codec-stateless-h264">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_SPS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the sequence parameter set (as extracted from the
bitstream) for the associated H264 slice data. This includes the
necessary parameters for configuring a stateless hardware decoding
pipeline for H264. The bitstream parameters are defined according
to <a class="reference internal" href="biblio.html#h264"><span class="std std-ref">ITU-T Rec. H.264 Specification (04/2017 Edition)</span></a>, section 7.4.2.1.1 “Sequence Parameter Set Data
Semantics”. For further documentation, refer to the above
specification, unless there is an explicit comment stating
otherwise.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_h264_sps">
<code class="sig-name descname">v4l2_ctrl_h264_sps</code><a class="headerlink" href="#c.v4l2_ctrl_h264_sps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id2">
<caption><span class="caption-text">struct v4l2_ctrl_h264_sps</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">profile_idc</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">constraint_set_flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#h264-sps-constraints-set-flags"><span class="std std-ref">Sequence Parameter Set Constraints Set Flags</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level_idc</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">seq_parameter_set_id</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_format_idc</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bit_depth_luma_minus8</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bit_depth_chroma_minus8</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_max_frame_num_minus4</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_order_cnt_type</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_max_pic_order_cnt_lsb_minus4</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">max_num_ref_frames</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_frames_in_pic_order_cnt_cycle</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offset_for_ref_frame[255]</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offset_for_non_ref_pic</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offset_for_top_to_bottom_field</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_width_in_mbs_minus1</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_height_in_map_units_minus1</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#h264-sps-flags"><span class="std std-ref">Sequence Parameter Set Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="h264-sps-constraints-set-flags"><code class="docutils literal notranslate"><span class="pre">Sequence</span> <span class="pre">Parameter</span> <span class="pre">Set</span> <span class="pre">Constraints</span> <span class="pre">Set</span> <span class="pre">Flags</span></code></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_CONSTRAINT_SET0_FLAG</span></code></p></td>
<td><p>0x00000001</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_CONSTRAINT_SET1_FLAG</span></code></p></td>
<td><p>0x00000002</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_CONSTRAINT_SET2_FLAG</span></code></p></td>
<td><p>0x00000004</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_CONSTRAINT_SET3_FLAG</span></code></p></td>
<td><p>0x00000008</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_CONSTRAINT_SET4_FLAG</span></code></p></td>
<td><p>0x00000010</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_CONSTRAINT_SET5_FLAG</span></code></p></td>
<td><p>0x00000020</p></td>
<td></td>
</tr>
</tbody>
</table>
<p id="h264-sps-flags"><code class="docutils literal notranslate"><span class="pre">Sequence</span> <span class="pre">Parameter</span> <span class="pre">Set</span> <span class="pre">Flags</span></code></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_FLAG_SEPARATE_COLOUR_PLANE</span></code></p></td>
<td><p>0x00000001</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_FLAG_QPPRIME_Y_ZERO_TRANSFORM_BYPASS</span></code></p></td>
<td><p>0x00000002</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_FLAG_DELTA_PIC_ORDER_ALWAYS_ZERO</span></code></p></td>
<td><p>0x00000004</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_FLAG_GAPS_IN_FRAME_NUM_VALUE_ALLOWED</span></code></p></td>
<td><p>0x00000008</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_FLAG_FRAME_MBS_ONLY</span></code></p></td>
<td><p>0x00000010</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_FLAG_MB_ADAPTIVE_FRAME_FIELD</span></code></p></td>
<td><p>0x00000020</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SPS_FLAG_DIRECT_8X8_INFERENCE</span></code></p></td>
<td><p>0x00000040</p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_PPS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the picture parameter set (as extracted from the
bitstream) for the associated H264 slice data. This includes the
necessary parameters for configuring a stateless hardware decoding
pipeline for H264.  The bitstream parameters are defined according
to <a class="reference internal" href="biblio.html#h264"><span class="std std-ref">ITU-T Rec. H.264 Specification (04/2017 Edition)</span></a>, section 7.4.2.2 “Picture Parameter Set RBSP
Semantics”. For further documentation, refer to the above
specification, unless there is an explicit comment stating
otherwise.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_h264_pps">
<code class="sig-name descname">v4l2_ctrl_h264_pps</code><a class="headerlink" href="#c.v4l2_ctrl_h264_pps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id3">
<caption><span class="caption-text">struct v4l2_ctrl_h264_pps</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_parameter_set_id</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">seq_parameter_set_id</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_slice_groups_minus1</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_idx_l0_default_active_minus1</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_idx_l1_default_active_minus1</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">weighted_bipred_idc</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_init_qp_minus26</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_init_qs_minus26</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_qp_index_offset</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">second_chroma_qp_index_offset</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#h264-pps-flags"><span class="std std-ref">Picture Parameter Set Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="h264-pps-flags"><code class="docutils literal notranslate"><span class="pre">Picture</span> <span class="pre">Parameter</span> <span class="pre">Set</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 7%" />
<col style="width: 27%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_PPS_FLAG_ENTROPY_CODING_MODE</span></code></p></td>
<td><p>0x0001</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_PPS_FLAG_BOTTOM_FIELD_PIC_ORDER_IN_FRAME_PRESENT</span></code></p></td>
<td><p>0x0002</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_PPS_FLAG_WEIGHTED_PRED</span></code></p></td>
<td><p>0x0004</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_PPS_FLAG_DEBLOCKING_FILTER_CONTROL_PRESENT</span></code></p></td>
<td><p>0x0008</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_PPS_FLAG_CONSTRAINED_INTRA_PRED</span></code></p></td>
<td><p>0x0010</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_PPS_FLAG_REDUNDANT_PIC_CNT_PRESENT</span></code></p></td>
<td><p>0x0020</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_PPS_FLAG_TRANSFORM_8X8_MODE</span></code></p></td>
<td><p>0x0040</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_PPS_FLAG_SCALING_MATRIX_PRESENT</span></code></p></td>
<td><p>0x0080</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_SCALING_MATRIX</span></code>
must be used for this picture.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_SCALING_MATRIX</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the scaling matrix (as extracted from the bitstream) for
the associated H264 slice data. The bitstream parameters are
defined according to <a class="reference internal" href="biblio.html#h264"><span class="std std-ref">ITU-T Rec. H.264 Specification (04/2017 Edition)</span></a>, section 7.4.2.1.1.1 “Scaling
List Semantics”. For further documentation, refer to the above
specification, unless there is an explicit comment stating
otherwise.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_h264_scaling_matrix">
<code class="sig-name descname">v4l2_ctrl_h264_scaling_matrix</code><a class="headerlink" href="#c.v4l2_ctrl_h264_scaling_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id4">
<caption><span class="caption-text">struct v4l2_ctrl_h264_scaling_matrix</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scaling_list_4x4[6][16]</span></code></p></td>
<td><p>Scaling matrix after applying the inverse scanning process.
Expected list order is Intra Y, Intra Cb, Intra Cr, Inter Y,
Inter Cb, Inter Cr. The values on each scaling list are
expected in raster scan order.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scaling_list_8x8[6][64]</span></code></p></td>
<td><p>Scaling matrix after applying the inverse scanning process.
Expected list order is Intra Y, Inter Y, Intra Cb, Inter Cb,
Intra Cr, Inter Cr. The values on each scaling list are
expected in raster scan order.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_SLICE_PARAMS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the slice parameters (as extracted from the bitstream)
for the associated H264 slice data. This includes the necessary
parameters for configuring a stateless hardware decoding pipeline
for H264.  The bitstream parameters are defined according to
<a class="reference internal" href="biblio.html#h264"><span class="std std-ref">ITU-T Rec. H.264 Specification (04/2017 Edition)</span></a>, section 7.4.3 “Slice Header Semantics”. For further
documentation, refer to the above specification, unless there is
an explicit comment stating otherwise.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_h264_slice_params">
<code class="sig-name descname">v4l2_ctrl_h264_slice_params</code><a class="headerlink" href="#c.v4l2_ctrl_h264_slice_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id5">
<caption><span class="caption-text">struct v4l2_ctrl_h264_slice_params</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">header_bit_size</span></code></p></td>
<td><p>Offset in bits to slice_data() from the beginning of this slice.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">first_mb_in_slice</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_type</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">colour_plane_id</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">redundant_pic_cnt</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cabac_init_idc</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_qp_delta</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_qs_delta</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">disable_deblocking_filter_idc</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_alpha_c0_offset_div2</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_beta_offset_div2</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_idx_l0_active_minus1</span></code></p></td>
<td><p>If num_ref_idx_active_override_flag is not set, this field must be
set to the value of num_ref_idx_l0_default_active_minus1</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_idx_l1_active_minus1</span></code></p></td>
<td><p>If num_ref_idx_active_override_flag is not set, this field must be
set to the value of num_ref_idx_l1_default_active_minus1</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_h264_reference" title="v4l2_h264_reference"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_h264_reference</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ref_pic_list0[32]</span></code></p></td>
<td><p>Reference picture list after applying the per-slice modifications</p></td>
</tr>
<tr class="row-even"><td><p>struct <a class="reference internal" href="#c.v4l2_h264_reference" title="v4l2_h264_reference"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_h264_reference</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ref_pic_list1[32]</span></code></p></td>
<td><p>Reference picture list after applying the per-slice modifications</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#h264-slice-flags"><span class="std std-ref">Slice Parameter Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="h264-slice-flags"><code class="docutils literal notranslate"><span class="pre">Slice</span> <span class="pre">Parameter</span> <span class="pre">Set</span> <span class="pre">Flags</span></code></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SLICE_FLAG_DIRECT_SPATIAL_MV_PRED</span></code></p></td>
<td><p>0x00000001</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_SLICE_FLAG_SP_FOR_SWITCH</span></code></p></td>
<td><p>0x00000002</p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_PRED_WEIGHTS</span> <span class="pre">(struct)</span></code></dt><dd><p>Prediction weight table defined according to <a class="reference internal" href="biblio.html#h264"><span class="std std-ref">ITU-T Rec. H.264 Specification (04/2017 Edition)</span></a>,
section 7.4.3.2 “Prediction Weight Table Semantics”.
The prediction weight table must be passed by applications
under the conditions explained in section 7.3.3 “Slice header
syntax”.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_h264_pred_weights">
<code class="sig-name descname">v4l2_ctrl_h264_pred_weights</code><a class="headerlink" href="#c.v4l2_ctrl_h264_pred_weights" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id6">
<caption><span class="caption-text">struct v4l2_ctrl_h264_pred_weights</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">luma_log2_weight_denom</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_log2_weight_denom</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_h264_weight_factors" title="v4l2_h264_weight_factors"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_h264_weight_factors</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">weight_factors[2]</span></code></p></td>
<td><p>The weight factors at index 0 are the weight factors for the reference
list 0, the one at index 1 for the reference list 1.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_h264_weight_factors">
<code class="sig-name descname">v4l2_h264_weight_factors</code><a class="headerlink" href="#c.v4l2_h264_weight_factors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id7">
<caption><span class="caption-text">struct v4l2_h264_weight_factors</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__s16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">luma_weight[32]</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">luma_offset[32]</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_weight[32][2]</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_offset[32][2]</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">Picture</span> <span class="pre">Reference</span></code></p>
<dl class="type">
<dt id="c.v4l2_h264_reference">
<code class="sig-name descname">v4l2_h264_reference</code><a class="headerlink" href="#c.v4l2_h264_reference" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id8">
<caption><span class="caption-text">struct v4l2_h264_reference</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fields</span></code></p></td>
<td><p>Specifies how the picture is referenced. See <a class="reference internal" href="#h264-ref-fields"><span class="std std-ref">Reference Fields</span></a></p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">index</span></code></p></td>
<td><p>Index into the <a class="reference internal" href="#c.v4l2_ctrl_h264_decode_params" title="v4l2_ctrl_h264_decode_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_h264_decode_params</span></code></a>.dpb array.</p></td>
</tr>
</tbody>
</table>
<p id="h264-ref-fields"><code class="docutils literal notranslate"><span class="pre">Reference</span> <span class="pre">Fields</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_TOP_FIELD_REF</span></code></p></td>
<td><p>0x1</p></td>
<td><p>The top field in field pair is used for short-term reference.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_BOTTOM_FIELD_REF</span></code></p></td>
<td><p>0x2</p></td>
<td><p>The bottom field in field pair is used for short-term reference.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_FRAME_REF</span></code></p></td>
<td><p>0x3</p></td>
<td><p>The frame (or the top/bottom fields, if it’s a field pair)
is used for short-term reference.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_DECODE_PARAMS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the decode parameters (as extracted from the bitstream)
for the associated H264 slice data. This includes the necessary
parameters for configuring a stateless hardware decoding pipeline
for H264. The bitstream parameters are defined according to
<a class="reference internal" href="biblio.html#h264"><span class="std std-ref">ITU-T Rec. H.264 Specification (04/2017 Edition)</span></a>. For further documentation, refer to the above
specification, unless there is an explicit comment stating
otherwise.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_h264_decode_params">
<code class="sig-name descname">v4l2_ctrl_h264_decode_params</code><a class="headerlink" href="#c.v4l2_ctrl_h264_decode_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id9">
<caption><span class="caption-text">struct v4l2_ctrl_h264_decode_params</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_h264_dpb_entry" title="v4l2_h264_dpb_entry"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_h264_dpb_entry</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dpb[16]</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nal_ref_idc</span></code></p></td>
<td><p>NAL reference ID value coming from the NAL Unit header</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">frame_num</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">top_field_order_cnt</span></code></p></td>
<td><p>Picture Order Count for the coded top field</p></td>
</tr>
<tr class="row-odd"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bottom_field_order_cnt</span></code></p></td>
<td><p>Picture Order Count for the coded bottom field</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">idr_pic_id</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_order_cnt_lsb</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_pic_order_cnt_bottom</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_pic_order_cnt0</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_pic_order_cnt1</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dec_ref_pic_marking_bit_size</span></code></p></td>
<td><p>Size in bits of the dec_ref_pic_marking() syntax element.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_order_cnt_bit_size</span></code></p></td>
<td><p>Combined size in bits of the picture order count related syntax
elements: pic_order_cnt_lsb, delta_pic_order_cnt_bottom,
delta_pic_order_cnt0, and delta_pic_order_cnt1.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_group_change_cycle</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#h264-decode-params-flags"><span class="std std-ref">Decode Parameters Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="h264-decode-params-flags"><code class="docutils literal notranslate"><span class="pre">Decode</span> <span class="pre">Parameters</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DECODE_PARAM_FLAG_IDR_PIC</span></code></p></td>
<td><p>0x00000001</p></td>
<td><p>That picture is an IDR picture</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DECODE_PARAM_FLAG_FIELD_PIC</span></code></p></td>
<td><p>0x00000002</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DECODE_PARAM_FLAG_BOTTOM_FIELD</span></code></p></td>
<td><p>0x00000004</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DECODE_PARAM_FLAG_PFRAME</span></code></p></td>
<td><p>0x00000008</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DECODE_PARAM_FLAG_BFRAME</span></code></p></td>
<td><p>0x00000010</p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_h264_dpb_entry">
<code class="sig-name descname">v4l2_h264_dpb_entry</code><a class="headerlink" href="#c.v4l2_h264_dpb_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id10">
<caption><span class="caption-text">struct v4l2_h264_dpb_entry</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reference_ts</span></code></p></td>
<td><p>Timestamp of the V4L2 capture buffer to use as reference, used
with B-coded and P-coded frames. The timestamp refers to the
<code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the
<code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code> function to convert the struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_num</span></code></p></td>
<td><p>For short term references, this must match the derived value PicNum
(8-28) and for long term references it must match the derived value
LongTermPicNum (8-29). When decoding frames (as opposed to fields)
pic_num is the same as FrameNumWrap.</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">frame_num</span></code></p></td>
<td><p>For short term references, this must match the frame_num value from
the slice header syntax (the driver will wrap the value if needed). For
long term references, this must be set to the value of
long_term_frame_idx described in the dec_ref_pic_marking() syntax.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fields</span></code></p></td>
<td><p>Specifies how the DPB entry is referenced. See <a class="reference internal" href="#h264-ref-fields"><span class="std std-ref">Reference Fields</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved[5]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">top_field_order_cnt</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bottom_field_order_cnt</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#h264-dpb-flags"><span class="std std-ref">DPB Entry Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="h264-dpb-flags"><code class="docutils literal notranslate"><span class="pre">DPB</span> <span class="pre">Entries</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DPB_ENTRY_FLAG_VALID</span></code></p></td>
<td><p>0x00000001</p></td>
<td><p>The DPB entry is valid (non-empty) and should be considered.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DPB_ENTRY_FLAG_ACTIVE</span></code></p></td>
<td><p>0x00000002</p></td>
<td><p>The DPB entry is used for reference.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DPB_ENTRY_FLAG_LONG_TERM</span></code></p></td>
<td><p>0x00000004</p></td>
<td><p>The DPB entry is used for long-term reference.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_H264_DPB_ENTRY_FLAG_FIELD</span></code></p></td>
<td><p>0x00000008</p></td>
<td><p>The DPB entry is a single field or a complementary field pair.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_DECODE_MODE</span> <span class="pre">(enum)</span></code></dt><dd><p>Specifies the decoding mode to use. Currently exposes slice-based and
frame-based decoding but new modes might be added later on.
This control is used as a modifier for V4L2_PIX_FMT_H264_SLICE
pixel format. Applications that support V4L2_PIX_FMT_H264_SLICE
are required to set this control in order to specify the decoding mode
that is expected for the buffer.
Drivers may expose a single or multiple decoding modes, depending
on what they can support.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_stateless_h264_decode_mode">
<code class="sig-name descname">v4l2_stateless_h264_decode_mode</code><a class="headerlink" href="#c.v4l2_stateless_h264_decode_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_STATELESS_H264_DECODE_MODE_SLICE_BASED</span></code></p></td>
<td><p>0</p></td>
<td><p>Decoding is done at the slice granularity.
The OUTPUT buffer must contain a single slice.
When this mode is selected, the <code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_SLICE_PARAMS</span></code>
control shall be set. When multiple slices compose a frame,
use of <code class="docutils literal notranslate"><span class="pre">V4L2_BUF_CAP_SUPPORTS_M2M_HOLD_CAPTURE_BUF</span></code> flag
is required.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_STATELESS_H264_DECODE_MODE_FRAME_BASED</span></code></p></td>
<td><p>1</p></td>
<td><p>Decoding is done at the frame granularity,
The OUTPUT buffer must contain all slices needed to decode the
frame. The OUTPUT buffer must also contain both fields.
This mode will be supported by devices that
parse the slice(s) header(s) in hardware. When this mode is
selected, the <code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_SLICE_PARAMS</span></code>
control shall not be set.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_H264_START_CODE</span> <span class="pre">(enum)</span></code></dt><dd><p>Specifies the H264 slice start code expected for each slice.
This control is used as a modifier for V4L2_PIX_FMT_H264_SLICE
pixel format. Applications that support V4L2_PIX_FMT_H264_SLICE
are required to set this control in order to specify the start code
that is expected for the buffer.
Drivers may expose a single or multiple start codes, depending
on what they can support.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_stateless_h264_start_code">
<code class="sig-name descname">v4l2_stateless_h264_start_code</code><a class="headerlink" href="#c.v4l2_stateless_h264_start_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 11%" />
<col style="width: 44%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_STATELESS_H264_START_CODE_NONE</span></code></p></td>
<td><p>0</p></td>
<td><p>Selecting this value specifies that H264 slices are passed
to the driver without any start code. The bitstream data should be
according to <a class="reference internal" href="biblio.html#h264"><span class="std std-ref">ITU-T Rec. H.264 Specification (04/2017 Edition)</span></a> 7.3.1 NAL unit syntax, hence contains
emulation prevention bytes when required.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_STATELESS_H264_START_CODE_ANNEX_B</span></code></p></td>
<td><p>1</p></td>
<td><p>Selecting this value specifies that H264 slices are expected
to be prefixed by Annex B start codes. According to <a class="reference internal" href="biblio.html#h264"><span class="std std-ref">ITU-T Rec. H.264 Specification (04/2017 Edition)</span></a>
valid start codes can be 3-bytes 0x000001 or 4-bytes 0x00000001.</p></td>
</tr>
</tbody>
</table>
<dl class="simple" id="codec-stateless-fwht">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_FWHT_PARAMS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the FWHT (Fast Walsh Hadamard Transform) parameters (as extracted
from the bitstream) for the associated FWHT data. This includes the necessary
parameters for configuring a stateless hardware decoding pipeline for FWHT.
This codec is specific to the vicodec test driver.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_fwht_params">
<code class="sig-name descname">v4l2_ctrl_fwht_params</code><a class="headerlink" href="#c.v4l2_ctrl_fwht_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id11">
<caption><span class="caption-text">struct v4l2_ctrl_fwht_params</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">backward_ref_ts</span></code></p></td>
<td><p>Timestamp of the V4L2 capture buffer to use as backward reference, used
with P-coded frames. The timestamp refers to the
<code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the
<code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code> function to convert the struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></td>
<td><p>The version of the codec. Set to <code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_VERSION</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">width</span></code></p></td>
<td><p>The width of the frame.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">height</span></code></p></td>
<td><p>The height of the frame.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>The flags of the frame, see <a class="reference internal" href="#fwht-flags"><span class="std std-ref">FWHT Flags</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">colorspace</span></code></p></td>
<td><p>The colorspace of the frame, from enum <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_colorspace</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">xfer_func</span></code></p></td>
<td><p>The transfer function, from enum <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_xfer_func</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ycbcr_enc</span></code></p></td>
<td><p>The Y’CbCr encoding, from enum <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ycbcr_encoding</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">quantization</span></code></p></td>
<td><p>The quantization range, from enum <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_quantization</span></code>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="fwht-flags">
<span id="id1"></span><h2><span class="section-number">1.16.2. </span>FWHT Flags<a class="headerlink" href="#fwht-flags" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 13%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_IS_INTERLACED</span></code></p></td>
<td><p>0x00000001</p></td>
<td><p>Set if this is an interlaced format.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_IS_BOTTOM_FIRST</span></code></p></td>
<td><p>0x00000002</p></td>
<td><p>Set if this is a bottom-first (NTSC) interlaced format.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_IS_ALTERNATE</span></code></p></td>
<td><p>0x00000004</p></td>
<td><p>Set if each ‘frame’ contains just one field.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_IS_BOTTOM_FIELD</span></code></p></td>
<td><p>0x00000008</p></td>
<td><p>If V4L2_FWHT_FL_IS_ALTERNATE was set, then this is set if this ‘frame’ is the
bottom field, else it is the top field.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_LUMA_IS_UNCOMPRESSED</span></code></p></td>
<td><p>0x00000010</p></td>
<td><p>Set if the Y’ (luma) plane is uncompressed.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_CB_IS_UNCOMPRESSED</span></code></p></td>
<td><p>0x00000020</p></td>
<td><p>Set if the Cb plane is uncompressed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_CR_IS_UNCOMPRESSED</span></code></p></td>
<td><p>0x00000040</p></td>
<td><p>Set if the Cr plane is uncompressed.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_CHROMA_FULL_HEIGHT</span></code></p></td>
<td><p>0x00000080</p></td>
<td><p>Set if the chroma plane has the same height as the luma plane,
else the chroma plane is half the height of the luma plane.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_CHROMA_FULL_WIDTH</span></code></p></td>
<td><p>0x00000100</p></td>
<td><p>Set if the chroma plane has the same width as the luma plane,
else the chroma plane is half the width of the luma plane.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_ALPHA_IS_UNCOMPRESSED</span></code></p></td>
<td><p>0x00000200</p></td>
<td><p>Set if the alpha plane is uncompressed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_I_FRAME</span></code></p></td>
<td><p>0x00000400</p></td>
<td><p>Set if this is an I-frame.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_COMPONENTS_NUM_MSK</span></code></p></td>
<td><p>0x00070000</p></td>
<td><p>The number of color components minus one.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_PIXENC_MSK</span></code></p></td>
<td><p>0x00180000</p></td>
<td><p>The mask for the pixel encoding.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_PIXENC_YUV</span></code></p></td>
<td><p>0x00080000</p></td>
<td><p>Set if the pixel encoding is YUV.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_PIXENC_RGB</span></code></p></td>
<td><p>0x00100000</p></td>
<td><p>Set if the pixel encoding is RGB.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_FWHT_FL_PIXENC_HSV</span></code></p></td>
<td><p>0x00180000</p></td>
<td><p>Set if the pixel encoding is HSV.</p></td>
</tr>
</tbody>
</table>
<dl class="simple" id="v4l2-codec-stateless-vp8">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_VP8_FRAME</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the frame parameters for the associated VP8 parsed frame data.
This includes the necessary parameters for
configuring a stateless hardware decoding pipeline for VP8.
The bitstream parameters are defined according to <a class="reference internal" href="biblio.html#vp8"><span class="std std-ref">VP8</span></a>.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_vp8_frame">
<code class="sig-name descname">v4l2_ctrl_vp8_frame</code><a class="headerlink" href="#c.v4l2_ctrl_vp8_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id12">
<caption><span class="caption-text">struct v4l2_ctrl_vp8_frame</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_vp8_segment" title="v4l2_vp8_segment"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp8_segment</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">segment</span></code></p></td>
<td><p>Structure with segment-based adjustments metadata.</p></td>
</tr>
<tr class="row-even"><td><p>struct <a class="reference internal" href="#c.v4l2_vp8_loop_filter" title="v4l2_vp8_loop_filter"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp8_loop_filter</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">lf</span></code></p></td>
<td><p>Structure with loop filter level adjustments metadata.</p></td>
</tr>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_vp8_quantization" title="v4l2_vp8_quantization"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp8_quantization</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">quant</span></code></p></td>
<td><p>Structure with VP8 dequantization indices metadata.</p></td>
</tr>
<tr class="row-even"><td><p>struct <a class="reference internal" href="#c.v4l2_vp8_entropy" title="v4l2_vp8_entropy"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp8_entropy</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">entropy</span></code></p></td>
<td><p>Structure with VP8 entropy coder probabilities metadata.</p></td>
</tr>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_vp8_entropy_coder_state" title="v4l2_vp8_entropy_coder_state"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp8_entropy_coder_state</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">coder_state</span></code></p></td>
<td><p>Structure with VP8 entropy coder state.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">width</span></code></p></td>
<td><p>The width of the frame. Must be set for all frames.</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">height</span></code></p></td>
<td><p>The height of the frame. Must be set for all frames.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">horizontal_scale</span></code></p></td>
<td><p>Horizontal scaling factor.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">vertical_scaling</span> <span class="pre">factor</span></code></p></td>
<td><p>Vertical scale.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></td>
<td><p>Bitstream version.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prob_skip_false</span></code></p></td>
<td><p>Indicates the probability that the macroblock is not skipped.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prob_intra</span></code></p></td>
<td><p>Indicates the probability that a macroblock is intra-predicted.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prob_last</span></code></p></td>
<td><p>Indicates the probability that the last reference frame is used
for inter-prediction</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">prob_gf</span></code></p></td>
<td><p>Indicates the probability that the golden reference frame is used
for inter-prediction</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_dct_parts</span></code></p></td>
<td><p>Number of DCT coefficients partitions. Must be one of: 1, 2, 4, or 8.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">first_part_size</span></code></p></td>
<td><p>Size of the first partition, i.e. the control partition.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">first_part_header_bits</span></code></p></td>
<td><p>Size in bits of the first partition header portion.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dct_part_sizes[8]</span></code></p></td>
<td><p>DCT coefficients sizes.</p></td>
</tr>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">last_frame_ts</span></code></p></td>
<td><p>Timestamp for the V4L2 capture buffer to use as last reference frame, used
with inter-coded frames. The timestamp refers to the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in
struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the <code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code>
function to convert the struct <code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-even"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">golden_frame_ts</span></code></p></td>
<td><p>Timestamp for the V4L2 capture buffer to use as last reference frame, used
with inter-coded frames. The timestamp refers to the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in
struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the <code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code>
function to convert the struct <code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alt_frame_ts</span></code></p></td>
<td><p>Timestamp for the V4L2 capture buffer to use as alternate reference frame, used
with inter-coded frames. The timestamp refers to the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in
struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the <code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code>
function to convert the struct <code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-even"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#vp8-frame-flags"><span class="std std-ref">Frame Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="vp8-frame-flags"><code class="docutils literal notranslate"><span class="pre">Frame</span> <span class="pre">Flags</span></code></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_FRAME_FLAG_KEY_FRAME</span></code></p></td>
<td><p>0x01</p></td>
<td><p>Indicates if the frame is a key frame.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_FRAME_FLAG_EXPERIMENTAL</span></code></p></td>
<td><p>0x02</p></td>
<td><p>Experimental bitstream.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_FRAME_FLAG_SHOW_FRAME</span></code></p></td>
<td><p>0x04</p></td>
<td><p>Show frame flag, indicates if the frame is for display.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_FRAME_FLAG_MB_NO_SKIP_COEFF</span></code></p></td>
<td><p>0x08</p></td>
<td><p>Enable/disable skipping of macroblocks with no non-zero coefficients.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_FRAME_FLAG_SIGN_BIAS_GOLDEN</span></code></p></td>
<td><p>0x10</p></td>
<td><p>Sign of motion vectors when the golden frame is referenced.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_FRAME_FLAG_SIGN_BIAS_ALT</span></code></p></td>
<td><p>0x20</p></td>
<td><p>Sign of motion vectors when the alt frame is referenced.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_vp8_entropy_coder_state">
<code class="sig-name descname">v4l2_vp8_entropy_coder_state</code><a class="headerlink" href="#c.v4l2_vp8_entropy_coder_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id13">
<caption><span class="caption-text">struct v4l2_vp8_entropy_coder_state</span><a class="headerlink" href="#id13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">range</span></code></p></td>
<td><p>coder state value for “Range”</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">value</span></code></p></td>
<td><p>coder state value for “Value”-</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bit_count</span></code></p></td>
<td><p>number of bits left.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_vp8_segment">
<code class="sig-name descname">v4l2_vp8_segment</code><a class="headerlink" href="#c.v4l2_vp8_segment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id14">
<caption><span class="caption-text">struct v4l2_vp8_segment</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">quant_update[4]</span></code></p></td>
<td><p>Signed quantizer value update.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">lf_update[4]</span></code></p></td>
<td><p>Signed loop filter level value update.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">segment_probs[3]</span></code></p></td>
<td><p>Segment probabilities.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#vp8-segment-flags"><span class="std std-ref">Segment Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="vp8-segment-flags"><code class="docutils literal notranslate"><span class="pre">Segment</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_SEGMENT_FLAG_ENABLED</span></code></p></td>
<td><p>0x01</p></td>
<td><p>Enable/disable segment-based adjustments.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_SEGMENT_FLAG_UPDATE_MAP</span></code></p></td>
<td><p>0x02</p></td>
<td><p>Indicates if the macroblock segmentation map is updated in this frame.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_SEGMENT_FLAG_UPDATE_FEATURE_DATA</span></code></p></td>
<td><p>0x04</p></td>
<td><p>Indicates if the segment feature data is updated in this frame.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_SEGMENT_FLAG_DELTA_VALUE_MODE</span></code></p></td>
<td><p>0x08</p></td>
<td><p>If is set, the segment feature data mode is delta-value.
If cleared, it’s absolute-value.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_vp8_loop_filter">
<code class="sig-name descname">v4l2_vp8_loop_filter</code><a class="headerlink" href="#c.v4l2_vp8_loop_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id15">
<caption><span class="caption-text">struct v4l2_vp8_loop_filter</span><a class="headerlink" href="#id15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ref_frm_delta[4]</span></code></p></td>
<td><p>Reference adjustment (signed) delta value.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mb_mode_delta[4]</span></code></p></td>
<td><p>Macroblock prediction mode adjustment (signed) delta value.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sharpness_level</span></code></p></td>
<td><p>Sharpness level</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level</span></code></p></td>
<td><p>Filter level</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#vp8-loop-filter-flags"><span class="std std-ref">Loop Filter Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="vp8-loop-filter-flags"><code class="docutils literal notranslate"><span class="pre">Loop</span> <span class="pre">Filter</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_LF_ADJ_ENABLE</span></code></p></td>
<td><p>0x01</p></td>
<td><p>Enable/disable macroblock-level loop filter adjustment.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_LF_DELTA_UPDATE</span></code></p></td>
<td><p>0x02</p></td>
<td><p>Indicates if the delta values used in an adjustment are updated.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP8_LF_FILTER_TYPE_SIMPLE</span></code></p></td>
<td><p>0x04</p></td>
<td><p>If set, indicates the filter type is simple.
If cleared, the filter type is normal.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_vp8_quantization">
<code class="sig-name descname">v4l2_vp8_quantization</code><a class="headerlink" href="#c.v4l2_vp8_quantization" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id16">
<caption><span class="caption-text">struct v4l2_vp8_quantization</span><a class="headerlink" href="#id16" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">y_ac_qi</span></code></p></td>
<td><p>Luma AC coefficient table index.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">y_dc_delta</span></code></p></td>
<td><p>Luma DC delta vaue.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">y2_dc_delta</span></code></p></td>
<td><p>Y2 block DC delta value.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">y2_ac_delta</span></code></p></td>
<td><p>Y2 block AC delta value.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uv_dc_delta</span></code></p></td>
<td><p>Chroma DC delta value.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uv_ac_delta</span></code></p></td>
<td><p>Chroma AC delta value.</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_vp8_entropy">
<code class="sig-name descname">v4l2_vp8_entropy</code><a class="headerlink" href="#c.v4l2_vp8_entropy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id17">
<caption><span class="caption-text">struct v4l2_vp8_entropy</span><a class="headerlink" href="#id17" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">coeff_probs[4][8][3][11]</span></code></p></td>
<td><p>Coefficient update probabilities.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">y_mode_probs[4]</span></code></p></td>
<td><p>Luma mode update probabilities.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uv_mode_probs[3]</span></code></p></td>
<td><p>Chroma mode update probabilities.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv_probs[2][19]</span></code></p></td>
<td><p>MV decoding update probabilities.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding[3]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<dl class="simple" id="v4l2-codec-stateless-mpeg2">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_MPEG2_SEQUENCE</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the sequence parameters (as extracted from the bitstream) for the
associated MPEG-2 slice data. This includes fields matching the syntax
elements from the sequence header and sequence extension parts of the
bitstream as specified by <a class="reference internal" href="biblio.html#mpeg2part2"><span class="std std-ref">ISO 13818-2</span></a>.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_mpeg2_sequence">
<code class="sig-name descname">v4l2_ctrl_mpeg2_sequence</code><a class="headerlink" href="#c.v4l2_ctrl_mpeg2_sequence" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id18">
<caption><span class="caption-text">struct v4l2_ctrl_mpeg2_sequence</span><a class="headerlink" href="#id18" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">horizontal_size</span></code></p></td>
<td><p>The width of the displayable part of the frame’s luminance component.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">vertical_size</span></code></p></td>
<td><p>The height of the displayable part of the frame’s luminance component.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">vbv_buffer_size</span></code></p></td>
<td><p>Used to calculate the required size of the video buffering verifier,
defined (in bits) as: 16 * 1024 * vbv_buffer_size.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">profile_and_level_indication</span></code></p></td>
<td><p>The current profile and level indication as extracted from the
bitstream.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_format</span></code></p></td>
<td><p>The chrominance sub-sampling format (1: 4:2:0, 2: 4:2:2, 3: 4:4:4).</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#mpeg2-sequence-flags"><span class="std std-ref">MPEG-2 Sequence Flags</span></a>.</p></td>
</tr>
</tbody>
</table>
<p id="mpeg2-sequence-flags"><code class="docutils literal notranslate"><span class="pre">MPEG-2</span> <span class="pre">Sequence</span> <span class="pre">Flags</span></code></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_SEQ_FLAG_PROGRESSIVE</span></code></p></td>
<td><p>0x01</p></td>
<td><p>Indication that all the frames for the sequence are progressive instead
of interlaced.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_MPEG2_PICTURE</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the picture parameters (as extracted from the bitstream) for the
associated MPEG-2 slice data. This includes fields matching the syntax
elements from the picture header and picture coding extension parts of the
bitstream as specified by <a class="reference internal" href="biblio.html#mpeg2part2"><span class="std std-ref">ISO 13818-2</span></a>.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_mpeg2_picture">
<code class="sig-name descname">v4l2_ctrl_mpeg2_picture</code><a class="headerlink" href="#c.v4l2_ctrl_mpeg2_picture" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id19">
<caption><span class="caption-text">struct v4l2_ctrl_mpeg2_picture</span><a class="headerlink" href="#id19" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">backward_ref_ts</span></code></p></td>
<td><p>Timestamp of the V4L2 capture buffer to use as backward reference, used
with B-coded and P-coded frames. The timestamp refers to the
<code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the
<code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code> function to convert the struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-even"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">forward_ref_ts</span></code></p></td>
<td><p>Timestamp for the V4L2 capture buffer to use as forward reference, used
with B-coded frames. The timestamp refers to the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in
struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the <code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code>
function to convert the struct <code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#mpeg2-picture-flags"><span class="std std-ref">MPEG-2 Picture Flags</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">f_code[2][2]</span></code></p></td>
<td><p>Motion vector codes.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">picture_coding_type</span></code></p></td>
<td><p>Picture coding type for the frame covered by the current slice
(V4L2_MPEG2_PIC_CODING_TYPE_I, V4L2_MPEG2_PIC_CODING_TYPE_P or
V4L2_MPEG2_PIC_CODING_TYPE_B).</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">picture_structure</span></code></p></td>
<td><p>Picture structure (1: interlaced top field, 2: interlaced bottom field,
3: progressive frame).</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">intra_dc_precision</span></code></p></td>
<td><p>Precision of Discrete Cosine transform (0: 8 bits precision,
1: 9 bits precision, 2: 10 bits precision, 3: 11 bits precision).</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved[5]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<p id="mpeg2-picture-flags"><code class="docutils literal notranslate"><span class="pre">MPEG-2</span> <span class="pre">Picture</span> <span class="pre">Flags</span></code></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_PIC_FLAG_TOP_FIELD_FIRST</span></code></p></td>
<td><p>0x00000001</p></td>
<td><p>If set and it’s an interlaced stream, top field is output first.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_PIC_FLAG_FRAME_PRED_DCT</span></code></p></td>
<td><p>0x00000002</p></td>
<td><p>If set only frame-DCT and frame prediction are used.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_PIC_FLAG_CONCEALMENT_MV</span></code></p></td>
<td><p>0x00000004</p></td>
<td><p>If set motion vectors are coded for intra macroblocks.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_PIC_FLAG_Q_SCALE_TYPE</span></code></p></td>
<td><p>0x00000008</p></td>
<td><p>This flag affects the inverse quantization process.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_PIC_FLAG_INTRA_VLC</span></code></p></td>
<td><p>0x00000010</p></td>
<td><p>This flag affects the decoding of transform coefficient data.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_PIC_FLAG_ALT_SCAN</span></code></p></td>
<td><p>0x00000020</p></td>
<td><p>This flag affects the decoding of transform coefficient data.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_PIC_FLAG_REPEAT_FIRST</span></code></p></td>
<td><p>0x00000040</p></td>
<td><p>This flag affects the decoding process of progressive frames.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_MPEG2_PIC_FLAG_PROGRESSIVE</span></code></p></td>
<td><p>0x00000080</p></td>
<td><p>Indicates whether the current frame is progressive.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_MPEG2_QUANTISATION</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies quantisation matrices, in zigzag scanning order, for the
associated MPEG-2 slice data. This control is initialized by the kernel
to the matrices default values. If a bitstream transmits a user-defined
quantisation matrices load, applications are expected to use this control.
Applications are also expected to set the control loading the default
values, if the quantisation matrices need to be reset, for instance on a
sequence header. This process is specified by section 6.3.7.
“Quant matrix extension” of the specification.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_mpeg2_quantisation">
<code class="sig-name descname">v4l2_ctrl_mpeg2_quantisation</code><a class="headerlink" href="#c.v4l2_ctrl_mpeg2_quantisation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id20">
<caption><span class="caption-text">struct v4l2_ctrl_mpeg2_quantisation</span><a class="headerlink" href="#id20" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">intra_quantiser_matrix[64]</span></code></p></td>
<td><p>The quantisation matrix coefficients for intra-coded frames, in zigzag
scanning order. It is relevant for both luma and chroma components,
although it can be superseded by the chroma-specific matrix for
non-4:2:0 YUV formats.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">non_intra_quantiser_matrix[64]</span></code></p></td>
<td><p>The quantisation matrix coefficients for non-intra-coded frames, in
zigzag scanning order. It is relevant for both luma and chroma
components, although it can be superseded by the chroma-specific matrix
for non-4:2:0 YUV formats.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_intra_quantiser_matrix[64]</span></code></p></td>
<td><p>The quantisation matrix coefficients for the chominance component of
intra-coded frames, in zigzag scanning order. Only relevant for
non-4:2:0 YUV formats.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_non_intra_quantiser_matrix[64]</span></code></p></td>
<td><p>The quantisation matrix coefficients for the chrominance component of
non-intra-coded frames, in zigzag scanning order. Only relevant for
non-4:2:0 YUV formats.</p></td>
</tr>
</tbody>
</table>
<dl class="simple" id="v4l2-codec-stateless-vp9">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_VP9_COMPRESSED_HDR</span> <span class="pre">(struct)</span></code></dt><dd><p>Stores VP9 probabilities updates as parsed from the current compressed frame
header. A value of zero in an array element means no update of the relevant
probability. Motion vector-related updates contain a new value or zero. All
other updates contain values translated with inv_map_table[] (see 6.3.5 in
<a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a>).</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_vp9_compressed_hdr">
<code class="sig-name descname">v4l2_ctrl_vp9_compressed_hdr</code><a class="headerlink" href="#c.v4l2_ctrl_vp9_compressed_hdr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id21">
<caption><span class="caption-text">struct v4l2_ctrl_vp9_compressed_hdr</span><a class="headerlink" href="#id21" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tx_mode</span></code></p></td>
<td><p>Specifies the TX mode. See <a class="reference internal" href="#vp9-tx-mode"><span class="std std-ref">TX Mode</span></a> for more details.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tx8[2][1]</span></code></p></td>
<td><p>TX 8x8 probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tx16[2][2]</span></code></p></td>
<td><p>TX 16x16 probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tx32[2][3]</span></code></p></td>
<td><p>TX 32x32 probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">coef[4][2][2][6][6][3]</span></code></p></td>
<td><p>Coefficient probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">skip[3]</span></code></p></td>
<td><p>Skip probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">inter_mode[7][3]</span></code></p></td>
<td><p>Inter prediction mode probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">interp_filter[4][2]</span></code></p></td>
<td><p>Interpolation filter probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">is_inter[4]</span></code></p></td>
<td><p>Is inter-block probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">comp_mode[5]</span></code></p></td>
<td><p>Compound prediction mode probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">single_ref[5][2]</span></code></p></td>
<td><p>Single reference probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">comp_ref[5]</span></code></p></td>
<td><p>Compound reference probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">y_mode[4][9]</span></code></p></td>
<td><p>Y prediction mode probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uv_mode[10][9]</span></code></p></td>
<td><p>UV prediction mode probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">partition[16][3]</span></code></p></td>
<td><p>Partition probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.joint[3]</span></code></p></td>
<td><p>Motion vector joint probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.sign[2]</span></code></p></td>
<td><p>Motion vector sign probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.classes[2][10]</span></code></p></td>
<td><p>Motion vector class probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.class0_bit[2]</span></code></p></td>
<td><p>Motion vector class0 bit probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.bits[2][10]</span></code></p></td>
<td><p>Motion vector bits probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.class0_fr[2][2][3]</span></code></p></td>
<td><p>Motion vector class0 fractional bit probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.fr[2][3]</span></code></p></td>
<td><p>Motion vector fractional bit probabilities delta.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.class0_hp[2]</span></code></p></td>
<td><p>Motion vector class0 high precision fractional bit probabilities delta.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv.hp[2]</span></code></p></td>
<td><p>Motion vector high precision fractional bit probabilities delta.</p></td>
</tr>
</tbody>
</table>
<p id="vp9-tx-mode"><code class="docutils literal notranslate"><span class="pre">TX</span> <span class="pre">Mode</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_TX_MODE_ONLY_4X4</span></code></p></td>
<td><p>0</p></td>
<td><p>Transform size is 4x4.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_TX_MODE_ALLOW_8X8</span></code></p></td>
<td><p>1</p></td>
<td><p>Transform size can be up to 8x8.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_TX_MODE_ALLOW_16X16</span></code></p></td>
<td><p>2</p></td>
<td><p>Transform size can be up to 16x16.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_TX_MODE_ALLOW_32X32</span></code></p></td>
<td><p>3</p></td>
<td><p>transform size can be up to 32x32.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_TX_MODE_SELECT</span></code></p></td>
<td><p>4</p></td>
<td><p>Bitstream contains the transform size for each block.</p></td>
</tr>
</tbody>
</table>
<p>See section ‘7.3.1 Tx mode semantics’ of the <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a> specification for more details.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_VP9_FRAME</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the frame parameters for the associated VP9 frame decode request.
This includes the necessary parameters for configuring a stateless hardware
decoding pipeline for VP9. The bitstream parameters are defined according
to <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a>.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_vp9_frame">
<code class="sig-name descname">v4l2_ctrl_vp9_frame</code><a class="headerlink" href="#c.v4l2_ctrl_vp9_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id22">
<caption><span class="caption-text">struct v4l2_ctrl_vp9_frame</span><a class="headerlink" href="#id22" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_vp9_loop_filter" title="v4l2_vp9_loop_filter"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp9_loop_filter</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">lf</span></code></p></td>
<td><p>Loop filter parameters. See struct <a class="reference internal" href="#c.v4l2_vp9_loop_filter" title="v4l2_vp9_loop_filter"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp9_loop_filter</span></code></a> for more details.</p></td>
</tr>
<tr class="row-even"><td><p>struct <a class="reference internal" href="#c.v4l2_vp9_quantization" title="v4l2_vp9_quantization"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp9_quantization</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">quant</span></code></p></td>
<td><p>Quantization parameters. See <a class="reference internal" href="#c.v4l2_vp9_quantization" title="v4l2_vp9_quantization"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp9_quantization</span></code></a> for more details.</p></td>
</tr>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_vp9_segmentation" title="v4l2_vp9_segmentation"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp9_segmentation</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">seg</span></code></p></td>
<td><p>Segmentation parameters. See <a class="reference internal" href="#c.v4l2_vp9_segmentation" title="v4l2_vp9_segmentation"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_vp9_segmentation</span></code></a> for more details.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>Combination of V4L2_VP9_FRAME_FLAG_* flags. See <a class="reference internal" href="#vp9-frame-flags"><span class="std std-ref">Frame Flags</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">compressed_header_size</span></code></p></td>
<td><p>Compressed header size in bytes.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">uncompressed_header_size</span></code></p></td>
<td><p>Uncompressed header size in bytes.</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">frame_width_minus_1</span></code></p></td>
<td><p>Add 1 to get the frame width expressed in pixels. See section 7.2.3 in <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">frame_height_minus_1</span></code></p></td>
<td><p>Add 1 to get the frame height expressed in pixels. See section 7.2.3 in <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">render_width_minus_1</span></code></p></td>
<td><p>Add 1 to get the expected render width expressed in pixels. This is
not used during the decoding process but might be used by HW scalers to
prepare a frame that’s ready for scanout. See section 7.2.4 in <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p>render_height_minus_1</p></td>
<td><p>Add 1 to get the expected render height expressed in pixels. This is
not used during the decoding process but might be used by HW scalers to
prepare a frame that’s ready for scanout. See section 7.2.4 in <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">last_frame_ts</span></code></p></td>
<td><p>“last” reference buffer timestamp.
The timestamp refers to the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in
struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the <code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code>
function to convert the struct <code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-even"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">golden_frame_ts</span></code></p></td>
<td><p>“golden” reference buffer timestamp.
The timestamp refers to the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in
struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the <code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code>
function to convert the struct <code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alt_frame_ts</span></code></p></td>
<td><p>“alt” reference buffer timestamp.
The timestamp refers to the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in
struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the <code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code>
function to convert the struct <code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ref_frame_sign_bias</span></code></p></td>
<td><p>a bitfield specifying whether the sign bias is set for a given
reference frame. See <a class="reference internal" href="#vp9-ref-frame-sign-bias"><span class="std std-ref">Reference Frame Sign Bias</span></a>
for more details.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reset_frame_context</span></code></p></td>
<td><p>specifies whether the frame context should be reset to default values. See
<a class="reference internal" href="#vp9-reset-frame-context"><span class="std std-ref">Reset Frame Context</span></a> for more details.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">frame_context_idx</span></code></p></td>
<td><p>Frame context that should be used/updated.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">profile</span></code></p></td>
<td><p>VP9 profile. Can be 0, 1, 2 or 3.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bit_depth</span></code></p></td>
<td><p>Component depth in bits. Can be 8, 10 or 12. Note that not all profiles
support 10 and/or 12 bits depths.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">interpolation_filter</span></code></p></td>
<td><p>Specifies the filter selection used for performing inter prediction. See
<a class="reference internal" href="#vp9-interpolation-filter"><span class="std std-ref">Interpolation Filter</span></a> for more details.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tile_cols_log2</span></code></p></td>
<td><p>Specifies the base 2 logarithm of the width of each tile (where the
width is measured in units of 8x8 blocks). Shall be less than or equal
to 6.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tile_rows_log2</span></code></p></td>
<td><p>Specifies the base 2 logarithm of the height of each tile (where the
height is measured in units of 8x8 blocks).</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reference_mode</span></code></p></td>
<td><p>Specifies the type of inter prediction to be used. See
<a class="reference internal" href="#vp9-reference-mode"><span class="std std-ref">Reference Mode</span></a> for more details. Note that
this is derived as part of the compressed header parsing process and
for this reason should have been part of
:c:type: <cite>v4l2_ctrl_vp9_compressed_hdr</cite> optional control. It is safe to
set this value to zero if the driver does not require compressed
headers.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved[7]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<p id="vp9-frame-flags"><code class="docutils literal notranslate"><span class="pre">Frame</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_KEY_FRAME</span></code></p></td>
<td><p>0x001</p></td>
<td><p>The frame is a key frame.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_SHOW_FRAME</span></code></p></td>
<td><p>0x002</p></td>
<td><p>The frame should be displayed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_ERROR_RESILIENT</span></code></p></td>
<td><p>0x004</p></td>
<td><p>The decoding should be error resilient.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_INTRA_ONLY</span></code></p></td>
<td><p>0x008</p></td>
<td><p>The frame does not reference other frames.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_ALLOW_HIGH_PREC_MV</span></code></p></td>
<td><p>0x010</p></td>
<td><p>The frame can use high precision motion vectors.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_REFRESH_FRAME_CTX</span></code></p></td>
<td><p>0x020</p></td>
<td><p>Frame context should be updated after decoding.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_PARALLEL_DEC_MODE</span></code></p></td>
<td><p>0x040</p></td>
<td><p>Parallel decoding is used.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_X_SUBSAMPLING</span></code></p></td>
<td><p>0x080</p></td>
<td><p>Vertical subsampling is enabled.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_Y_SUBSAMPLING</span></code></p></td>
<td><p>0x100</p></td>
<td><p>Horizontal subsampling is enabled.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_FRAME_FLAG_COLOR_RANGE_FULL_SWING</span></code></p></td>
<td><p>0x200</p></td>
<td><p>The full UV range is used.</p></td>
</tr>
</tbody>
</table>
<p id="vp9-ref-frame-sign-bias"><code class="docutils literal notranslate"><span class="pre">Reference</span> <span class="pre">Frame</span> <span class="pre">Sign</span> <span class="pre">Bias</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SIGN_BIAS_LAST</span></code></p></td>
<td><p>0x1</p></td>
<td><p>Sign bias is set for the last reference frame.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SIGN_BIAS_GOLDEN</span></code></p></td>
<td><p>0x2</p></td>
<td><p>Sign bias is set for the golden reference frame.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SIGN_BIAS_ALT</span></code></p></td>
<td><p>0x2</p></td>
<td><p>Sign bias is set for the alt reference frame.</p></td>
</tr>
</tbody>
</table>
<p id="vp9-reset-frame-context"><code class="docutils literal notranslate"><span class="pre">Reset</span> <span class="pre">Frame</span> <span class="pre">Context</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_RESET_FRAME_CTX_NONE</span></code></p></td>
<td><p>0</p></td>
<td><p>Do not reset any frame context.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_RESET_FRAME_CTX_SPEC</span></code></p></td>
<td><p>1</p></td>
<td><p>Reset the frame context pointed to by
<a class="reference internal" href="#c.v4l2_ctrl_vp9_frame" title="v4l2_ctrl_vp9_frame"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_vp9_frame</span></code></a>.frame_context_idx.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_RESET_FRAME_CTX_ALL</span></code></p></td>
<td><p>2</p></td>
<td><p>Reset all frame contexts.</p></td>
</tr>
</tbody>
</table>
<p>See section ‘7.2 Uncompressed header semantics’ of the <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a> specification
for more details.</p>
<p id="vp9-interpolation-filter"><code class="docutils literal notranslate"><span class="pre">Interpolation</span> <span class="pre">Filter</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_INTERP_FILTER_EIGHTTAP</span></code></p></td>
<td><p>0</p></td>
<td><p>Eight tap filter.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_INTERP_FILTER_EIGHTTAP_SMOOTH</span></code></p></td>
<td><p>1</p></td>
<td><p>Eight tap smooth filter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_INTERP_FILTER_EIGHTTAP_SHARP</span></code></p></td>
<td><p>2</p></td>
<td><p>Eeight tap sharp filter.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_INTERP_FILTER_BILINEAR</span></code></p></td>
<td><p>3</p></td>
<td><p>Bilinear filter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_INTERP_FILTER_SWITCHABLE</span></code></p></td>
<td><p>4</p></td>
<td><p>Filter selection is signaled at the block level.</p></td>
</tr>
</tbody>
</table>
<p>See section ‘7.2.7 Interpolation filter semantics’ of the <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a> specification
for more details.</p>
<p id="vp9-reference-mode"><code class="docutils literal notranslate"><span class="pre">Reference</span> <span class="pre">Mode</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_REFERENCE_MODE_SINGLE_REFERENCE</span></code></p></td>
<td><p>0</p></td>
<td><p>Indicates that all the inter blocks use only a single reference frame
to generate motion compensated prediction.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_REFERENCE_MODE_COMPOUND_REFERENCE</span></code></p></td>
<td><p>1</p></td>
<td><p>Requires all the inter blocks to use compound mode. Single reference
frame prediction is not allowed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_REFERENCE_MODE_SELECT</span></code></p></td>
<td><p>2</p></td>
<td><p>Allows each individual inter block to select between single and
compound prediction modes.</p></td>
</tr>
</tbody>
</table>
<p>See section ‘7.3.6 Frame reference mode semantics’ of the <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a> specification for more details.</p>
<dl class="type">
<dt id="c.v4l2_vp9_segmentation">
<code class="sig-name descname">v4l2_vp9_segmentation</code><a class="headerlink" href="#c.v4l2_vp9_segmentation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Encodes the quantization parameters. See section ‘7.2.10 Segmentation
params syntax’ of the <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a> specification for more details.</p>
<table class="longtable docutils align-default" id="id23">
<caption><span class="caption-text">struct v4l2_vp9_segmentation</span><a class="headerlink" href="#id23" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">feature_data[8][4]</span></code></p></td>
<td><p>Data attached to each feature. Data entry is only valid if the feature
is enabled. The array shall be indexed with segment number as the first dimension
(0..7) and one of V4L2_VP9_SEG_* as the second dimension.
See <a class="reference internal" href="#vp9-segment-feature"><span class="std std-ref">Segment Feature IDs</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">feature_enabled[8]</span></code></p></td>
<td><p>Bitmask defining which features are enabled in each segment. The value for each
segment is a combination of V4L2_VP9_SEGMENT_FEATURE_ENABLED(id) values where id is
one of V4L2_VP9_SEG_*. See <a class="reference internal" href="#vp9-segment-feature"><span class="std std-ref">Segment Feature IDs</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tree_probs[7]</span></code></p></td>
<td><p>Specifies the probability values to be used when decoding a Segment-ID.
See ‘5.15. Segmentation map’ section of <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a> for more details.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pred_probs[3]</span></code></p></td>
<td><p>Specifies the probability values to be used when decoding a
Predicted-Segment-ID. See ‘6.4.14. Get segment id syntax’
section of <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a> for more details.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>Combination of V4L2_VP9_SEGMENTATION_FLAG_* flags. See
<a class="reference internal" href="#vp9-segmentation-flags"><span class="std std-ref">Segmentation Flags</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved[5]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<p id="vp9-segment-feature"><code class="docutils literal notranslate"><span class="pre">Segment</span> <span class="pre">feature</span> <span class="pre">IDs</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEG_LVL_ALT_Q</span></code></p></td>
<td><p>0</p></td>
<td><p>Quantizer segment feature.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEG_LVL_ALT_L</span></code></p></td>
<td><p>1</p></td>
<td><p>Loop filter segment feature.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEG_LVL_REF_FRAME</span></code></p></td>
<td><p>2</p></td>
<td><p>Reference frame segment feature.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEG_LVL_SKIP</span></code></p></td>
<td><p>3</p></td>
<td><p>Skip segment feature.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEG_LVL_MAX</span></code></p></td>
<td><p>4</p></td>
<td><p>Number of segment features.</p></td>
</tr>
</tbody>
</table>
<p id="vp9-segmentation-flags"><code class="docutils literal notranslate"><span class="pre">Segmentation</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEGMENTATION_FLAG_ENABLED</span></code></p></td>
<td><p>0x01</p></td>
<td><p>Indicates that this frame makes use of the segmentation tool.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEGMENTATION_FLAG_UPDATE_MAP</span></code></p></td>
<td><p>0x02</p></td>
<td><p>Indicates that the segmentation map should be updated during the
decoding of this frame.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEGMENTATION_FLAG_TEMPORAL_UPDATE</span></code></p></td>
<td><p>0x04</p></td>
<td><p>Indicates that the updates to the segmentation map are coded
relative to the existing segmentation map.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEGMENTATION_FLAG_UPDATE_DATA</span></code></p></td>
<td><p>0x08</p></td>
<td><p>Indicates that new parameters are about to be specified for each
segment.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_SEGMENTATION_FLAG_ABS_OR_DELTA_UPDATE</span></code></p></td>
<td><p>0x10</p></td>
<td><p>Indicates that the segmentation parameters represent the actual values
to be used.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_vp9_quantization">
<code class="sig-name descname">v4l2_vp9_quantization</code><a class="headerlink" href="#c.v4l2_vp9_quantization" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Encodes the quantization parameters. See section ‘7.2.9 Quantization params
syntax’ of the VP9 specification for more details.</p>
<table class="longtable docutils align-default" id="id24">
<caption><span class="caption-text">struct v4l2_vp9_quantization</span><a class="headerlink" href="#id24" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">base_q_idx</span></code></p></td>
<td><p>Indicates the base frame qindex.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_q_y_dc</span></code></p></td>
<td><p>Indicates the Y DC quantizer relative to base_q_idx.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_q_uv_dc</span></code></p></td>
<td><p>Indicates the UV DC quantizer relative to base_q_idx.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_q_uv_ac</span></code></p></td>
<td><p>Indicates the UV AC quantizer relative to base_q_idx.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved[4]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_vp9_loop_filter">
<code class="sig-name descname">v4l2_vp9_loop_filter</code><a class="headerlink" href="#c.v4l2_vp9_loop_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>This structure contains all loop filter related parameters. See sections
‘7.2.8 Loop filter semantics’ of the <a class="reference internal" href="biblio.html#vp9"><span class="std std-ref">VP9</span></a> specification for more details.</p>
<table class="longtable docutils align-default" id="id25">
<caption><span class="caption-text">struct v4l2_vp9_loop_filter</span><a class="headerlink" href="#id25" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ref_deltas[4]</span></code></p></td>
<td><p>Contains the adjustment needed for the filter level based on the chosen
reference frame.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mode_deltas[2]</span></code></p></td>
<td><p>Contains the adjustment needed for the filter level based on the chosen
mode.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">level</span></code></p></td>
<td><p>Indicates the loop filter strength.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sharpness</span></code></p></td>
<td><p>Indicates the sharpness level.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>Combination of V4L2_VP9_LOOP_FILTER_FLAG_* flags.
See <a class="reference internal" href="#vp9-loop-filter-flags"><span class="std std-ref">Loop Filter Flags</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved[7]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<p id="vp9-loop-filter-flags"><code class="docutils literal notranslate"><span class="pre">Loop</span> <span class="pre">Filter</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_LOOP_FILTER_FLAG_DELTA_ENABLED</span></code></p></td>
<td><p>0x1</p></td>
<td><p>When set, the filter level depends on the mode and reference frame used
to predict a block.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_VP9_LOOP_FILTER_FLAG_DELTA_UPDATE</span></code></p></td>
<td><p>0x2</p></td>
<td><p>When set, the bitstream contains additional syntax elements that
specify which mode and reference frame deltas are to be updated.</p></td>
</tr>
</tbody>
</table>
<dl class="simple" id="v4l2-codec-stateless-hevc">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_SPS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the Sequence Parameter Set fields (as extracted from the
bitstream) for the associated HEVC slice data.
These bitstream parameters are defined according to <a class="reference internal" href="biblio.html#hevc"><span class="std std-ref">ITU H.265/HEVC</span></a>.
They are described in section 7.4.3.2 “Sequence parameter set RBSP
semantics” of the specification.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_hevc_sps">
<code class="sig-name descname">v4l2_ctrl_hevc_sps</code><a class="headerlink" href="#c.v4l2_ctrl_hevc_sps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id26">
<caption><span class="caption-text">struct v4l2_ctrl_hevc_sps</span><a class="headerlink" href="#id26" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">video_parameter_set_id</span></code></p></td>
<td><p>Specifies the value of the vps_video_parameter_set_id of the active VPS
as described in section “7.4.3.2.1 General sequence parameter set RBSP semantics”
of H.265 specifications.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">seq_parameter_set_id</span></code></p></td>
<td><p>Provides an identifier for the SPS for reference by other syntax elements
as described in section “7.4.3.2.1 General sequence parameter set RBSP semantics”
of H.265 specifications.</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_width_in_luma_samples</span></code></p></td>
<td><p>Specifies the width of each decoded picture in units of luma samples.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_height_in_luma_samples</span></code></p></td>
<td><p>Specifies the height of each decoded picture in units of luma samples.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bit_depth_luma_minus8</span></code></p></td>
<td><p>This value plus 8 specifies the bit depth of the samples of the luma array.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bit_depth_chroma_minus8</span></code></p></td>
<td><p>This value plus 8 specifies the bit depth of the samples of the chroma arrays.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_max_pic_order_cnt_lsb_minus4</span></code></p></td>
<td><p>Specifies the value of the variable MaxPicOrderCntLsb.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sps_max_dec_pic_buffering_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the maximum required size of the decoded picture buffer for
the coded video sequence (CVS).</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sps_max_num_reorder_pics</span></code></p></td>
<td><p>Indicates the maximum allowed number of pictures.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sps_max_latency_increase_plus1</span></code></p></td>
<td><p>Used to signal MaxLatencyPictures, which indicates the maximum number of
pictures that can precede any picture in output order and follow that
picture in decoding order.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_min_luma_coding_block_size_minus3</span></code></p></td>
<td><p>This value plus 3 specifies the minimum luma coding block size.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_diff_max_min_luma_coding_block_size</span></code></p></td>
<td><p>Specifies the difference between the maximum and minimum luma coding block size.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_min_luma_transform_block_size_minus2</span></code></p></td>
<td><p>This value plus 2 specifies the minimum luma transform block size.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_diff_max_min_luma_transform_block_size</span></code></p></td>
<td><p>Specifies the difference between the maximum and minimum luma transform block size.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">max_transform_hierarchy_depth_inter</span></code></p></td>
<td><p>Specifies the maximum hierarchy depth for transform units of coding units coded
in inter prediction mode.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">max_transform_hierarchy_depth_intra</span></code></p></td>
<td><p>Specifies the maximum hierarchy depth for transform units of coding units coded in
intra prediction mode.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pcm_sample_bit_depth_luma_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the number of bits used to represent each of PCM sample values of the
luma component.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pcm_sample_bit_depth_chroma_minus1</span></code></p></td>
<td><p>Specifies the number of bits used to represent each of PCM sample values of
the chroma components.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_min_pcm_luma_coding_block_size_minus3</span></code></p></td>
<td><p>Plus 3 specifies the minimum size of coding blocks.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_diff_max_min_pcm_luma_coding_block_size</span></code></p></td>
<td><p>Specifies the difference between the maximum and minimum size of coding blocks.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_short_term_ref_pic_sets</span></code></p></td>
<td><p>Specifies the number of st_ref_pic_set() syntax structures included in the SPS.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_long_term_ref_pics_sps</span></code></p></td>
<td><p>Specifies the number of candidate long-term reference pictures that are
specified in the SPS.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_format_idc</span></code></p></td>
<td><p>Specifies the chroma sampling.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sps_max_sub_layers_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the maximum number of temporal sub-layers.</p></td>
</tr>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#hevc-sps-flags"><span class="std std-ref">Sequence Parameter Set Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="hevc-sps-flags"><code class="docutils literal notranslate"><span class="pre">Sequence</span> <span class="pre">Parameter</span> <span class="pre">Set</span> <span class="pre">Flags</span></code></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_SEPARATE_COLOUR_PLANE</span></code></p></td>
<td><p>0x00000001</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_SCALING_LIST_ENABLED</span></code></p></td>
<td><p>0x00000002</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_AMP_ENABLED</span></code></p></td>
<td><p>0x00000004</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_SAMPLE_ADAPTIVE_OFFSET</span></code></p></td>
<td><p>0x00000008</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_PCM_ENABLED</span></code></p></td>
<td><p>0x00000010</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_PCM_LOOP_FILTER_DISABLED</span></code></p></td>
<td><p>0x00000020</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_LONG_TERM_REF_PICS_PRESENT</span></code></p></td>
<td><p>0x00000040</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_SPS_TEMPORAL_MVP_ENABLED</span></code></p></td>
<td><p>0x00000080</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SPS_FLAG_STRONG_INTRA_SMOOTHING_ENABLED</span></code></p></td>
<td><p>0x00000100</p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_PPS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the Picture Parameter Set fields (as extracted from the
bitstream) for the associated HEVC slice data.
These bitstream parameters are defined according to <a class="reference internal" href="biblio.html#hevc"><span class="std std-ref">ITU H.265/HEVC</span></a>.
They are described in section 7.4.3.3 “Picture parameter set RBSP
semantics” of the specification.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_hevc_pps">
<code class="sig-name descname">v4l2_ctrl_hevc_pps</code><a class="headerlink" href="#c.v4l2_ctrl_hevc_pps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id27">
<caption><span class="caption-text">struct v4l2_ctrl_hevc_pps</span><a class="headerlink" href="#id27" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_parameter_set_id</span></code></p></td>
<td><p>Identifies the PPS for reference by other syntax elements.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_extra_slice_header_bits</span></code></p></td>
<td><p>Specifies the number of extra slice header bits that are present
in the slice header RBSP for coded pictures referring to the PPS.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_idx_l0_default_active_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the inferred value of num_ref_idx_l0_active_minus1.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_idx_l1_default_active_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the inferred value of num_ref_idx_l1_active_minus1.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">init_qp_minus26</span></code></p></td>
<td><p>This value plus 26 specifies the initial value of SliceQp Y for each slice
referring to the PPS.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">diff_cu_qp_delta_depth</span></code></p></td>
<td><p>Specifies the difference between the luma coding tree block size
and the minimum luma coding block size of coding units that
convey cu_qp_delta_abs and cu_qp_delta_sign_flag.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pps_cb_qp_offset</span></code></p></td>
<td><p>Specifies the offsets to the luma quantization parameter Cb.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pps_cr_qp_offset</span></code></p></td>
<td><p>Specifies the offsets to the luma quantization parameter Cr.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_tile_columns_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the number of tile columns partitioning the picture.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_tile_rows_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the number of tile rows partitioning the picture.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">column_width_minus1[20]</span></code></p></td>
<td><p>This value plus 1 specifies the width of the i-th tile column in units of
coding tree blocks.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">row_height_minus1[22]</span></code></p></td>
<td><p>This value plus 1 specifies the height of the i-th tile row in units of coding
tree blocks.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pps_beta_offset_div2</span></code></p></td>
<td><p>Specifies the default deblocking parameter offsets for beta divided by 2.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pps_tc_offset_div2</span></code></p></td>
<td><p>Specifies the default deblocking parameter offsets for tC divided by 2.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log2_parallel_merge_level_minus2</span></code></p></td>
<td><p>This value plus 2 specifies the value of the variable Log2ParMrgLevel.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding[4]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#hevc-pps-flags"><span class="std std-ref">Picture Parameter Set Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="hevc-pps-flags"><code class="docutils literal notranslate"><span class="pre">Picture</span> <span class="pre">Parameter</span> <span class="pre">Set</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_DEPENDENT_SLICE_SEGMENT_ENABLED</span></code></p></td>
<td><p>0x00000001</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_OUTPUT_FLAG_PRESENT</span></code></p></td>
<td><p>0x00000002</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_SIGN_DATA_HIDING_ENABLED</span></code></p></td>
<td><p>0x00000004</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_CABAC_INIT_PRESENT</span></code></p></td>
<td><p>0x00000008</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_CONSTRAINED_INTRA_PRED</span></code></p></td>
<td><p>0x00000010</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_TRANSFORM_SKIP_ENABLED</span></code></p></td>
<td><p>0x00000020</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_CU_QP_DELTA_ENABLED</span></code></p></td>
<td><p>0x00000040</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_PPS_SLICE_CHROMA_QP_OFFSETS_PRESENT</span></code></p></td>
<td><p>0x00000080</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_WEIGHTED_PRED</span></code></p></td>
<td><p>0x00000100</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_WEIGHTED_BIPRED</span></code></p></td>
<td><p>0x00000200</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_TRANSQUANT_BYPASS_ENABLED</span></code></p></td>
<td><p>0x00000400</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_TILES_ENABLED</span></code></p></td>
<td><p>0x00000800</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_ENTROPY_CODING_SYNC_ENABLED</span></code></p></td>
<td><p>0x00001000</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_LOOP_FILTER_ACROSS_TILES_ENABLED</span></code></p></td>
<td><p>0x00002000</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_PPS_LOOP_FILTER_ACROSS_SLICES_ENABLED</span></code></p></td>
<td><p>0x00004000</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_DEBLOCKING_FILTER_OVERRIDE_ENABLED</span></code></p></td>
<td><p>0x00008000</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_PPS_DISABLE_DEBLOCKING_FILTER</span></code></p></td>
<td><p>0x00010000</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_LISTS_MODIFICATION_PRESENT</span></code></p></td>
<td><p>0x00020000</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_SLICE_SEGMENT_HEADER_EXTENSION_PRESENT</span></code></p></td>
<td><p>0x00040000</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_DEBLOCKING_FILTER_CONTROL_PRESENT</span></code></p></td>
<td><p>0x00080000</p></td>
<td><p>Specifies the presence of deblocking filter control syntax elements in
the PPS</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_PPS_FLAG_UNIFORM_SPACING</span></code></p></td>
<td><p>0x00100000</p></td>
<td><p>Specifies that tile column boundaries and likewise tile row boundaries
are distributed uniformly across the picture</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_SLICE_PARAMS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies various slice-specific parameters, especially from the NAL unit
header, general slice segment header and weighted prediction parameter
parts of the bitstream.
These bitstream parameters are defined according to <a class="reference internal" href="biblio.html#hevc"><span class="std std-ref">ITU H.265/HEVC</span></a>.
They are described in section 7.4.7 “General slice segment header
semantics” of the specification.
This control is a dynamically sized 1-dimensional array,
V4L2_CTRL_FLAG_DYNAMIC_ARRAY flag must be set when using it.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_hevc_slice_params">
<code class="sig-name descname">v4l2_ctrl_hevc_slice_params</code><a class="headerlink" href="#c.v4l2_ctrl_hevc_slice_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id28">
<caption><span class="caption-text">struct v4l2_ctrl_hevc_slice_params</span><a class="headerlink" href="#id28" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bit_size</span></code></p></td>
<td><p>Size (in bits) of the current slice data.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data_byte_offset</span></code></p></td>
<td><p>Offset (in byte) to the video data in the current slice data.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_entry_point_offsets</span></code></p></td>
<td><p>Specifies the number of entry point offset syntax elements in the slice header.
When the driver supports it, the <code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_ENTRY_POINT_OFFSETS</span></code>
must be set.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nal_unit_type</span></code></p></td>
<td><p>Specifies the coding type of the slice (B, P or I).</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nuh_temporal_id_plus1</span></code></p></td>
<td><p>Minus 1 specifies a temporal identifier for the NAL unit.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_type</span></code></p></td>
<td><p>(V4L2_HEVC_SLICE_TYPE_I, V4L2_HEVC_SLICE_TYPE_P or
V4L2_HEVC_SLICE_TYPE_B).</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">colour_plane_id</span></code></p></td>
<td><p>Specifies the colour plane associated with the current slice.</p></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_pic_order_cnt</span></code></p></td>
<td><p>Specifies the picture order count.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_idx_l0_active_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the maximum reference index for reference picture list 0
that may be used to decode the slice.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_ref_idx_l1_active_minus1</span></code></p></td>
<td><p>This value plus 1 specifies the maximum reference index for reference picture list 1
that may be used to decode the slice.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">collocated_ref_idx</span></code></p></td>
<td><p>Specifies the reference index of the collocated picture used for
temporal motion vector prediction.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">five_minus_max_num_merge_cand</span></code></p></td>
<td><p>Specifies the maximum number of merging motion vector prediction
candidates supported in the slice subtracted from 5.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_qp_delta</span></code></p></td>
<td><p>Specifies the initial value of QpY to be used for the coding blocks in the slice.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_cb_qp_offset</span></code></p></td>
<td><p>Specifies a difference to be added to the value of pps_cb_qp_offset.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_cr_qp_offset</span></code></p></td>
<td><p>Specifies a difference to be added to the value of pps_cr_qp_offset.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_act_y_qp_offset</span></code></p></td>
<td><p>Specifies the offset to the luma of quantization parameter qP derived in section 8.6.2</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_act_cb_qp_offset</span></code></p></td>
<td><p>Specifies the offset to the cb of quantization parameter qP derived in section 8.6.2</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_act_cr_qp_offset</span></code></p></td>
<td><p>Specifies the offset to the cr of quantization parameter qP derived in section 8.6.2</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_beta_offset_div2</span></code></p></td>
<td><p>Specifies the deblocking parameter offsets for beta divided by 2.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_tc_offset_div2</span></code></p></td>
<td><p>Specifies the deblocking parameter offsets for tC divided by 2.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_struct</span></code></p></td>
<td><p>Indicates whether a picture should be displayed as a frame or as one or more fields.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">slice_segment_addr</span></code></p></td>
<td><p>Specifies the address of the first coding tree block in the slice segment.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ref_idx_l0[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>The list of L0 reference elements as indices in the DPB.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ref_idx_l1[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>The list of L1 reference elements as indices in the DPB.</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">short_term_ref_pic_set_size</span></code></p></td>
<td><p>Specifies the size, in bits, of the short-term reference picture set, described as st_ref_pic_set()
in the specification, included in the slice header or SPS (section 7.3.6.1).</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">long_term_ref_pic_set_size</span></code></p></td>
<td><p>Specifies the size, in bits, of the long-term reference picture set include in the slice header
or SPS. It is the number of bits in the conditional block if(long_term_ref_pics_present_flag)
in section 7.3.6.1 of the specification.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
<tr class="row-even"><td><p>struct <a class="reference internal" href="#c.v4l2_hevc_pred_weight_table" title="v4l2_hevc_pred_weight_table"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_hevc_pred_weight_table</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pred_weight_table</span></code></p></td>
<td><p>The prediction weight coefficients for inter-picture prediction.</p></td>
</tr>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#hevc-slice-params-flags"><span class="std std-ref">Slice Parameters Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="hevc-slice-params-flags"><code class="docutils literal notranslate"><span class="pre">Slice</span> <span class="pre">Parameters</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_SLICE_SAO_LUMA</span></code></p></td>
<td><p>0x00000001</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_SLICE_SAO_CHROMA</span></code></p></td>
<td><p>0x00000002</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_SLICE_TEMPORAL_MVP_ENABLED</span></code></p></td>
<td><p>0x00000004</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_MVD_L1_ZERO</span></code></p></td>
<td><p>0x00000008</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_CABAC_INIT</span></code></p></td>
<td><p>0x00000010</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_COLLOCATED_FROM_L0</span></code></p></td>
<td><p>0x00000020</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_USE_INTEGER_MV</span></code></p></td>
<td><p>0x00000040</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_SLICE_DEBLOCKING_FILTER_DISABLED</span></code></p></td>
<td><p>0x00000080</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_SLICE_LOOP_FILTER_ACROSS_SLICES_ENABLED</span></code></p></td>
<td><p>0x00000100</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SLICE_PARAMS_FLAG_DEPENDENT_SLICE_SEGMENT</span></code></p></td>
<td><p>0x00000200</p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_ENTRY_POINT_OFFSETS</span> <span class="pre">(integer)</span></code></dt><dd><p>Specifies entry point offsets in bytes.
This control is a dynamically sized array. The number of entry point
offsets is reported by the <code class="docutils literal notranslate"><span class="pre">elems</span></code> field.
This bitstream parameter is defined according to <a class="reference internal" href="biblio.html#hevc"><span class="std std-ref">ITU H.265/HEVC</span></a>.
They are described in section 7.4.7.1 “General slice segment header
semantics” of the specification.
When multiple slices are submitted in a request, the length of
this array must be the sum of num_entry_point_offsets of all the
slices in the request.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_SCALING_MATRIX</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies the HEVC scaling matrix parameters used for the scaling process
for transform coefficients.
These matrix and parameters are defined according to <a class="reference internal" href="biblio.html#hevc"><span class="std std-ref">ITU H.265/HEVC</span></a>.
They are described in section 7.4.5 “Scaling list data semantics” of
the specification.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_hevc_scaling_matrix">
<code class="sig-name descname">v4l2_ctrl_hevc_scaling_matrix</code><a class="headerlink" href="#c.v4l2_ctrl_hevc_scaling_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id29">
<caption><span class="caption-text">struct v4l2_ctrl_hevc_scaling_matrix</span><a class="headerlink" href="#id29" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scaling_list_4x4[6][16]</span></code></p></td>
<td><p>Scaling list is used for the scaling process for transform
coefficients. The values on each scaling list are expected
in raster scan order.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scaling_list_8x8[6][64]</span></code></p></td>
<td><p>Scaling list is used for the scaling process for transform
coefficients. The values on each scaling list are expected
in raster scan order.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scaling_list_16x16[6][64]</span></code></p></td>
<td><p>Scaling list is used for the scaling process for transform
coefficients. The values on each scaling list are expected
in raster scan order.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scaling_list_32x32[2][64]</span></code></p></td>
<td><p>Scaling list is used for the scaling process for transform
coefficients. The values on each scaling list are expected
in raster scan order.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scaling_list_dc_coef_16x16[6]</span></code></p></td>
<td><p>Scaling list is used for the scaling process for transform
coefficients. The values on each scaling list are expected
in raster scan order.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scaling_list_dc_coef_32x32[2]</span></code></p></td>
<td><p>Scaling list is used for the scaling process for transform
coefficients. The values on each scaling list are expected
in raster scan order.</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_hevc_dpb_entry">
<code class="sig-name descname">v4l2_hevc_dpb_entry</code><a class="headerlink" href="#c.v4l2_hevc_dpb_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id30">
<caption><span class="caption-text">struct v4l2_hevc_dpb_entry</span><a class="headerlink" href="#id30" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code></p></td>
<td><p>Timestamp of the V4L2 capture buffer to use as reference, used
with B-coded and P-coded frames. The timestamp refers to the
<code class="docutils literal notranslate"><span class="pre">timestamp</span></code> field in struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code>. Use the
<code class="xref c c-func docutils literal notranslate"><span class="pre">v4l2_timeval_to_ns()</span></code> function to convert the struct
<code class="xref c c-type docutils literal notranslate"><span class="pre">timeval</span></code> in struct <code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buffer</span></code> to a __u64.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>Long term flag for the reference frame
(V4L2_HEVC_DPB_ENTRY_LONG_TERM_REFERENCE). The flag is set as
described in the ITU HEVC specification chapter “8.3.2 Decoding
process for reference picture set”.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">field_pic</span></code></p></td>
<td><p>Whether the reference is a field picture or a frame.
See <a class="reference internal" href="#hevc-dpb-field-pic-flags"><span class="std std-ref">HEVC dpb field pic Flags</span></a></p></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_order_cnt_val</span></code></p></td>
<td><p>The picture order count of the current picture.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding[2]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<p id="hevc-dpb-field-pic-flags"><code class="docutils literal notranslate"><span class="pre">HEVC</span> <span class="pre">dpb</span> <span class="pre">field</span> <span class="pre">pic</span> <span class="pre">Flags</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_FRAME</span></code></p></td>
<td><p>0</p></td>
<td><p>(progressive) Frame</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_TOP_FIELD</span></code></p></td>
<td><p>1</p></td>
<td><p>Top field</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_BOTTOM_FIELD</span></code></p></td>
<td><p>2</p></td>
<td><p>Bottom field</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_TOP_BOTTOM</span></code></p></td>
<td><p>3</p></td>
<td><p>Top field, bottom field, in that order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_BOTTOM_TOP</span></code></p></td>
<td><p>4</p></td>
<td><p>Bottom field, top field, in that order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_TOP_BOTTOM_TOP</span></code></p></td>
<td><p>5</p></td>
<td><p>Top field, bottom field, top field repeated, in that order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_BOTTOM_TOP_BOTTOM</span></code></p></td>
<td><p>6</p></td>
<td><p>Bottom field, top field, bottom field repeated, in that order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_FRAME_DOUBLING</span></code></p></td>
<td><p>7</p></td>
<td><p>Frame doubling</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_FRAME_TRIPLING</span></code></p></td>
<td><p>8</p></td>
<td><p>Frame tripling</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_TOP_PAIRED_PREVIOUS_BOTTOM</span></code></p></td>
<td><p>9</p></td>
<td><p>Top field paired with previous bottom field in output order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_BOTTOM_PAIRED_PREVIOUS_TOP</span></code></p></td>
<td><p>10</p></td>
<td><p>Bottom field paired with previous top field in output order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_TOP_PAIRED_NEXT_BOTTOM</span></code></p></td>
<td><p>11</p></td>
<td><p>Top field paired with next bottom field in output order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_SEI_PIC_STRUCT_BOTTOM_PAIRED_NEXT_TOP</span></code></p></td>
<td><p>12</p></td>
<td><p>Bottom field paired with next top field in output order</p></td>
</tr>
</tbody>
</table>
<dl class="type">
<dt id="c.v4l2_hevc_pred_weight_table">
<code class="sig-name descname">v4l2_hevc_pred_weight_table</code><a class="headerlink" href="#c.v4l2_hevc_pred_weight_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id31">
<caption><span class="caption-text">struct v4l2_hevc_pred_weight_table</span><a class="headerlink" href="#id31" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_luma_weight_l0[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>The difference of the weighting factor applied to the luma
prediction value for list 0.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">luma_offset_l0[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>The additive offset applied to the luma prediction value for list 0.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_chroma_weight_l0[V4L2_HEVC_DPB_ENTRIES_NUM_MAX][2]</span></code></p></td>
<td><p>The difference of the weighting factor applied to the chroma
prediction value for list 0.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_offset_l0[V4L2_HEVC_DPB_ENTRIES_NUM_MAX][2]</span></code></p></td>
<td><p>The difference of the additive offset applied to the chroma
prediction values for list 0.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_luma_weight_l1[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>The difference of the weighting factor applied to the luma
prediction value for list 1.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">luma_offset_l1[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>The additive offset applied to the luma prediction value for list 1.</p></td>
</tr>
<tr class="row-odd"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_chroma_weight_l1[V4L2_HEVC_DPB_ENTRIES_NUM_MAX][2]</span></code></p></td>
<td><p>The difference of the weighting factor applied to the chroma
prediction value for list 1.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">chroma_offset_l1[V4L2_HEVC_DPB_ENTRIES_NUM_MAX][2]</span></code></p></td>
<td><p>The difference of the additive offset applied to the chroma
prediction values for list 1.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">luma_log2_weight_denom</span></code></p></td>
<td><p>The base 2 logarithm of the denominator for all luma weighting
factors.</p></td>
</tr>
<tr class="row-even"><td><p>__s8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">delta_chroma_log2_weight_denom</span></code></p></td>
<td><p>The difference of the base 2 logarithm of the denominator for
all chroma weighting factors.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">padding[6]</span></code></p></td>
<td><p>Applications and drivers must set this to zero.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_DECODE_MODE</span> <span class="pre">(enum)</span></code></dt><dd><p>Specifies the decoding mode to use. Currently exposes slice-based and
frame-based decoding but new modes might be added later on.
This control is used as a modifier for V4L2_PIX_FMT_HEVC_SLICE
pixel format. Applications that support V4L2_PIX_FMT_HEVC_SLICE
are required to set this control in order to specify the decoding mode
that is expected for the buffer.
Drivers may expose a single or multiple decoding modes, depending
on what they can support.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_stateless_hevc_decode_mode">
<code class="sig-name descname">v4l2_stateless_hevc_decode_mode</code><a class="headerlink" href="#c.v4l2_stateless_hevc_decode_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_STATELESS_HEVC_DECODE_MODE_SLICE_BASED</span></code></p></td>
<td><p>0</p></td>
<td><p>Decoding is done at the slice granularity.
The OUTPUT buffer must contain a single slice.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_STATELESS_HEVC_DECODE_MODE_FRAME_BASED</span></code></p></td>
<td><p>1</p></td>
<td><p>Decoding is done at the frame granularity.
The OUTPUT buffer must contain all slices needed to decode the
frame.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_START_CODE</span> <span class="pre">(enum)</span></code></dt><dd><p>Specifies the HEVC slice start code expected for each slice.
This control is used as a modifier for V4L2_PIX_FMT_HEVC_SLICE
pixel format. Applications that support V4L2_PIX_FMT_HEVC_SLICE
are required to set this control in order to specify the start code
that is expected for the buffer.
Drivers may expose a single or multiple start codes, depending
on what they can support.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_stateless_hevc_start_code">
<code class="sig-name descname">v4l2_stateless_hevc_start_code</code><a class="headerlink" href="#c.v4l2_stateless_hevc_start_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_STATELESS_HEVC_START_CODE_NONE</span></code></p></td>
<td><p>0</p></td>
<td><p>Selecting this value specifies that HEVC slices are passed
to the driver without any start code. The bitstream data should be
according to <a class="reference internal" href="biblio.html#hevc"><span class="std std-ref">ITU H.265/HEVC</span></a> 7.3.1.1 General NAL unit syntax, hence
contains emulation prevention bytes when required.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_STATELESS_HEVC_START_CODE_ANNEX_B</span></code></p></td>
<td><p>1</p></td>
<td><p>Selecting this value specifies that HEVC slices are expected
to be prefixed by Annex B start codes. According to <a class="reference internal" href="biblio.html#hevc"><span class="std std-ref">ITU H.265/HEVC</span></a>
valid start codes can be 3-bytes 0x000001 or 4-bytes 0x00000001.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_MPEG_VIDEO_BASELAYER_PRIORITY_ID</span> <span class="pre">(integer)</span></code></dt><dd><p>Specifies a priority identifier for the NAL unit, which will be applied to
the base layer. By default this value is set to 0 for the base layer,
and the next layer will have the priority ID assigned as 1, 2, 3 and so on.
The video encoder can’t decide the priority id to be applied to a layer,
so this has to come from client.
This is applicable to H264 and valid Range is from 0 to 63.
Source Rec. ITU-T H.264 (06/2019); G.7.4.1.1, G.8.8.1.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_MPEG_VIDEO_LTR_COUNT</span> <span class="pre">(integer)</span></code></dt><dd><p>Specifies the maximum number of Long Term Reference (LTR) frames at any
given time that the encoder can keep.
This is applicable to the H264 and HEVC encoders.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_MPEG_VIDEO_FRAME_LTR_INDEX</span> <span class="pre">(integer)</span></code></dt><dd><p>After setting this control the frame that will be queued next
will be marked as a Long Term Reference (LTR) frame
and given this LTR index which ranges from 0 to LTR_COUNT-1.
This is applicable to the H264 and HEVC encoders.
Source Rec. ITU-T H.264 (06/2019); Table 7.9</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_MPEG_VIDEO_USE_LTR_FRAMES</span> <span class="pre">(bitmask)</span></code></dt><dd><p>Specifies the Long Term Reference (LTR) frame(s) to be used for
encoding the next frame queued after setting this control.
This provides a bitmask which consists of bits [0, LTR_COUNT-1].
This is applicable to the H264 and HEVC encoders.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">V4L2_CID_STATELESS_HEVC_DECODE_PARAMS</span> <span class="pre">(struct)</span></code></dt><dd><p>Specifies various decode parameters, especially the references picture order
count (POC) for all the lists (short, long, before, current, after) and the
number of entries for each of them.
These parameters are defined according to <a class="reference internal" href="biblio.html#hevc"><span class="std std-ref">ITU H.265/HEVC</span></a>.
They are described in section 8.3 “Slice decoding process” of the
specification.</p>
</dd>
</dl>
<dl class="type">
<dt id="c.v4l2_ctrl_hevc_decode_params">
<code class="sig-name descname">v4l2_ctrl_hevc_decode_params</code><a class="headerlink" href="#c.v4l2_ctrl_hevc_decode_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id32">
<caption><span class="caption-text">struct v4l2_ctrl_hevc_decode_params</span><a class="headerlink" href="#id32" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pic_order_cnt_val</span></code></p></td>
<td><p>PicOrderCntVal as described in section 8.3.1 “Decoding process
for picture order count” of the specification.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">short_term_ref_pic_set_size</span></code></p></td>
<td><p>Specifies the size, in bits, of the short-term reference picture set, of the first slice
described as st_ref_pic_set() in the specification, included in the slice header
or SPS (section 7.3.6.1).</p></td>
</tr>
<tr class="row-odd"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">long_term_ref_pic_set_size</span></code></p></td>
<td><p>Specifies the size, in bits, of the long-term reference picture set, of the first slice
included in the slice header or SPS. It is the number of bits in the conditional block
if(long_term_ref_pics_present_flag) in section 7.3.6.1 of the specification.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_active_dpb_entries</span></code></p></td>
<td><p>The number of entries in <code class="docutils literal notranslate"><span class="pre">dpb</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_poc_st_curr_before</span></code></p></td>
<td><p>The number of reference pictures in the short-term set that come before
the current frame.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_poc_st_curr_after</span></code></p></td>
<td><p>The number of reference pictures in the short-term set that come after
the current frame.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_poc_lt_curr</span></code></p></td>
<td><p>The number of reference pictures in the long-term set.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">poc_st_curr_before[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>PocStCurrBefore as described in section 8.3.2 “Decoding process for reference
picture set”: provides the index of the short term before references in DPB array.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">poc_st_curr_after[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>PocStCurrAfter as described in section 8.3.2 “Decoding process for reference
picture set”: provides the index of the short term after references in DPB array.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">poc_lt_curr[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>PocLtCurr as described in section 8.3.2 “Decoding process for reference
picture set”: provides the index of the long term references in DPB array.</p></td>
</tr>
<tr class="row-odd"><td><p>struct <a class="reference internal" href="#c.v4l2_hevc_dpb_entry" title="v4l2_hevc_dpb_entry"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_hevc_dpb_entry</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dpb[V4L2_HEVC_DPB_ENTRIES_NUM_MAX]</span></code></p></td>
<td><p>The decoded picture buffer, for meta-data about reference frames.</p></td>
</tr>
<tr class="row-even"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>See <a class="reference internal" href="#hevc-decode-params-flags"><span class="std std-ref">Decode Parameters Flags</span></a></p></td>
</tr>
</tbody>
</table>
<p id="hevc-decode-params-flags"><code class="docutils literal notranslate"><span class="pre">Decode</span> <span class="pre">Parameters</span> <span class="pre">Flags</span></code></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_DECODE_PARAM_FLAG_IRAP_PIC</span></code></p></td>
<td><p>0x00000001</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_DECODE_PARAM_FLAG_IDR_PIC</span></code></p></td>
<td><p>0x00000002</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_HEVC_DECODE_PARAM_FLAG_NO_OUTPUT_OF_PRIOR</span></code></p></td>
<td><p>0x00000004</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1.16. Stateless Codec Control Reference</a><ul>
<li><a class="reference internal" href="#stateless-codec-control-id">1.16.1. Stateless Codec Control ID</a></li>
<li><a class="reference internal" href="#fwht-flags">1.16.2. FWHT Flags</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/v4l/ext-ctrls-codec-stateless.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/v4l/ext-ctrls-codec-stateless.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>