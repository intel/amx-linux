
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>7.2. V4L2 ioctl() &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="7.3. ioctl VIDIOC_CREATE_BUFS" href="vidioc-create-bufs.html" />
    <link rel="prev" title="7.1. V4L2 close()" href="func-close.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="v4l2-ioctl">
<span id="func-ioctl"></span><h1><span class="section-number">7.2. </span>V4L2 ioctl()<a class="headerlink" href="#v4l2-ioctl" title="Permalink to this headline">¶</a></h1>
<section id="name">
<h2><span class="section-number">7.2.1. </span>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>v4l2-ioctl - Program a V4L2 device</p>
</section>
<section id="synopsis">
<h2><span class="section-number">7.2.2. </span>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/ioctl.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ioctl(int</span> <span class="pre">fd,</span> <span class="pre">int</span> <span class="pre">request,</span> <span class="pre">void</span> <span class="pre">*argp)</span></code></p>
</section>
<section id="arguments">
<h2><span class="section-number">7.2.3. </span>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">fd</span></code></dt><dd><p>File descriptor returned by <code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">request</span></code></dt><dd><p>V4L2 ioctl request code as defined in the <code class="docutils literal notranslate"><span class="pre">videodev2.h</span></code> header
file, for example VIDIOC_QUERYCAP.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">argp</span></code></dt><dd><p>Pointer to a function parameter, usually a structure.</p>
</dd>
</dl>
</section>
<section id="description">
<h2><span class="section-number">7.2.4. </span>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#func-ioctl"><span class="std std-ref">ioctl()</span></a> function is used to program V4L2 devices. The
argument <code class="docutils literal notranslate"><span class="pre">fd</span></code> must be an open file descriptor. An ioctl <code class="docutils literal notranslate"><span class="pre">request</span></code>
has encoded in it whether the argument is an input, output or read/write
parameter, and the size of the argument <code class="docutils literal notranslate"><span class="pre">argp</span></code> in bytes. Macros and
defines specifying V4L2 ioctl requests are located in the
<code class="docutils literal notranslate"><span class="pre">videodev2.h</span></code> header file. Applications should use their own copy, not
include the version in the kernel sources on the system they compile on.
All V4L2 ioctl requests, their respective function and parameters are
specified in <a class="reference internal" href="user-func.html#user-func"><span class="std std-ref">Function Reference</span></a>.</p>
</section>
<section id="return-value">
<h2><span class="section-number">7.2.5. </span>Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
<p>When an ioctl that takes an output or read/write parameter fails, the
parameter remains unmodified.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">7.2. V4L2 ioctl()</a><ul>
<li><a class="reference internal" href="#name">7.2.1. Name</a></li>
<li><a class="reference internal" href="#synopsis">7.2.2. Synopsis</a></li>
<li><a class="reference internal" href="#arguments">7.2.3. Arguments</a></li>
<li><a class="reference internal" href="#description">7.2.4. Description</a></li>
<li><a class="reference internal" href="#return-value">7.2.5. Return Value</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/v4l/func-ioctl.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/v4l/func-ioctl.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>