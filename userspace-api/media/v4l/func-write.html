
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>7.70. V4L2 write() &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="8. Common definitions for V4L2 and V4L2 subdev interfaces" href="common-defs.html" />
    <link rel="prev" title="7.69. V4L2 select()" href="func-select.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="v4l2-write">
<span id="func-write"></span><h1><span class="section-number">7.70. </span>V4L2 write()<a class="headerlink" href="#v4l2-write" title="Permalink to this headline">¶</a></h1>
<section id="name">
<h2><span class="section-number">7.70.1. </span>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>v4l2-write - Write to a V4L2 device</p>
</section>
<section id="synopsis">
<h2><span class="section-number">7.70.2. </span>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
<dl class="function">
<dt id="c.V4L.write">
ssize_t <code class="sig-name descname">write</code><span class="sig-paren">(</span>int<em> fd</em>, void<em> *buf</em>, size_t<em> count</em><span class="sig-paren">)</span><a class="headerlink" href="#c.V4L.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="arguments">
<h2><span class="section-number">7.70.3. </span>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">fd</span></code></dt><dd><p>File descriptor returned by <code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">buf</span></code></dt><dd><p>Buffer with data to be written</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">count</span></code></dt><dd><p>Number of bytes at the buffer</p>
</dd>
</dl>
</section>
<section id="description">
<h2><span class="section-number">7.70.4. </span>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><code class="xref c c-func docutils literal notranslate"><span class="pre">write()</span></code> writes up to <code class="docutils literal notranslate"><span class="pre">count</span></code> bytes to the device
referenced by the file descriptor <code class="docutils literal notranslate"><span class="pre">fd</span></code> from the buffer starting at
<code class="docutils literal notranslate"><span class="pre">buf</span></code>. When the hardware outputs are not active yet, this function
enables them. When <code class="docutils literal notranslate"><span class="pre">count</span></code> is zero, <code class="xref c c-func docutils literal notranslate"><span class="pre">write()</span></code> returns 0
without any other effect.</p>
<p>When the application does not provide more data in time, the previous
video frame, raw VBI image, sliced VPS or WSS data is displayed again.
Sliced Teletext or Closed Caption data is not repeated, the driver
inserts a blank line instead.</p>
</section>
<section id="return-value">
<h2><span class="section-number">7.70.5. </span>Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success, the number of bytes written are returned. Zero indicates
nothing was written. On error, -1 is returned, and the <code class="docutils literal notranslate"><span class="pre">errno</span></code>
variable is set appropriately. In this case the next write will start at
the beginning of a new frame. Possible error codes are:</p>
<dl class="simple">
<dt>EAGAIN</dt><dd><p>Non-blocking I/O has been selected using the
<a class="reference internal" href="func-open.html#func-open"><span class="std std-ref">O_NONBLOCK</span></a> flag and no buffer space was
available to write the data immediately.</p>
</dd>
<dt>EBADF</dt><dd><p><code class="docutils literal notranslate"><span class="pre">fd</span></code> is not a valid file descriptor or is not open for writing.</p>
</dd>
<dt>EBUSY</dt><dd><p>The driver does not support multiple write streams and the device is
already in use.</p>
</dd>
<dt>EFAULT</dt><dd><p><code class="docutils literal notranslate"><span class="pre">buf</span></code> references an inaccessible memory area.</p>
</dd>
<dt>EINTR</dt><dd><p>The call was interrupted by a signal before any data was written.</p>
</dd>
<dt>EIO</dt><dd><p>I/O error. This indicates some hardware problem.</p>
</dd>
<dt>EINVAL</dt><dd><p>The <code class="xref c c-func docutils literal notranslate"><span class="pre">write()</span></code> function is not supported by this driver,
not on this device, or generally not on this type of device.</p>
</dd>
</dl>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">7.70. V4L2 write()</a><ul>
<li><a class="reference internal" href="#name">7.70.1. Name</a></li>
<li><a class="reference internal" href="#synopsis">7.70.2. Synopsis</a></li>
<li><a class="reference internal" href="#arguments">7.70.3. Arguments</a></li>
<li><a class="reference internal" href="#description">7.70.4. Description</a></li>
<li><a class="reference internal" href="#return-value">7.70.5. Return Value</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/v4l/func-write.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/v4l/func-write.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>