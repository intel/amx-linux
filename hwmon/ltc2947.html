
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Kernel drivers ltc2947-i2c and ltc2947-spi &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Kernel driver ltc2978" href="ltc2978.html" />
    <link rel="prev" title="Kernel driver ltc2945" href="ltc2945.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="kernel-drivers-ltc2947-i2c-and-ltc2947-spi">
<h1>Kernel drivers ltc2947-i2c and ltc2947-spi<a class="headerlink" href="#kernel-drivers-ltc2947-i2c-and-ltc2947-spi" title="Permalink to this headline">¶</a></h1>
<p>Supported chips:</p>
<blockquote>
<div><ul>
<li><p>Analog Devices LTC2947</p>
<p>Prefix: ‘ltc2947’</p>
<p>Addresses scanned: -</p>
<p>Datasheet:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.analog.com/media/en/technical-documentation/data-sheets/LTC2947.pdf">https://www.analog.com/media/en/technical-documentation/data-sheets/LTC2947.pdf</a></p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Author: Nuno Sá &lt;<a class="reference external" href="mailto:nuno&#46;sa&#37;&#52;&#48;analog&#46;com">nuno<span>&#46;</span>sa<span>&#64;</span>analog<span>&#46;</span>com</a>&gt;</p>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The LTC2947 is a high precision power and energy monitor that measures current,
voltage, power, temperature, charge and energy. The device supports both SPI
and I2C depending on the chip configuration.
The device also measures accumulated quantities as energy. It has two banks of
register’s to read/set energy related values. These banks can be configured
independently to have setups like: energy1 accumulates always and enrgy2 only
accumulates if current is positive (to check battery charging efficiency for
example). The device also supports a GPIO pin that can be configured as output
to control a fan as a function of measured temperature. Then, the GPIO becomes
active as soon as a temperature reading is higher than a defined threshold. The
temp2 channel is used to control this thresholds and to read the respective
alarms.</p>
</section>
<section id="sysfs-entries">
<h2>Sysfs entries<a class="headerlink" href="#sysfs-entries" title="Permalink to this headline">¶</a></h2>
<p>The following attributes are supported. Limits are read-write, reset_history
is write-only and all the other attributes are read-only.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 65%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>in0_input</p></td>
<td><p>VP-VM voltage (mV).</p></td>
</tr>
<tr class="row-even"><td><p>in0_min</p></td>
<td><p>Undervoltage threshold</p></td>
</tr>
<tr class="row-odd"><td><p>in0_max</p></td>
<td><p>Overvoltage threshold</p></td>
</tr>
<tr class="row-even"><td><p>in0_lowest</p></td>
<td><p>Lowest measured voltage</p></td>
</tr>
<tr class="row-odd"><td><p>in0_highest</p></td>
<td><p>Highest measured voltage</p></td>
</tr>
<tr class="row-even"><td><p>in0_reset_history</p></td>
<td><p>Write 1 to reset in1 history</p></td>
</tr>
<tr class="row-odd"><td><p>in0_min_alarm</p></td>
<td><p>Undervoltage alarm</p></td>
</tr>
<tr class="row-even"><td><p>in0_max_alarm</p></td>
<td><p>Overvoltage alarm</p></td>
</tr>
<tr class="row-odd"><td><p>in0_label</p></td>
<td><p>Channel label (VP-VM)</p></td>
</tr>
<tr class="row-even"><td><p>in1_input</p></td>
<td><p>DVCC voltage (mV)</p></td>
</tr>
<tr class="row-odd"><td><p>in1_min</p></td>
<td><p>Undervoltage threshold</p></td>
</tr>
<tr class="row-even"><td><p>in1_max</p></td>
<td><p>Overvoltage threshold</p></td>
</tr>
<tr class="row-odd"><td><p>in1_lowest</p></td>
<td><p>Lowest measured voltage</p></td>
</tr>
<tr class="row-even"><td><p>in1_highest</p></td>
<td><p>Highest measured voltage</p></td>
</tr>
<tr class="row-odd"><td><p>in1_reset_history</p></td>
<td><p>Write 1 to reset in2 history</p></td>
</tr>
<tr class="row-even"><td><p>in1_min_alarm</p></td>
<td><p>Undervoltage alarm</p></td>
</tr>
<tr class="row-odd"><td><p>in1_max_alarm</p></td>
<td><p>Overvoltage alarm</p></td>
</tr>
<tr class="row-even"><td><p>in1_label</p></td>
<td><p>Channel label (DVCC)</p></td>
</tr>
<tr class="row-odd"><td><p>curr1_input</p></td>
<td><p>IP-IM Sense current (mA)</p></td>
</tr>
<tr class="row-even"><td><p>curr1_min</p></td>
<td><p>Undercurrent threshold</p></td>
</tr>
<tr class="row-odd"><td><p>curr1_max</p></td>
<td><p>Overcurrent threshold</p></td>
</tr>
<tr class="row-even"><td><p>curr1_lowest</p></td>
<td><p>Lowest measured current</p></td>
</tr>
<tr class="row-odd"><td><p>curr1_highest</p></td>
<td><p>Highest measured current</p></td>
</tr>
<tr class="row-even"><td><p>curr1_reset_history</p></td>
<td><p>Write 1 to reset curr1 history</p></td>
</tr>
<tr class="row-odd"><td><p>curr1_min_alarm</p></td>
<td><p>Undercurrent alarm</p></td>
</tr>
<tr class="row-even"><td><p>curr1_max_alarm</p></td>
<td><p>Overcurrent alarm</p></td>
</tr>
<tr class="row-odd"><td><p>curr1_label</p></td>
<td><p>Channel label (IP-IM)</p></td>
</tr>
<tr class="row-even"><td><p>power1_input</p></td>
<td><p>Power (in uW)</p></td>
</tr>
<tr class="row-odd"><td><p>power1_min</p></td>
<td><p>Low power threshold</p></td>
</tr>
<tr class="row-even"><td><p>power1_max</p></td>
<td><p>High power threshold</p></td>
</tr>
<tr class="row-odd"><td><p>power1_input_lowest</p></td>
<td><p>Historical minimum power use</p></td>
</tr>
<tr class="row-even"><td><p>power1_input_highest</p></td>
<td><p>Historical maximum power use</p></td>
</tr>
<tr class="row-odd"><td><p>power1_reset_history</p></td>
<td><p>Write 1 to reset power1 history</p></td>
</tr>
<tr class="row-even"><td><p>power1_min_alarm</p></td>
<td><p>Low power alarm</p></td>
</tr>
<tr class="row-odd"><td><p>power1_max_alarm</p></td>
<td><p>High power alarm</p></td>
</tr>
<tr class="row-even"><td><p>power1_label</p></td>
<td><p>Channel label (Power)</p></td>
</tr>
<tr class="row-odd"><td><p>temp1_input</p></td>
<td><p>Chip Temperature (in milliC)</p></td>
</tr>
<tr class="row-even"><td><p>temp1_min</p></td>
<td><p>Low temperature threshold</p></td>
</tr>
<tr class="row-odd"><td><p>temp1_max</p></td>
<td><p>High temperature threshold</p></td>
</tr>
<tr class="row-even"><td><p>temp1_input_lowest</p></td>
<td><p>Historical minimum temperature use</p></td>
</tr>
<tr class="row-odd"><td><p>temp1_input_highest</p></td>
<td><p>Historical maximum temperature use</p></td>
</tr>
<tr class="row-even"><td><p>temp1_reset_history</p></td>
<td><p>Write 1 to reset temp1 history</p></td>
</tr>
<tr class="row-odd"><td><p>temp1_min_alarm</p></td>
<td><p>Low temperature alarm</p></td>
</tr>
<tr class="row-even"><td><p>temp1_max_alarm</p></td>
<td><p>High temperature alarm</p></td>
</tr>
<tr class="row-odd"><td><p>temp1_label</p></td>
<td><p>Channel label (Ambient)</p></td>
</tr>
<tr class="row-even"><td><p>temp2_min</p></td>
<td><p>Low temperature threshold for fan control</p></td>
</tr>
<tr class="row-odd"><td><p>temp2_max</p></td>
<td><p>High temperature threshold for fan control</p></td>
</tr>
<tr class="row-even"><td><p>temp2_min_alarm</p></td>
<td><p>Low temperature fan control alarm</p></td>
</tr>
<tr class="row-odd"><td><p>temp2_max_alarm</p></td>
<td><p>High temperature fan control alarm</p></td>
</tr>
<tr class="row-even"><td><p>temp2_label</p></td>
<td><p>Channel label (TEMPFAN)</p></td>
</tr>
<tr class="row-odd"><td><p>energy1_input</p></td>
<td><p>Measured energy over time (in microJoule)</p></td>
</tr>
<tr class="row-even"><td><p>energy2_input</p></td>
<td><p>Measured energy over time (in microJoule)</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Kernel drivers ltc2947-i2c and ltc2947-spi</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#sysfs-entries">Sysfs entries</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/hwmon/ltc2947.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/hwmon/ltc2947.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>