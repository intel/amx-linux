
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Kernel driver max197 &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Kernel driver max20730" href="max20730.html" />
    <link rel="prev" title="Kernel driver max1668" href="max1668.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="kernel-driver-max197">
<h1>Kernel driver max197<a class="headerlink" href="#kernel-driver-max197" title="Permalink to this headline">¶</a></h1>
<p>Author:</p>
<blockquote>
<div><ul class="simple">
<li><p>Vivien Didelot &lt;<a class="reference external" href="mailto:vivien&#46;didelot&#37;&#52;&#48;savoirfairelinux&#46;com">vivien<span>&#46;</span>didelot<span>&#64;</span>savoirfairelinux<span>&#46;</span>com</a>&gt;</p></li>
</ul>
</div></blockquote>
<p>Supported chips:</p>
<blockquote>
<div><ul>
<li><p>Maxim MAX197</p>
<p>Prefix: ‘max197’</p>
<p>Datasheet: <a class="reference external" href="http://datasheets.maxim-ic.com/en/ds/MAX197.pdf">http://datasheets.maxim-ic.com/en/ds/MAX197.pdf</a></p>
</li>
<li><p>Maxim MAX199</p>
<p>Prefix: ‘max199’</p>
<p>Datasheet: <a class="reference external" href="http://datasheets.maxim-ic.com/en/ds/MAX199.pdf">http://datasheets.maxim-ic.com/en/ds/MAX199.pdf</a></p>
</li>
</ul>
</div></blockquote>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The A/D converters MAX197, and MAX199 are both 8-Channel, Multi-Range, 5V,
12-Bit DAS with 8+4 Bus Interface and Fault Protection.</p>
<p>The available ranges for the MAX197 are {0,-5V} to 5V, and {0,-10V} to 10V,
while they are {0,-2V} to 2V, and {0,-4V} to 4V on the MAX199.</p>
</section>
<section id="platform-data">
<h2>Platform data<a class="headerlink" href="#platform-data" title="Permalink to this headline">¶</a></h2>
<p>The MAX197 platform data (defined in linux/platform_data/max197.h) should be
filled with a pointer to a conversion function, defined like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>int convert(u8 ctrl);
</pre></div>
</div>
<p>ctrl is the control byte to write to start a new conversion.
On success, the function must return the 12-bit raw value read from the chip,
or a negative error code otherwise.</p>
<p>Control byte format:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 16%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Bit</p></td>
<td><p>Name</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p>7,6</p></td>
<td><p>PD1,PD0</p></td>
<td><p>Clock and Power-Down modes</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>ACQMOD</p></td>
<td><p>Internal or External Controlled Acquisition</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>RNG</p></td>
<td><p>Full-scale voltage magnitude at the input</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>BIP</p></td>
<td><p>Unipolar or Bipolar conversion mode</p></td>
</tr>
<tr class="row-even"><td><p>2,1,0</p></td>
<td><p>A2,A1,A0</p></td>
<td><p>Channel</p></td>
</tr>
</tbody>
</table>
</section>
<section id="sysfs-interface">
<h2>Sysfs interface<a class="headerlink" href="#sysfs-interface" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>in[0-7]_input</p></td>
<td><p>The conversion value for the corresponding channel.
RO</p></td>
</tr>
<tr class="row-even"><td><p>in[0-7]_min</p></td>
<td><p>The lower limit (in mV) for the corresponding channel.
For the MAX197, it will be adjusted to -10000, -5000, or 0.
For the MAX199, it will be adjusted to -4000, -2000, or 0.
RW</p></td>
</tr>
<tr class="row-odd"><td><p>in[0-7]_max</p></td>
<td><p>The higher limit (in mV) for the corresponding channel.
For the MAX197, it will be adjusted to 0, 5000, or 10000.
For the MAX199, it will be adjusted to 0, 2000, or 4000.
RW</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Kernel driver max197</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#platform-data">Platform data</a></li>
<li><a class="reference internal" href="#sysfs-interface">Sysfs interface</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/hwmon/max197.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/hwmon/max197.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>