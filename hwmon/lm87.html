
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Kernel driver lm87 &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Kernel driver lm90" href="lm90.html" />
    <link rel="prev" title="Kernel driver lm85" href="lm85.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="kernel-driver-lm87">
<h1>Kernel driver lm87<a class="headerlink" href="#kernel-driver-lm87" title="Permalink to this headline">¶</a></h1>
<p>Supported chips:</p>
<blockquote>
<div><ul>
<li><p>National Semiconductor LM87</p>
<p>Prefix: ‘lm87’</p>
<p>Addresses scanned: I2C 0x2c - 0x2e</p>
<p>Datasheet: <a class="reference external" href="http://www.national.com/pf/LM/LM87.html">http://www.national.com/pf/LM/LM87.html</a></p>
</li>
<li><p>Analog Devices ADM1024</p>
<p>Prefix: ‘adm1024’</p>
<p>Addresses scanned: I2C 0x2c - 0x2e</p>
<p>Datasheet: <a class="reference external" href="https://www.analog.com/en/prod/0,2877,ADM1024,00.html">https://www.analog.com/en/prod/0,2877,ADM1024,00.html</a></p>
</li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Authors:</dt><dd><ul class="simple">
<li><p>Frodo Looijaard &lt;<a class="reference external" href="mailto:frodol&#37;&#52;&#48;dds&#46;nl">frodol<span>&#64;</span>dds<span>&#46;</span>nl</a>&gt;,</p></li>
<li><p>Philip Edelbrock &lt;<a class="reference external" href="mailto:phil&#37;&#52;&#48;netroedge&#46;com">phil<span>&#64;</span>netroedge<span>&#46;</span>com</a>&gt;,</p></li>
<li><p>Mark Studebaker &lt;<a class="reference external" href="mailto:mdsxyz123&#37;&#52;&#48;yahoo&#46;com">mdsxyz123<span>&#64;</span>yahoo<span>&#46;</span>com</a>&gt;,</p></li>
<li><p>Stephen Rousset &lt;<a class="reference external" href="mailto:stephen&#46;rousset&#37;&#52;&#48;rocketlogix&#46;com">stephen<span>&#46;</span>rousset<span>&#64;</span>rocketlogix<span>&#46;</span>com</a>&gt;,</p></li>
<li><p>Dan Eaton &lt;<a class="reference external" href="mailto:dan&#46;eaton&#37;&#52;&#48;rocketlogix&#46;com">dan<span>&#46;</span>eaton<span>&#64;</span>rocketlogix<span>&#46;</span>com</a>&gt;,</p></li>
<li><p>Jean Delvare &lt;<a class="reference external" href="mailto:jdelvare&#37;&#52;&#48;suse&#46;de">jdelvare<span>&#64;</span>suse<span>&#46;</span>de</a>&gt;,</p></li>
<li><p>Original 2.6 port Jeff Oliver</p></li>
</ul>
</dd>
</dl>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This driver implements support for the National Semiconductor LM87
and the Analog Devices ADM1024.</p>
<p>The LM87 implements up to three temperature sensors, up to two fan
rotation speed sensors, up to seven voltage sensors, alarms, and some
miscellaneous stuff. The ADM1024 is fully compatible.</p>
<p>Temperatures are measured in degrees Celsius. Each input has a high
and low alarm settings. A high limit produces an alarm when the value
goes above it, and an alarm is also produced when the value goes below
the low limit.</p>
<p>Fan rotation speeds are reported in RPM (rotations per minute). An alarm is
triggered if the rotation speed has dropped below a programmable limit. Fan
readings can be divided by a programmable divider (1, 2, 4 or 8) to give
the readings more range or accuracy. Not all RPM values can accurately be
represented, so some rounding is done. With a divider of 2, the lowest
representable value is around 2600 RPM.</p>
<p>Voltage sensors (also known as IN sensors) report their values in
volts. An alarm is triggered if the voltage has crossed a programmable
minimum or maximum limit. Note that minimum in this case always means
‘closest to zero’; this is important for negative voltage measurements.</p>
<p>If an alarm triggers, it will remain triggered until the hardware register
is read at least once. This means that the cause for the alarm may
already have disappeared! Note that in the current implementation, all
hardware registers are read whenever any data is read (unless it is less
than 1.0 seconds since the last update). This means that you can easily
miss once-only alarms.</p>
<p>The lm87 driver only updates its values each 1.0 seconds; reading it more
often will do no harm, but will return ‘old’ values.</p>
</section>
<section id="hardware-configurations">
<h2>Hardware Configurations<a class="headerlink" href="#hardware-configurations" title="Permalink to this headline">¶</a></h2>
<p>The LM87 has four pins which can serve one of two possible functions,
depending on the hardware configuration.</p>
<p>Some functions share pins, so not all functions are available at the same
time. Which are depends on the hardware setup. This driver normally
assumes that firmware configured the chip correctly. Where this is not
the case, platform code must set the I2C client’s platform_data to point
to a u8 value to be written to the channel register.</p>
<dl class="simple">
<dt>For reference, here is the list of exclusive functions:</dt><dd><ul class="simple">
<li><p>in0+in5 (default) or temp3</p></li>
<li><p>fan1 (default) or in6</p></li>
<li><p>fan2 (default) or in7</p></li>
<li><p>VID lines (default) or IRQ lines (not handled by this driver)</p></li>
</ul>
</dd>
</dl>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Kernel driver lm87</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#hardware-configurations">Hardware Configurations</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/hwmon/lm87.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/hwmon/lm87.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>