
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>TODO LIST &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="TI Keystone Linux Overview" href="../keystone/overview.html" />
    <link rel="prev" title="Notes" href="notes.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="todo-list">
<h1>TODO LIST<a class="headerlink" href="#todo-list" title="Permalink to this headline">¶</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>POW{cond}&lt;S|D|E&gt;{P,M,Z} Fd, Fn, &lt;Fm,#value&gt; - power
RPW{cond}&lt;S|D|E&gt;{P,M,Z} Fd, Fn, &lt;Fm,#value&gt; - reverse power
POL{cond}&lt;S|D|E&gt;{P,M,Z} Fd, Fn, &lt;Fm,#value&gt; - polar angle (arctan2)

LOG{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - logarithm to base 10
LGN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - logarithm to base e
EXP{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - exponent
SIN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - sine
COS{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - cosine
TAN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - tangent
ASN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - arcsine
ACS{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - arccosine
ATN{cond}&lt;S|D|E&gt;{P,M,Z} Fd, &lt;Fm,#value&gt; - arctangent
</pre></div>
</div>
<p>These are not implemented.  They are not currently issued by the compiler,
and are handled by routines in libc.  These are not implemented by the FPA11
hardware, but are handled by the floating point support code.  They should
be implemented in future versions.</p>
<p>There are a couple of ways to approach the implementation of these.  One
method would be to use accurate table methods for these routines.  I have
a couple of papers by S. Gal from IBM’s research labs in Haifa, Israel that
seem to promise extreme accuracy (in the order of 99.8%) and reasonable speed.
These methods are used in GLIBC for some of the transcendental functions.</p>
<p>Another approach, which I know little about is CORDIC.  This stands for
Coordinate Rotation Digital Computer, and is a method of computing
transcendental functions using mostly shifts and adds and a few
multiplications and divisions.  The ARM excels at shifts and adds,
so such a method could be promising, but requires more research to
determine if it is feasible.</p>
<section id="rounding-methods">
<h2>Rounding Methods<a class="headerlink" href="#rounding-methods" title="Permalink to this headline">¶</a></h2>
<p>The IEEE standard defines 4 rounding modes.  Round to nearest is the
default, but rounding to + or - infinity or round to zero are also allowed.
Many architectures allow the rounding mode to be specified by modifying bits
in a control register.  Not so with the ARM FPA11 architecture.  To change
the rounding mode one must specify it with each instruction.</p>
<p>This has made porting some benchmarks difficult.  It is possible to
introduce such a capability into the emulator.  The FPCR contains
bits describing the rounding mode.  The emulator could be altered to
examine a flag, which if set forced it to ignore the rounding mode in
the instruction, and use the mode specified in the bits in the FPCR.</p>
<p>This would require a method of getting/setting the flag, and the bits
in the FPCR.  This requires a kernel call in ArmLinux, as WFC/RFC are
supervisor only instructions.  If anyone has any ideas or comments I
would like to hear them.</p>
<dl>
<dt>NOTE:</dt><dd><p>pulled out from some docs on ARM floating point, specifically
for the Acorn FPE, but not limited to it:</p>
<p>The floating point control register (FPCR) may only be present in some
implementations: it is there to control the hardware in an implementation-
specific manner, for example to disable the floating point system.  The user
mode of the ARM is not permitted to use this register (since the right is
reserved to alter it between implementations) and the WFC and RFC
instructions will trap if tried in user mode.</p>
<p>Hence, the answer is yes, you could do this, but then you will run a high
risk of becoming isolated if and when hardware FP emulation comes out</p>
<blockquote>
<div><p>– Russell.</p>
</div></blockquote>
</dd>
</dl>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">TODO LIST</a><ul>
<li><a class="reference internal" href="#rounding-methods">Rounding Methods</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/arm/nwfpe/todo.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/arm/nwfpe/todo.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>