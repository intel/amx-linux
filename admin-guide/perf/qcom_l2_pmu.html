
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Qualcomm Technologies Level-2 Cache Performance Monitoring Unit (PMU) &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Qualcomm Datacenter Technologies L3 Cache Performance Monitoring Unit (PMU)" href="qcom_l3_pmu.html" />
    <link rel="prev" title="Freescale i.MX8 DDR Performance Monitoring Unit (PMU)" href="imx-ddr.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="qualcomm-technologies-level-2-cache-performance-monitoring-unit-pmu">
<h1>Qualcomm Technologies Level-2 Cache Performance Monitoring Unit (PMU)<a class="headerlink" href="#qualcomm-technologies-level-2-cache-performance-monitoring-unit-pmu" title="Permalink to this headline">¶</a></h1>
<p>This driver supports the L2 cache clusters found in Qualcomm Technologies
Centriq SoCs. There are multiple physical L2 cache clusters, each with their
own PMU. Each cluster has one or more CPUs associated with it.</p>
<p>There is one logical L2 PMU exposed, which aggregates the results from
the physical PMUs.</p>
<p>The driver provides a description of its available events and configuration
options in sysfs, see /sys/devices/l2cache_0.</p>
<p>The “format” directory describes the format of the events.</p>
<p>Events can be envisioned as a 2-dimensional array. Each column represents
a group of events. There are 8 groups. Only one entry from each
group can be in use at a time. If multiple events from the same group
are specified, the conflicting events cannot be counted at the same time.</p>
<p>Events are specified as 0xCCG, where CC is 2 hex digits specifying
the code (array row) and G specifies the group (column) 0-7.</p>
<p>In addition there is a cycle counter event specified by the value 0xFE
which is outside the above scheme.</p>
<p>The driver provides a “cpumask” sysfs attribute which contains a mask
consisting of one CPU per cluster which will be used to handle all the PMU
events on that cluster.</p>
<p>Examples for use with perf:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>perf stat -e l2cache_0/config=0x001/,l2cache_0/config=0x042/ -a sleep 1

perf stat -e l2cache_0/config=0xfe/ -C 2 sleep 1
</pre></div>
</div>
<p>The driver does not support sampling, therefore “perf record” will
not work. Per-task perf sessions are not supported.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/admin-guide/perf/qcom_l2_pmu.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/admin-guide/perf/qcom_l2_pmu.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>