
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Qualcomm Datacenter Technologies L3 Cache Performance Monitoring Unit (PMU) &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ARM Cache Coherent Network" href="arm-ccn.html" />
    <link rel="prev" title="Qualcomm Technologies Level-2 Cache Performance Monitoring Unit (PMU)" href="qcom_l2_pmu.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="qualcomm-datacenter-technologies-l3-cache-performance-monitoring-unit-pmu">
<h1>Qualcomm Datacenter Technologies L3 Cache Performance Monitoring Unit (PMU)<a class="headerlink" href="#qualcomm-datacenter-technologies-l3-cache-performance-monitoring-unit-pmu" title="Permalink to this headline">¶</a></h1>
<p>This driver supports the L3 cache PMUs found in Qualcomm Datacenter Technologies
Centriq SoCs. The L3 cache on these SOCs is composed of multiple slices, shared
by all cores within a socket. Each slice is exposed as a separate uncore perf
PMU with device name l3cache_&lt;socket&gt;_&lt;instance&gt;. User space is responsible
for aggregating across slices.</p>
<p>The driver provides a description of its available events and configuration
options in sysfs, see /sys/devices/l3cache*. Given that these are uncore PMUs
the driver also exposes a “cpumask” sysfs attribute which contains a mask
consisting of one CPU per socket which will be used to handle all the PMU
events on that socket.</p>
<p>The hardware implements 32bit event counters and has a flat 8bit event space
exposed via the “event” format attribute. In addition to the 32bit physical
counters the driver supports virtual 64bit hardware counters by using hardware
counter chaining. This feature is exposed via the “lc” (long counter) format
flag. E.g.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>perf stat -e l3cache_0_0/read-miss,lc/
</pre></div>
</div>
<p>Given that these are uncore PMUs the driver does not support sampling, therefore
“perf record” will not work. Per-task perf sessions are not supported.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/admin-guide/perf/qcom_l3_pmu.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/admin-guide/perf/qcom_l3_pmu.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>