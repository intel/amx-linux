
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>7.19. The Silicon Labs Si470x FM Radio Receivers driver &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7.20. The Silicon Labs Si4713 FM Radio Transmitter Driver" href="si4713.html" />
    <link rel="prev" title="7.18. The saa7134 driver" href="saa7134.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="the-silicon-labs-si470x-fm-radio-receivers-driver">
<h1><span class="section-number">7.19. </span>The Silicon Labs Si470x FM Radio Receivers driver<a class="headerlink" href="#the-silicon-labs-si470x-fm-radio-receivers-driver" title="Permalink to this headline">¶</a></h1>
<p>Copyright © 2009 Tobias Lorenz &lt;<a class="reference external" href="mailto:tobias&#46;lorenz&#37;&#52;&#48;gmx&#46;net">tobias<span>&#46;</span>lorenz<span>&#64;</span>gmx<span>&#46;</span>net</a>&gt;</p>
<section id="information-from-silicon-labs">
<h2><span class="section-number">7.19.1. </span>Information from Silicon Labs<a class="headerlink" href="#information-from-silicon-labs" title="Permalink to this headline">¶</a></h2>
<p>Silicon Laboratories is the manufacturer of the radio ICs, that nowadays are the
most often used radio receivers in cell phones. Usually they are connected with
I2C. But SiLabs also provides a reference design, which integrates this IC,
together with a small microcontroller C8051F321, to form a USB radio.
Part of this reference design is also a radio application in binary and source
code. The software also contains an automatic firmware upgrade to the most
current version. Information on these can be downloaded here:
<a class="reference external" href="http://www.silabs.com/usbradio">http://www.silabs.com/usbradio</a></p>
</section>
<section id="supported-ics">
<h2><span class="section-number">7.19.2. </span>Supported ICs<a class="headerlink" href="#supported-ics" title="Permalink to this headline">¶</a></h2>
<p>The following ICs have a very similar register set, so that they are or will be
supported somewhen by the driver:</p>
<ul class="simple">
<li><p>Si4700: FM radio receiver</p></li>
<li><p>Si4701: FM radio receiver, RDS Support</p></li>
<li><p>Si4702: FM radio receiver</p></li>
<li><p>Si4703: FM radio receiver, RDS Support</p></li>
<li><p>Si4704: FM radio receiver, no external antenna required</p></li>
<li><p>Si4705: FM radio receiver, no external antenna required, RDS support, Dig I/O</p></li>
<li><dl class="simple">
<dt>Si4706: Enhanced FM RDS/TMC radio receiver, no external antenna required, RDS</dt><dd><p>Support</p>
</dd>
</dl>
</li>
<li><p>Si4707: Dedicated weather band radio receiver with SAME decoder, RDS Support</p></li>
<li><p>Si4708: Smallest FM receivers</p></li>
<li><p>Si4709: Smallest FM receivers, RDS Support</p></li>
</ul>
<p>More information on these can be downloaded here:
<a class="reference external" href="http://www.silabs.com/products/mcu/Pages/USBFMRadioRD.aspx">http://www.silabs.com/products/mcu/Pages/USBFMRadioRD.aspx</a></p>
</section>
<section id="supported-usb-devices">
<h2><span class="section-number">7.19.3. </span>Supported USB devices<a class="headerlink" href="#supported-usb-devices" title="Permalink to this headline">¶</a></h2>
<p>Currently the following USB radios (vendor:product) with the Silicon Labs si470x
chips are known to work:</p>
<ul class="simple">
<li><p>10c4:818a: Silicon Labs USB FM Radio Reference Design</p></li>
<li><p>06e1:a155: ADS/Tech FM Radio Receiver (formerly Instant FM Music) (RDX-155-EF)</p></li>
<li><p>1b80:d700: KWorld USB FM Radio SnapMusic Mobile 700 (FM700)</p></li>
<li><p>10c5:819a: Sanei Electric, Inc. FM USB Radio (sold as DealExtreme.com PCear)</p></li>
</ul>
</section>
<section id="software">
<h2><span class="section-number">7.19.4. </span>Software<a class="headerlink" href="#software" title="Permalink to this headline">¶</a></h2>
<p>Testing is usually done with most application under Debian/testing:</p>
<ul class="simple">
<li><p>fmtools - Utility for managing FM tuner cards</p></li>
<li><p>gnomeradio - FM-radio tuner for the GNOME desktop</p></li>
<li><p>gradio - GTK FM radio tuner</p></li>
<li><p>kradio - Comfortable Radio Application for KDE</p></li>
<li><p>radio - ncurses-based radio application</p></li>
<li><p>mplayer - The Ultimate Movie Player For Linux</p></li>
<li><p>v4l2-ctl - Collection of command line video4linux utilities</p></li>
</ul>
<p>For example, you can use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>v4l2-ctl -d /dev/radio0 --set-ctrl=volume=10,mute=0 --set-freq=95.21 --all
</pre></div>
</div>
<p>There is also a library libv4l, which can be used. It’s going to have a function
for frequency seeking, either by using hardware functionality as in radio-si470x
or by implementing a function as we currently have in every of the mentioned
programs. Somewhen the radio programs should make use of libv4l.</p>
<p>For processing RDS information, there is a project ongoing at:
<a class="reference external" href="http://rdsd.berlios.de/">http://rdsd.berlios.de/</a></p>
<p>There is currently no project for making TMC sentences human readable.</p>
</section>
<section id="audio-listing">
<h2><span class="section-number">7.19.5. </span>Audio Listing<a class="headerlink" href="#audio-listing" title="Permalink to this headline">¶</a></h2>
<p>USB Audio is provided by the ALSA snd_usb_audio module. It is recommended to
also select SND_USB_AUDIO, as this is required to get sound from the radio. For
listing you have to redirect the sound, for example using one of the following
commands. Please adjust the audio devices to your needs (/dev/dsp* and hw:x,x).</p>
<p>If you just want to test audio (very poor quality):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cat /dev/dsp1 &gt; /dev/dsp
</pre></div>
</div>
<p>If you use sox + OSS try:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sox -2 --endian little -r 96000 -t oss /dev/dsp1 -t oss /dev/dsp
</pre></div>
</div>
<p>or using sox + alsa:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sox --endian little -c 2 -S -r 96000 -t alsa hw:1 -t alsa -r 96000 hw:0
</pre></div>
</div>
<p>If you use arts try:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>arecord -D hw:1,0 -r96000 -c2 -f S16_LE | artsdsp aplay -B -
</pre></div>
</div>
<p>If you use mplayer try:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mplayer -radio adevice=hw=1.0:arate=96000 \
        -rawaudio rate=96000 \
        radio://&lt;frequency&gt;/capture
</pre></div>
</div>
</section>
<section id="module-parameters">
<h2><span class="section-number">7.19.6. </span>Module Parameters<a class="headerlink" href="#module-parameters" title="Permalink to this headline">¶</a></h2>
<p>After loading the module, you still have access to some of them in the sysfs
mount under /sys/module/radio_si470x/parameters. The contents of read-only files
(0444) are not updated, even if space, band and de are changed using private
video controls. The others are runtime changeable.</p>
</section>
<section id="errors">
<h2><span class="section-number">7.19.7. </span>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<p>Increase tune_timeout, if you often get -EIO errors.</p>
<p>When timed out or band limit is reached, hw_freq_seek returns -EAGAIN.</p>
<p>If you get any errors from snd_usb_audio, please report them to the ALSA people.</p>
</section>
<section id="open-issues">
<h2><span class="section-number">7.19.8. </span>Open Issues<a class="headerlink" href="#open-issues" title="Permalink to this headline">¶</a></h2>
<p>V4L minor device allocation and parameter setting is not perfect. A solution is
currently under discussion.</p>
<p>There is an USB interface for downloading/uploading new firmware images. Support
for it can be implemented using the request_firmware interface.</p>
<p>There is a RDS interrupt mode. The driver is already using the same interface
for polling RDS information, but is currently not using the interrupt mode.</p>
<p>There is a LED interface, which can be used to override the LED control
programmed in the firmware. This can be made available using the LED support
functions in the kernel.</p>
</section>
<section id="other-useful-information-and-links">
<h2><span class="section-number">7.19.9. </span>Other useful information and links<a class="headerlink" href="#other-useful-information-and-links" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.silabs.com/usbradio">http://www.silabs.com/usbradio</a></p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">7.19. The Silicon Labs Si470x FM Radio Receivers driver</a><ul>
<li><a class="reference internal" href="#information-from-silicon-labs">7.19.1. Information from Silicon Labs</a></li>
<li><a class="reference internal" href="#supported-ics">7.19.2. Supported ICs</a></li>
<li><a class="reference internal" href="#supported-usb-devices">7.19.3. Supported USB devices</a></li>
<li><a class="reference internal" href="#software">7.19.4. Software</a></li>
<li><a class="reference internal" href="#audio-listing">7.19.5. Audio Listing</a></li>
<li><a class="reference internal" href="#module-parameters">7.19.6. Module Parameters</a></li>
<li><a class="reference internal" href="#errors">7.19.7. Errors</a></li>
<li><a class="reference internal" href="#open-issues">7.19.8. Open Issues</a></li>
<li><a class="reference internal" href="#other-useful-information-and-links">7.19.9. Other useful information and links</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/admin-guide/media/si470x.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/admin-guide/media/si470x.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>