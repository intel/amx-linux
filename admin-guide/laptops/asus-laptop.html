
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Asus Laptop Extras &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Hard disk shock protection" href="disk-shock-protection.html" />
    <link rel="prev" title="Laptop Drivers" href="index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="asus-laptop-extras">
<h1>Asus Laptop Extras<a class="headerlink" href="#asus-laptop-extras" title="Permalink to this headline">¶</a></h1>
<p>Version 0.1</p>
<p>August 6, 2009</p>
<p>Corentin Chary &lt;<a class="reference external" href="mailto:corentincj&#37;&#52;&#48;iksaif&#46;net">corentincj<span>&#64;</span>iksaif<span>&#46;</span>net</a>&gt;
<a class="reference external" href="http://acpi4asus.sf.net/">http://acpi4asus.sf.net/</a></p>
<blockquote>
<div><p>This driver provides support for extra features of ACPI-compatible ASUS laptops.
It may also support some MEDION, JVC or VICTOR laptops (such as MEDION 9675 or
VICTOR XP7210 for example). It makes all the extra buttons generate input
events (like keyboards).</p>
<p>On some models adds support for changing the display brightness and output,
switching the LCD backlight on and off, and most importantly, allows you to
blink those fancy LEDs intended for reporting mail and wireless status.</p>
</div></blockquote>
<p>This driver supersedes the old asus_acpi driver.</p>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Kernel 2.6.X sources, configured for your computer, with ACPI support.
You also need CONFIG_INPUT and CONFIG_ACPI.</p>
</div></blockquote>
</section>
<section id="status">
<h2>Status<a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The features currently supported are the following (see below for
detailed description):</p>
<ul class="simple">
<li><p>Fn key combinations</p></li>
<li><p>Bluetooth enable and disable</p></li>
<li><p>Wlan enable and disable</p></li>
<li><p>GPS enable and disable</p></li>
<li><p>Video output switching</p></li>
<li><p>Ambient Light Sensor on and off</p></li>
<li><p>LED control</p></li>
<li><p>LED Display control</p></li>
<li><p>LCD brightness control</p></li>
<li><p>LCD on and off</p></li>
</ul>
<p>A compatibility table by model and feature is maintained on the web
site, <a class="reference external" href="http://acpi4asus.sf.net/">http://acpi4asus.sf.net/</a>.</p>
</div></blockquote>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Try “modprobe asus-laptop”. Check your dmesg (simply type dmesg). You should
see some lines like this :</p>
<blockquote>
<div><dl class="simple">
<dt>Asus Laptop Extras version 0.42</dt><dd><ul class="simple">
<li><p>L2D model detected.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>If it is not the output you have on your laptop, send it (and the laptop’s
DSDT) to me.</p>
<p>That’s all, now, all the events generated by the hotkeys of your laptop
should be reported via netlink events. You can check with
“acpi_genl monitor” (part of the acpica project).</p>
<p>Hotkeys are also reported as input keys (like keyboards) you can check
which key are supported using “xev” under X11.</p>
<p>You can get information on the version of your DSDT table by reading the
/sys/devices/platform/asus-laptop/infos entry. If you have a question or a
bug report to do, please include the output of this entry.</p>
</div></blockquote>
</section>
<section id="leds">
<h2>LEDs<a class="headerlink" href="#leds" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>You can modify LEDs be echoing values to <cite>/sys/class/leds/asus/*/brightness</cite>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo 1 &gt;  /sys/class/leds/asus::mail/brightness
</pre></div>
</div>
<p>will switch the mail LED on.</p>
<p>You can also know if they are on/off by reading their content and use
kernel triggers like disk-activity or heartbeat.</p>
</div></blockquote>
</section>
<section id="backlight">
<h2>Backlight<a class="headerlink" href="#backlight" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>You can control lcd backlight power and brightness with
/sys/class/backlight/asus-laptop/. Brightness Values are between 0 and 15.</p>
</div></blockquote>
</section>
<section id="wireless-devices">
<h2>Wireless devices<a class="headerlink" href="#wireless-devices" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>You can turn the internal Bluetooth adapter on/off with the bluetooth entry
(only on models with Bluetooth). This usually controls the associated LED.
Same for Wlan adapter.</p>
</div></blockquote>
</section>
<section id="display-switching">
<h2>Display switching<a class="headerlink" href="#display-switching" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Note: the display switching code is currently considered EXPERIMENTAL.</p>
<p>Switching works for the following models:</p>
<blockquote>
<div><ul class="simple">
<li><p>L3800C</p></li>
<li><p>A2500H</p></li>
<li><p>L5800C</p></li>
<li><p>M5200N</p></li>
<li><p>W1000N (albeit with some glitches)</p></li>
<li><p>M6700R</p></li>
<li><p>A6JC</p></li>
<li><p>F3J</p></li>
</ul>
</div></blockquote>
<p>Switching doesn’t work for the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>M3700N</p></li>
<li><p>L2X00D (locks the laptop under certain conditions)</p></li>
</ul>
</div></blockquote>
<p>To switch the displays, echo values from 0 to 15 to
/sys/devices/platform/asus-laptop/display. The significance of those values
is as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Bin</p></td>
<td><p>Val</p></td>
<td><p>DVI</p></td>
<td><p>TV</p></td>
<td><p>CRT</p></td>
<td><p>LCD</p></td>
</tr>
<tr class="row-even"><td><p>0000</p></td>
<td><p>0</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>0001</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>0010</p></td>
<td><p>2</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>0011</p></td>
<td><p>3</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>0100</p></td>
<td><p>4</p></td>
<td></td>
<td><p>X</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>0101</p></td>
<td><p>5</p></td>
<td></td>
<td><p>X</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>0110</p></td>
<td><p>6</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>0111</p></td>
<td><p>7</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>1000</p></td>
<td><p>8</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>1001</p></td>
<td><p>9</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>1010</p></td>
<td><p>10</p></td>
<td><p>X</p></td>
<td></td>
<td><p>X</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>1011</p></td>
<td><p>11</p></td>
<td><p>X</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>1100</p></td>
<td><p>12</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>1101</p></td>
<td><p>13</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>1110</p></td>
<td><p>14</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>1111</p></td>
<td><p>15</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
<p>In most cases, the appropriate displays must be plugged in for the above
combinations to work. TV-Out may need to be initialized at boot time.</p>
<p>Debugging:</p>
<ol class="arabic">
<li><p>Check whether the Fn+F8 key:</p>
<ol class="loweralpha simple">
<li><p>does not lock the laptop (try a boot with noapic / nolapic if it does)</p></li>
<li><p>generates events (0x6n, where n is the value corresponding to the
configuration above)</p></li>
<li><p>actually works</p></li>
</ol>
<p>Record the disp value at every configuration.</p>
</li>
<li><p>Echo values from 0 to 15 to /sys/devices/platform/asus-laptop/display.
Record its value, note any change. If nothing changes, try a broader range,
up to 65535.</p></li>
<li><p>Send ANY output (both positive and negative reports are needed, unless your
machine is already listed above) to the acpi4asus-user mailing list.</p></li>
</ol>
<p>Note: on some machines (e.g. L3C), after the module has been loaded, only 0x6n
events are generated and no actual switching occurs. In such a case, a line
like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo $((10#$arg-60)) &gt; /sys/devices/platform/asus-laptop/display
</pre></div>
</div>
<p>will usually do the trick ($arg is the 0000006n-like event passed to acpid).</p>
<p>Note: there is currently no reliable way to read display status on xxN
(Centrino) models.</p>
</div></blockquote>
</section>
<section id="led-display">
<h2>LED display<a class="headerlink" href="#led-display" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Some models like the W1N have a LED display that can be used to display
several items of information.</p>
<p>LED display works for the following models:</p>
<blockquote>
<div><ul class="simple">
<li><p>W1000N</p></li>
<li><p>W1J</p></li>
</ul>
</div></blockquote>
<p>To control the LED display, use the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo 0x0T000DDD &gt; /sys/devices/platform/asus-laptop/
</pre></div>
</div>
<p>where T control the 3 letters display, and DDD the 3 digits display,
according to the tables below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DDD (digits)
000 to 999 = display digits
AAA        = ---
BBB to FFF = turn-off

T  (type)
0 = off
1 = dvd
2 = vcd
3 = mp3
4 = cd
5 = tv
6 = cpu
7 = vol
</pre></div>
</div>
<p>For example “echo 0x01000001 &gt;/sys/devices/platform/asus-laptop/ledd”
would display “DVD001”.</p>
</div></blockquote>
</section>
<section id="driver-options">
<h2>Driver options<a class="headerlink" href="#driver-options" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Options can be passed to the asus-laptop driver using the standard
module argument syntax (&lt;param&gt;=&lt;value&gt; when passing the option to the
module or asus-laptop.&lt;param&gt;=&lt;value&gt; on the kernel boot line when
asus-laptop is statically linked into the kernel).</p>
<blockquote>
<div><dl class="simple">
<dt>wapf: WAPF defines the behavior of the Fn+Fx wlan key</dt><dd><p>The significance of values is yet to be found, but
most of the time:</p>
<ul class="simple">
<li><p>0x0 should do nothing</p></li>
<li><p>0x1 should allow to control the device with Fn+Fx key.</p></li>
<li><p>0x4 should send an ACPI event (0x88) while pressing the Fn+Fx key</p></li>
<li><p>0x5 like 0x1 or 0x4</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>The default value is 0x1.</p>
</div></blockquote>
</section>
<section id="unsupported-models">
<h2>Unsupported models<a class="headerlink" href="#unsupported-models" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>These models will never be supported by this module, as they use a completely
different mechanism to handle LEDs and extra stuff (meaning we have no clue
how it works):</p>
<ul class="simple">
<li><p>ASUS A1300 (A1B), A1370D</p></li>
<li><p>ASUS L7300G</p></li>
<li><p>ASUS L8400</p></li>
</ul>
</div></blockquote>
</section>
<section id="patches-errors-questions">
<h2>Patches, Errors, Questions<a class="headerlink" href="#patches-errors-questions" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>I appreciate any success or failure
reports, especially if they add to or correct the compatibility table.
Please include the following information in your report:</p>
<ul class="simple">
<li><p>Asus model name</p></li>
<li><p>a copy of your ACPI tables, using the “acpidump” utility</p></li>
<li><p>a copy of /sys/devices/platform/asus-laptop/infos</p></li>
<li><p>which driver features work and which don’t</p></li>
<li><p>the observed behavior of non-working features</p></li>
</ul>
<p>Any other comments or patches are also more than welcome.</p>
<p><a class="reference external" href="mailto:acpi4asus-user&#37;&#52;&#48;lists&#46;sourceforge&#46;net">acpi4asus-user<span>&#64;</span>lists<span>&#46;</span>sourceforge<span>&#46;</span>net</a></p>
<p><a class="reference external" href="http://sourceforge.net/projects/acpi4asus">http://sourceforge.net/projects/acpi4asus</a></p>
</div></blockquote>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Asus Laptop Extras</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#leds">LEDs</a></li>
<li><a class="reference internal" href="#backlight">Backlight</a></li>
<li><a class="reference internal" href="#wireless-devices">Wireless devices</a></li>
<li><a class="reference internal" href="#display-switching">Display switching</a></li>
<li><a class="reference internal" href="#led-display">LED display</a></li>
<li><a class="reference internal" href="#driver-options">Driver options</a></li>
<li><a class="reference internal" href="#unsupported-models">Unsupported models</a></li>
<li><a class="reference internal" href="#patches-errors-questions">Patches, Errors, Questions</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/admin-guide/laptops/asus-laptop.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/admin-guide/laptops/asus-laptop.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>