
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Linux ACM driver v0.16 &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Authorizing (or not) your USB devices to connect to the system" href="authorization.html" />
    <link rel="prev" title="USB support" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="linux-acm-driver-v0-16">
<h1>Linux ACM driver v0.16<a class="headerlink" href="#linux-acm-driver-v0-16" title="Permalink to this headline">¶</a></h1>
<p>Copyright (c) 1999 Vojtech Pavlik &lt;<a class="reference external" href="mailto:vojtech&#37;&#52;&#48;suse&#46;cz">vojtech<span>&#64;</span>suse<span>&#46;</span>cz</a>&gt;</p>
<p>Sponsored by SuSE</p>
<section id="disclaimer">
<h2>0. Disclaimer<a class="headerlink" href="#disclaimer" title="Permalink to this headline">¶</a></h2>
<p>This program is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.</p>
<p>This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
more details.</p>
<p>You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc., 59
Temple Place, Suite 330, Boston, MA 02111-1307 USA</p>
<p>Should you need to contact me, the author, you can do so either by e-mail -
mail your message to &lt;<a class="reference external" href="mailto:vojtech&#37;&#52;&#48;suse&#46;cz">vojtech<span>&#64;</span>suse<span>&#46;</span>cz</a>&gt;, or by paper mail: Vojtech Pavlik,
Ucitelska 1576, Prague 8, 182 00 Czech Republic</p>
<p>For your convenience, the GNU General Public License version 2 is included
in the package: See the file COPYING.</p>
</section>
<section id="usage">
<h2>1. Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The drivers/usb/class/cdc-acm.c drivers works with USB modems and USB ISDN terminal
adapters that conform to the Universal Serial Bus Communication Device Class
Abstract Control Model (USB CDC ACM) specification.</p>
<p>Many modems do, here is a list of those I know of:</p>
<blockquote>
<div><ul class="simple">
<li><p>3Com OfficeConnect 56k</p></li>
<li><p>3Com Voice FaxModem Pro</p></li>
<li><p>3Com Sportster</p></li>
<li><p>MultiTech MultiModem 56k</p></li>
<li><p>Zoom 2986L FaxModem</p></li>
<li><p>Compaq 56k FaxModem</p></li>
<li><p>ELSA Microlink 56k</p></li>
</ul>
</div></blockquote>
<p>I know of one ISDN TA that does work with the acm driver:</p>
<blockquote>
<div><ul class="simple">
<li><p>3Com USR ISDN Pro TA</p></li>
</ul>
</div></blockquote>
<p>Some cell phones also connect via USB. I know the following phones work:</p>
<blockquote>
<div><ul class="simple">
<li><p>SonyEricsson K800i</p></li>
</ul>
</div></blockquote>
<p>Unfortunately many modems and most ISDN TAs use proprietary interfaces and
thus won’t work with this drivers. Check for ACM compliance before buying.</p>
<p>To use the modems you need these modules loaded:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usbcore.ko
uhci-hcd.ko ohci-hcd.ko or ehci-hcd.ko
cdc-acm.ko
</pre></div>
</div>
<p>After that, the modem[s] should be accessible. You should be able to use
minicom, ppp and mgetty with them.</p>
</section>
<section id="verifying-that-it-works">
<h2>2. Verifying that it works<a class="headerlink" href="#verifying-that-it-works" title="Permalink to this headline">¶</a></h2>
<p>The first step would be to check /sys/kernel/debug/usb/devices, it should look
like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>T:  Bus=01 Lev=00 Prnt=00 Port=00 Cnt=00 Dev#=  1 Spd=12  MxCh= 2
B:  Alloc=  0/900 us ( 0%), #Int=  0, #Iso=  0
D:  Ver= 1.00 Cls=09(hub  ) Sub=00 Prot=00 MxPS= 8 #Cfgs=  1
P:  Vendor=0000 ProdID=0000 Rev= 0.00
S:  Product=USB UHCI Root Hub
S:  SerialNumber=6800
C:* #Ifs= 1 Cfg#= 1 Atr=40 MxPwr=  0mA
I:  If#= 0 Alt= 0 #EPs= 1 Cls=09(hub  ) Sub=00 Prot=00 Driver=hub
E:  Ad=81(I) Atr=03(Int.) MxPS=   8 Ivl=255ms
T:  Bus=01 Lev=01 Prnt=01 Port=01 Cnt=01 Dev#=  2 Spd=12  MxCh= 0
D:  Ver= 1.00 Cls=02(comm.) Sub=00 Prot=00 MxPS= 8 #Cfgs=  2
P:  Vendor=04c1 ProdID=008f Rev= 2.07
S:  Manufacturer=3Com Inc.
S:  Product=3Com U.S. Robotics Pro ISDN TA
S:  SerialNumber=UFT53A49BVT7
C:  #Ifs= 1 Cfg#= 1 Atr=60 MxPwr=  0mA
I:  If#= 0 Alt= 0 #EPs= 3 Cls=ff(vend.) Sub=ff Prot=ff Driver=acm
E:  Ad=85(I) Atr=02(Bulk) MxPS=  64 Ivl=  0ms
E:  Ad=04(O) Atr=02(Bulk) MxPS=  64 Ivl=  0ms
E:  Ad=81(I) Atr=03(Int.) MxPS=  16 Ivl=128ms
C:* #Ifs= 2 Cfg#= 2 Atr=60 MxPwr=  0mA
I:  If#= 0 Alt= 0 #EPs= 1 Cls=02(comm.) Sub=02 Prot=01 Driver=acm
E:  Ad=81(I) Atr=03(Int.) MxPS=  16 Ivl=128ms
I:  If#= 1 Alt= 0 #EPs= 2 Cls=0a(data ) Sub=00 Prot=00 Driver=acm
E:  Ad=85(I) Atr=02(Bulk) MxPS=  64 Ivl=  0ms
E:  Ad=04(O) Atr=02(Bulk) MxPS=  64 Ivl=  0ms
</pre></div>
</div>
<p>The presence of these three lines (and the Cls= ‘comm’ and ‘data’ classes)
is important, it means it’s an ACM device. The Driver=acm means the acm
driver is used for the device. If you see only Cls=ff(vend.) then you’re out
of luck, you have a device with vendor specific-interface:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>D:  Ver= 1.00 Cls=02(comm.) Sub=00 Prot=00 MxPS= 8 #Cfgs=  2
I:  If#= 0 Alt= 0 #EPs= 1 Cls=02(comm.) Sub=02 Prot=01 Driver=acm
I:  If#= 1 Alt= 0 #EPs= 2 Cls=0a(data ) Sub=00 Prot=00 Driver=acm
</pre></div>
</div>
<p>In the system log you should see:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usb.c: USB new device connect, assigned device number 2
usb.c: kmalloc IF c7691fa0, numif 1
usb.c: kmalloc IF c7b5f3e0, numif 2
usb.c: skipped 4 class/vendor specific interface descriptors
usb.c: new device strings: Mfr=1, Product=2, SerialNumber=3
usb.c: USB device number 2 default language ID 0x409
Manufacturer: 3Com Inc.
Product: 3Com U.S. Robotics Pro ISDN TA
SerialNumber: UFT53A49BVT7
acm.c: probing config 1
acm.c: probing config 2
ttyACM0: USB ACM device
acm.c: acm_control_msg: rq: 0x22 val: 0x0 len: 0x0 result: 0
acm.c: acm_control_msg: rq: 0x20 val: 0x0 len: 0x7 result: 7
usb.c: acm driver claimed interface c7b5f3e0
usb.c: acm driver claimed interface c7b5f3f8
usb.c: acm driver claimed interface c7691fa0
</pre></div>
</div>
<p>If all this seems to be OK, fire up minicom and set it to talk to the ttyACM
device and try typing ‘at’. If it responds with ‘OK’, then everything is
working.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Linux ACM driver v0.16</a><ul>
<li><a class="reference internal" href="#disclaimer">0. Disclaimer</a></li>
<li><a class="reference internal" href="#usage">1. Usage</a></li>
<li><a class="reference internal" href="#verifying-that-it-works">2. Verifying that it works</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/usb/acm.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/usb/acm.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>