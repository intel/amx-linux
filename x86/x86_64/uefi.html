
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>28.2. General note on [U]EFI x86_64 support &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="28.3. Memory Management" href="mm.html" />
    <link rel="prev" title="28.1. AMD64 Specific Boot Options" href="boot-options.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="general-note-on-u-efi-x86-64-support">
<h1><span class="section-number">28.2. </span>General note on [U]EFI x86_64 support<a class="headerlink" href="#general-note-on-u-efi-x86-64-support" title="Permalink to this headline">¶</a></h1>
<p>The nomenclature EFI and UEFI are used interchangeably in this document.</p>
<p>Although the tools below are _not_ needed for building the kernel,
the needed bootloader support and associated tools for x86_64 platforms
with EFI firmware and specifications are listed below.</p>
<ol class="arabic simple">
<li><p>UEFI specification:  <a class="reference external" href="http://www.uefi.org">http://www.uefi.org</a></p></li>
<li><p>Booting Linux kernel on UEFI x86_64 platform requires bootloader
support. Elilo with x86_64 support can be used.</p></li>
<li><p>x86_64 platform with EFI/UEFI firmware.</p></li>
</ol>
<section id="mechanics">
<h2><span class="section-number">28.2.1. </span>Mechanics<a class="headerlink" href="#mechanics" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Build the kernel with the following configuration:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_FB_EFI=y
CONFIG_FRAMEBUFFER_CONSOLE=y
</pre></div>
</div>
<p>If EFI runtime services are expected, the following configuration should
be selected:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CONFIG_EFI=y
CONFIG_EFIVAR_FS=y or m         # optional
</pre></div>
</div>
</li>
<li><p>Create a VFAT partition on the disk</p></li>
<li><p>Copy the following to the VFAT partition:</p>
<blockquote>
<div><p>elilo bootloader with x86_64 support, elilo configuration file,
kernel image built in first step and corresponding
initrd. Instructions on building elilo and its dependencies
can be found in the elilo sourceforge project.</p>
</div></blockquote>
</li>
<li><p>Boot to EFI shell and invoke elilo choosing the kernel image built
in first step.</p></li>
<li><p>If some or all EFI runtime services don’t work, you can try following
kernel command line parameters to turn off some or all EFI runtime
services.</p>
<blockquote>
<div><dl class="simple">
<dt>noefi</dt><dd><p>turn off all EFI runtime services</p>
</dd>
<dt>reboot_type=k</dt><dd><p>turn off EFI reboot runtime service</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p>If the EFI memory map has additional entries not in the E820 map,
you can include those entries in the kernels memory map of available
physical RAM by using the following kernel command line parameter.</p>
<blockquote>
<div><dl class="simple">
<dt>add_efi_memmap</dt><dd><p>include EFI memory map of available physical RAM</p>
</dd>
</dl>
</div></blockquote>
</li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">28.2. General note on [U]EFI x86_64 support</a><ul>
<li><a class="reference internal" href="#mechanics">28.2.1. Mechanics</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/x86/x86_64/uefi.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/x86/x86_64/uefi.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>