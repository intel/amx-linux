
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Inviare patch: la guida essenziale per vedere il vostro codice nel kernel &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Linguaggio di programmazione" href="programming-language.html" />
    <link rel="prev" title="8. Per maggiori informazioni" href="8.Conclusion.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In caso di dubbi sulla correttezza del contenuto di questa traduzione,
l’unico riferimento valido è la documentazione ufficiale in inglese.
Per maggiori informazioni consultate le <a class="reference internal" href="../index.html#it-disclaimer"><span class="std std-ref">avvertenze</span></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Original</dt>
<dd class="field-odd"><p><a class="reference internal" href="../../../process/submitting-patches.html#submittingpatches"><span class="std std-ref">Documentation/process/submitting-patches.rst</span></a></p>
</dd>
<dt class="field-even">Translator</dt>
<dd class="field-even"><p>Federico Vaga &lt;<a class="reference external" href="mailto:federico&#46;vaga&#37;&#52;&#48;vaga&#46;pv&#46;it">federico<span>&#46;</span>vaga<span>&#64;</span>vaga<span>&#46;</span>pv<span>&#46;</span>it</a>&gt;</p>
</dd>
</dl>
<section id="inviare-patch-la-guida-essenziale-per-vedere-il-vostro-codice-nel-kernel">
<span id="it-submittingpatches"></span><h1>Inviare patch: la guida essenziale per vedere il vostro codice nel kernel<a class="headerlink" href="#inviare-patch-la-guida-essenziale-per-vedere-il-vostro-codice-nel-kernel" title="Permalink to this headline">¶</a></h1>
<p>Una persona o un’azienda che volesse inviare una patch al kernel potrebbe
sentirsi scoraggiata dal processo di sottomissione, specialmente quando manca
una certa familiarità col “sistema”.  Questo testo è una raccolta di
suggerimenti che aumenteranno significativamente le probabilità di vedere le
vostre patch accettate.</p>
<p>Questo documento contiene un vasto numero di suggerimenti concisi. Per maggiori
dettagli su come funziona il processo di sviluppo del kernel leggete
<a class="reference internal" href="development-process.html"><span class="doc">Una guida al processo di sviluppo del Kernel</span></a>. Leggete anche
<a class="reference internal" href="submit-checklist.html"><span class="doc">Lista delle verifiche da fare prima di inviare una patch per il kernel Linux</span></a> per una lista di
punti da verificare prima di inviare del codice.
Per delle patch relative alle associazioni per Device Tree leggete
<a class="reference internal" href="#"><span class="doc">Inviare patch: la guida essenziale per vedere il vostro codice nel kernel</span></a>.</p>
<p>Questa documentazione assume che sappiate usare <code class="docutils literal notranslate"><span class="pre">git</span></code> per preparare le patch.
Se non siete pratici di <code class="docutils literal notranslate"><span class="pre">git</span></code>, allora è bene che lo impariate;
renderà la vostra vita di sviluppatore del kernel molto più semplice.</p>
<p>I sorgenti di alcuni sottosistemi e manutentori contengono più informazioni
riguardo al loro modo di lavorare ed aspettative. Consultate
<a class="reference internal" href="maintainer-handbooks.html#it-maintainer-handbooks-main"><span class="std std-ref">Documentation/translations/it_IT/process/maintainer-handbooks.rst</span></a></p>
<section id="ottenere-i-sorgenti-attuali">
<h2>Ottenere i sorgenti attuali<a class="headerlink" href="#ottenere-i-sorgenti-attuali" title="Permalink to this headline">¶</a></h2>
<p>Se non avete un repositorio coi sorgenti del kernel più recenti, allora usate
<code class="docutils literal notranslate"><span class="pre">git</span></code> per ottenerli.  Vorrete iniziare col repositorio principale che può
essere recuperato col comando:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git clone git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git
</pre></div>
</div>
<p>Notate, comunque, che potreste non voler sviluppare direttamente coi sorgenti
principali del kernel.  La maggior parte dei manutentori hanno i propri
sorgenti e desiderano che le patch siano preparate basandosi su di essi.
Guardate l’elemento <strong>T:</strong> per un determinato sottosistema nel file MAINTANERS
che troverete nei sorgenti, o semplicemente chiedete al manutentore nel caso
in cui i sorgenti da usare non siano elencati il quel file.</p>
</section>
<section id="descrivete-le-vostre-modifiche">
<span id="it-describe-changes"></span><h2>Descrivete le vostre modifiche<a class="headerlink" href="#descrivete-le-vostre-modifiche" title="Permalink to this headline">¶</a></h2>
<p>Descrivete il vostro problema. Esiste sempre un problema che via ha spinto
ha fare il vostro lavoro, che sia la correzione di un baco da una riga o una
nuova funzionalità da 5000 righe di codice.  Convincete i revisori che vale
la pena risolvere il vostro problema e che ha senso continuare a leggere oltre
al primo paragrafo.</p>
<p>Descrivete ciò che sarà visibile agli utenti.  Chiari incidenti nel sistema
e blocchi sono abbastanza convincenti, ma non tutti i bachi sono così evidenti.
Anche se il problema è stato scoperto durante la revisione del codice,
descrivete l’impatto che questo avrà sugli utenti.  Tenete presente che
la maggior parte delle installazioni Linux usa un kernel che arriva dai
sorgenti stabili o dai sorgenti di una distribuzione particolare che prende
singolarmente le patch dai sorgenti principali; quindi, includete tutte
le informazioni che possono essere utili a capire le vostre modifiche:
le circostanze che causano il problema, estratti da dmesg, descrizioni di
un incidente di sistema, prestazioni di una regressione, picchi di latenza,
blocchi, eccetera.</p>
<p>Quantificare le ottimizzazioni e i compromessi.  Se affermate di aver
migliorato le prestazioni, il consumo di memoria, l’impatto sollo stack,
o la dimensione del file binario, includete dei numeri a supporto della
vostra dichiarazione.  Ma ricordatevi di descrivere anche eventuali costi
che non sono ovvi.  Solitamente le ottimizzazioni non sono gratuite, ma sono
un compromesso fra l’uso di CPU, la memoria e la leggibilità; o, quando si
parla di ipotesi euristiche, fra differenti carichi.  Descrivete i lati
negativi che vi aspettate dall’ottimizzazione cosicché i revisori possano
valutare i costi e i benefici.</p>
<p>Una volta che il problema è chiaro, descrivete come lo risolvete andando
nel dettaglio tecnico.  È molto importante che descriviate la modifica
in un inglese semplice cosicché i revisori possano verificare che il codice si
comporti come descritto.</p>
<p>I manutentori vi saranno grati se scrivete la descrizione della patch in un
formato che sia compatibile con il gestore dei sorgenti usato dal kernel,
<code class="docutils literal notranslate"><span class="pre">git</span></code>, come un “commit log”. Leggete <a class="reference internal" href="#it-the-canonical-patch-format"><span class="std std-ref">Il formato canonico delle patch</span></a>.</p>
<p>Risolvete solo un problema per patch.  Se la vostra descrizione inizia ad
essere lunga, potrebbe essere un segno che la vostra patch necessita d’essere
divisa. Leggete <a class="reference internal" href="#it-split-changes"><span class="std std-ref">Separate le vostre modifiche</span></a>.</p>
<p>Quando inviate o rinviate una patch o una serie, includete la descrizione
completa delle modifiche e la loro giustificazione.  Non limitatevi a dire che
questa è la versione N della patch (o serie).  Non aspettatevi che i
manutentori di un sottosistema vadano a cercare le versioni precedenti per
cercare la descrizione da aggiungere.  In pratica, la patch (o serie) e la sua
descrizione devono essere un’unica cosa.  Questo aiuta i manutentori e i
revisori.  Probabilmente, alcuni revisori non hanno nemmeno ricevuto o visto
le versioni precedenti della patch.</p>
<p>Descrivete le vostro modifiche usando l’imperativo, per esempio “make xyzzy
do frotz” piuttosto che “[This patch] makes xyzzy do frotz” or “[I] changed
xyzzy to do frotz”, come se steste dando ordini al codice di cambiare il suo
comportamento.</p>
<p>Se ci sono delle discussioni, o altre informazioni d’interesse, che fanno
riferimento alla patch, allora aggiungete l’etichetta ‘Link:’ per farvi
riferimento. Per esempio, se la vostra patch corregge un baco potete aggiungere
quest’etichetta per fare riferimento ad un rapporto su una lista di discussione
o un <em>bug tracker</em>. Un altro esempio; potete usare quest’etichetta per far
riferimento ad una discussione precedentemente avvenuta su una lista di
discussione, o qualcosa di documentato sul web, da cui poi è nata la patch in
questione.</p>
<p>Quando volete fare riferimento ad una lista di discussione, preferite il
servizio d’archiviazione lore.kernel.org. Per create un collegamento URL è
sufficiente usare il campo <code class="docutils literal notranslate"><span class="pre">Message-Id</span></code>, presente nell’intestazione del
messaggio, senza parentesi angolari. Per esempio:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Link: https://lore.kernel.org/r/30th.anniversary.repost@klaava.Helsinki.FI/
</pre></div>
</div>
<p>Prima d’inviare il messaggio ricordatevi di verificare che il collegamento così
creato funzioni e che indirizzi verso il messaggio desiderato.</p>
<p>Tuttavia, provate comunque a dare una spiegazione comprensibile anche senza
accedere alle fonti esterne. Inoltre, riassumente i punti più salienti che hanno
condotto all’invio della patch.</p>
<p>Se volete far riferimento a uno specifico commit, non usate solo
l’identificativo SHA-1.  Per cortesia, aggiungete anche la breve riga
riassuntiva del commit per rendere la chiaro ai revisori l’oggetto.
Per esempio:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Commit e21d2170f36602ae2708 (&quot;video: remove unnecessary
platform_set_drvdata()&quot;) removed the unnecessary
platform_set_drvdata(), but left the variable &quot;dev&quot; unused,
delete it.
</pre></div>
</div>
<p>Dovreste anche assicurarvi di usare almeno i primi 12 caratteri
dell’identificativo SHA-1.  Il repositorio del kernel ha <em>molti</em> oggetti e
questo rende possibile la collisione fra due identificativi con pochi
caratteri.  Tenete ben presente che anche se oggi non ci sono collisioni con il
vostro identificativo a 6 caratteri, potrebbero essercene fra 5 anni da oggi.</p>
<p>Se la vostra patch corregge un baco in un commit specifico, per esempio avete
trovato un problema usando <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code>, per favore usate l’etichetta
‘Fixes:’ indicando i primi 12 caratteri dell’identificativo SHA-1 seguiti
dalla riga riassuntiva.  Per esempio:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Fixes: e21d2170f366 (&quot;video: remove unnecessary platform_set_drvdata()&quot;)
</pre></div>
</div>
<p>La seguente configurazione di <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span></code> può essere usata per formattare
i risultati dei comandi <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> o <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">show</span></code> come nell’esempio
precedente:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[core]
        abbrev = 12
[pretty]
        fixes = Fixes: %h (\&quot;%s\&quot;)
</pre></div>
</div>
<p>Un esempio:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ git log -1 --pretty=fixes 54a4f0239f2e
Fixes: 54a4f0239f2e (&quot;KVM: MMU: make kvm_mmu_zap_page() return the number of pages it actually freed&quot;)
</pre></div>
</div>
</section>
<section id="separate-le-vostre-modifiche">
<span id="it-split-changes"></span><h2>Separate le vostre modifiche<a class="headerlink" href="#separate-le-vostre-modifiche" title="Permalink to this headline">¶</a></h2>
<p>Separate ogni <strong>cambiamento logico</strong> in patch distinte.</p>
<p>Per esempio, se i vostri cambiamenti per un singolo driver includono
sia delle correzioni di bachi che miglioramenti alle prestazioni,
allora separateli in due o più patch.  Se i vostri cambiamenti includono
un aggiornamento dell’API e un nuovo driver che lo sfrutta, allora separateli
in due patch.</p>
<p>D’altro canto, se fate una singola modifica su più file, raggruppate tutte
queste modifiche in una singola patch.  Dunque, un singolo cambiamento logico
è contenuto in una sola patch.</p>
<p>Il punto da ricordare è che ogni modifica dovrebbe fare delle modifiche
che siano facilmente comprensibili e che possano essere verificate dai revisori.
Ogni patch dovrebbe essere giustificabile di per sé.</p>
<p>Se al fine di ottenere un cambiamento completo una patch dipende da un’altra,
va bene.  Semplicemente scrivete una nota nella descrizione della patch per
farlo presente: <strong>“this patch depends on patch X”</strong>.</p>
<p>Quando dividete i vostri cambiamenti in una serie di patch, prestate
particolare attenzione alla verifica di ogni patch della serie; per ognuna
il kernel deve compilare ed essere eseguito correttamente.  Gli sviluppatori
che usano <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">bisect</span></code> per scovare i problemi potrebbero finire nel mezzo
della vostra serie in un punto qualsiasi; non vi saranno grati se nel mezzo
avete introdotto dei bachi.</p>
<p>Se non potete condensare la vostra serie di patch in una più piccola, allora
pubblicatene una quindicina alla volta e aspettate che vengano revisionate
ed integrate.</p>
</section>
<section id="verificate-lo-stile-delle-vostre-modifiche">
<h2>4) Verificate lo stile delle vostre modifiche<a class="headerlink" href="#verificate-lo-stile-delle-vostre-modifiche" title="Permalink to this headline">¶</a></h2>
<p>Controllate che la vostra patch non violi lo stile del codice, maggiori
dettagli sono disponibili in <a class="reference internal" href="coding-style.html"><span class="doc">Stile del codice per il kernel Linux</span></a>.
Non farlo porta semplicemente a una perdita di tempo da parte dei revisori e
voi vedrete la vostra patch rifiutata, probabilmente senza nemmeno essere stata
letta.</p>
<p>Un’eccezione importante si ha quando del codice viene spostato da un file
ad un altro – in questo caso non dovreste modificare il codice spostato
per nessun motivo, almeno non nella patch che lo sposta.  Questo separa
chiaramente l’azione di spostare il codice e il vostro cambiamento.
Questo aiuta enormemente la revisione delle vere differenze e permette agli
strumenti di tenere meglio la traccia della storia del codice.</p>
<p>Prima di inviare una patch, verificatene lo stile usando l’apposito
verificatore (scripts/checkpatch.pl).  Da notare, comunque, che il verificator
di stile dovrebbe essere visto come una guida, non come un sostituto al
giudizio umano.  Se il vostro codice è migliore nonostante una violazione
dello stile, probabilmente è meglio lasciarlo com’è.</p>
<dl class="simple">
<dt>Il verificatore ha tre diversi livelli di severità:</dt><dd><ul class="simple">
<li><p>ERROR: le cose sono molto probabilmente sbagliate</p></li>
<li><p>WARNING: le cose necessitano d’essere revisionate con attenzione</p></li>
<li><p>CHECK: le cose necessitano di un pensierino</p></li>
</ul>
</dd>
</dl>
<p>Dovreste essere in grado di giustificare tutte le eventuali violazioni rimaste
nella vostra patch.</p>
</section>
<section id="selezionate-i-destinatari-della-vostra-patch">
<h2>5) Selezionate i destinatari della vostra patch<a class="headerlink" href="#selezionate-i-destinatari-della-vostra-patch" title="Permalink to this headline">¶</a></h2>
<p>Dovreste sempre inviare una copia della patch ai manutentori dei sottosistemi
interessati dalle modifiche; date un’occhiata al file MAINTAINERS e alla storia
delle revisioni per scoprire chi si occupa del codice. Lo script
scripts/get_maintainer.pl può esservi d’aiuto (passategli il percorso alle
vostre patch). Se non riuscite a trovare un manutentore per il sottosistema su
cui state lavorando, allora Andrew Morton (<a class="reference external" href="mailto:akpm&#37;&#52;&#48;linux-foundation&#46;org">akpm<span>&#64;</span>linux-foundation<span>&#46;</span>org</a>) sarà la
vostra ultima possibilità.</p>
<p>Normalmente, dovreste anche scegliere una lista di discussione a cui inviare la
vostra serie di patch. La lista di discussione <a class="reference external" href="mailto:linux-kernel&#37;&#52;&#48;vger&#46;kernel&#46;org">linux-kernel<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a>
dovrebbe essere usata per inviare tutte le patch, ma il traffico è tale per cui
diversi sviluppatori la trascurano. Guardate nel file MAINTAINERS per trovare la
lista di discussione dedicata ad un sottosistema; probabilmente lì la vostra
patch riceverà molta più attenzione. Tuttavia, per favore, non spammate le liste
di discussione che non sono interessate al vostro lavoro.</p>
<p>Molte delle liste di discussione relative al kernel vengono ospitate su
vger.kernel.org; potete trovare un loro elenco alla pagina
<a class="reference external" href="http://vger.kernel.org/vger-lists.html">http://vger.kernel.org/vger-lists.html</a>.  Tuttavia, ci sono altre liste di
discussione ospitate altrove.</p>
<p>Non inviate più di 15 patch alla volta sulle liste di discussione vger!!!</p>
<p>L’ultimo giudizio sull’integrazione delle modifiche accettate spetta a
Linux Torvalds.  Il suo indirizzo e-mail è &lt;<a class="reference external" href="mailto:torvalds&#37;&#52;&#48;linux-foundation&#46;org">torvalds<span>&#64;</span>linux-foundation<span>&#46;</span>org</a>&gt;.
Riceve moltissime e-mail, e, a questo punto, solo poche patch passano
direttamente attraverso il suo giudizio; quindi, dovreste fare del vostro
meglio per -evitare di- inviargli e-mail.</p>
<p>Se avete una patch che corregge un baco di sicurezza che potrebbe essere
sfruttato, inviatela a <a class="reference external" href="mailto:security&#37;&#52;&#48;kernel&#46;org">security<span>&#64;</span>kernel<span>&#46;</span>org</a>.  Per bachi importanti, un breve
embargo potrebbe essere preso in considerazione per dare il tempo alle
distribuzioni di prendere la patch e renderla disponibile ai loro utenti;
in questo caso, ovviamente, la patch non dovrebbe essere inviata su alcuna
lista di discussione pubblica. Leggete anche
<a class="reference internal" href="../../../admin-guide/security-bugs.html"><span class="doc">Security bugs</span></a>.</p>
<p>Patch che correggono bachi importanti su un kernel già rilasciato, dovrebbero
essere inviate ai manutentori dei kernel stabili aggiungendo la seguente riga:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Cc: stable@vger.kernel.org
</pre></div>
</div>
<p>nella vostra patch, nell’area dedicata alle firme (notate, NON come destinatario
delle e-mail).  In aggiunta a questo file, dovreste leggere anche
<a class="reference internal" href="stable-kernel-rules.html"><span class="doc">Tutto quello che volevate sapere sui rilasci -stable di Linux</span></a>.</p>
<p>Se le modifiche hanno effetti sull’interfaccia con lo spazio utente, per favore
inviate una patch per le pagine man ai manutentori di suddette pagine (elencati
nel file MAINTAINERS), o almeno una notifica circa la vostra modifica,
cosicché l’informazione possa trovare la sua strada nel manuale.  Le modifiche
all’API dello spazio utente dovrebbero essere inviate in copia anche a
<a class="reference external" href="mailto:linux-api&#37;&#52;&#48;vger&#46;kernel&#46;org">linux-api<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a>.</p>
</section>
<section id="niente-mime-links-compressione-allegati-solo-puro-testo">
<h2>Niente: MIME, links, compressione, allegati.  Solo puro testo<a class="headerlink" href="#niente-mime-links-compressione-allegati-solo-puro-testo" title="Permalink to this headline">¶</a></h2>
<p>Linus e gli altri sviluppatori del kernel devono poter commentare
le modifiche che sottomettete.  Per uno sviluppatore è importante
essere in grado di “citare” le vostre modifiche, usando normali
programmi di posta elettronica, cosicché sia possibile commentare
una porzione specifica del vostro codice.</p>
<p>Per questa ragione tutte le patch devono essere inviate via e-mail
come testo. Il modo più facile, e quello raccomandato, è con <code class="docutils literal notranslate"><span class="pre">git</span>
<span class="pre">send-email</span></code>.  Al sito <a class="reference external" href="https://git-send-email.io">https://git-send-email.io</a> è disponibile una
guida interattiva sull’uso di <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">send-email</span></code>.</p>
<p>Se decidete di non usare <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">send-email</span></code>:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Se decidete di copiare ed incollare la patch nel corpo dell’e-mail, state
attenti che il vostro programma non corrompa il contenuto con andate
a capo automatiche.</p>
</div>
<p>La patch non deve essere un allegato MIME, compresso o meno.  Molti
dei più popolari programmi di posta elettronica non trasmettono un allegato
MIME come puro testo, e questo rende impossibile commentare il vostro codice.
Inoltre, un allegato MIME rende l’attività di Linus più laboriosa, diminuendo
così la possibilità che il vostro allegato-MIME venga accettato.</p>
<p>Eccezione: se il vostro servizio di posta storpia le patch, allora qualcuno
potrebbe chiedervi di rinviarle come allegato MIME.</p>
<p>Leggete <a class="reference internal" href="email-clients.html"><span class="doc">Informazioni sui programmi di posta elettronica per Linux</span></a>
per dei suggerimenti sulla configurazione del programmi di posta elettronica
per l’invio di patch intatte.</p>
</section>
<section id="rispondere-ai-commenti-di-revisione">
<h2>Rispondere ai commenti di revisione<a class="headerlink" href="#rispondere-ai-commenti-di-revisione" title="Permalink to this headline">¶</a></h2>
<p>In risposta alla vostra email, quasi certamente i revisori vi
invieranno dei commenti su come migliorare la vostra patch.  Dovete
rispondere a questi commenti; ignorare i revisori è un ottimo modo per
essere ignorati.  Riscontri o domande che non conducono ad una
modifica del codice quasi certamente dovrebbero portare ad un commento
nel changelog cosicché il prossimo revisore potrà meglio comprendere
cosa stia accadendo.</p>
<p>Assicuratevi di dire ai revisori quali cambiamenti state facendo e di
ringraziarli per il loro tempo.  Revisionare codice è un lavoro faticoso e che
richiede molto tempo, e a volte i revisori diventano burberi. Tuttavia, anche in
questo caso, rispondete con educazione e concentratevi sul problema che hanno
evidenziato. Quando inviate una version successiva ricordatevi di aggiungere un
<code class="docutils literal notranslate"><span class="pre">patch</span> <span class="pre">changelog</span></code> alla email di intestazione o ad ogni singola patch spiegando
le differenze rispetto a sottomissioni precedenti (vedere
<a class="reference internal" href="#it-the-canonical-patch-format"><span class="std std-ref">Il formato canonico delle patch</span></a>).</p>
<p>Leggete <a class="reference internal" href="email-clients.html"><span class="doc">Informazioni sui programmi di posta elettronica per Linux</span></a> per
le raccomandazioni sui programmi di posta elettronica e l’etichetta da usare
sulle liste di discussione.</p>
</section>
<section id="non-scoraggiatevi-o-impazientitevi">
<span id="it-resend-reminders"></span><h2>Non scoraggiatevi - o impazientitevi<a class="headerlink" href="#non-scoraggiatevi-o-impazientitevi" title="Permalink to this headline">¶</a></h2>
<p>Dopo che avete inviato le vostre modifiche, siate pazienti e aspettate.
I revisori sono persone occupate e potrebbero non ricevere la vostra patch
immediatamente.</p>
<p>Un tempo, le patch erano solite scomparire nel vuoto senza alcun commento,
ma ora il processo di sviluppo funziona meglio.  Dovreste ricevere commenti
in una settimana o poco più; se questo non dovesse accadere, assicuratevi di
aver inviato le patch correttamente.  Aspettate almeno una settimana prima di
rinviare le modifiche o sollecitare i revisori - probabilmente anche di più
durante la finestra d’integrazione.</p>
<p>Potete anche rinviare la patch, o la serie di patch, dopo un paio di settimane
aggiungendo la parola “RESEND” nel titolo:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[PATCH Vx RESEND] sub/sys: Condensed patch summary
</pre></div>
</div>
<p>Ma non aggiungete “RESEND” quando state sottomettendo una versione modificata
della vostra patch, o serie di patch - “RESEND” si applica solo alla
sottomissione di patch, o serie di patch, che non hanno subito modifiche
dall’ultima volta che sono state inviate.</p>
</section>
<section id="aggiungete-patch-nell-oggetto">
<h2>Aggiungete PATCH nell’oggetto<a class="headerlink" href="#aggiungete-patch-nell-oggetto" title="Permalink to this headline">¶</a></h2>
<p>Dato l’alto volume di e-mail per Linus, e la lista linux-kernel, è prassi
prefiggere il vostro oggetto con [PATCH].  Questo permette a Linus e agli
altri sviluppatori del kernel di distinguere facilmente le patch dalle altre
discussioni.</p>
<p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">send-email</span></code> lo fa automaticamente.</p>
</section>
<section id="firmate-il-vostro-lavoro-il-certificato-d-origine-dello-sviluppatore">
<h2>Firmate il vostro lavoro - Il certificato d’origine dello sviluppatore<a class="headerlink" href="#firmate-il-vostro-lavoro-il-certificato-d-origine-dello-sviluppatore" title="Permalink to this headline">¶</a></h2>
<p>Per migliorare la tracciabilità su “chi ha fatto cosa”, specialmente per
quelle patch che per raggiungere lo stadio finale passano attraverso
diversi livelli di manutentori, abbiamo introdotto la procedura di “firma”
delle patch che vengono inviate per e-mail.</p>
<p>La firma è una semplice riga alla fine della descrizione della patch che
certifica che l’avete scritta voi o che avete il diritto di pubblicarla
come patch open-source.  Le regole sono abbastanza semplici: se potete
certificare quanto segue:</p>
<section id="il-certificato-d-origine-dello-sviluppatore-1-1">
<h3>Il certificato d’origine dello sviluppatore 1.1<a class="headerlink" href="#il-certificato-d-origine-dello-sviluppatore-1-1" title="Permalink to this headline">¶</a></h3>
<p>Contribuendo a questo progetto, io certifico che:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Il contributo è stato creato interamente, o in parte, da me e che
ho il diritto di inviarlo in accordo con la licenza open-source
indicata nel file; oppure</p></li>
<li><p>Il contributo è basato su un lavoro precedente che, nei limiti
della mia conoscenza, è coperto da un’appropriata licenza
open-source che mi da il diritto di modificarlo e inviarlo,
le cui modifiche sono interamente o in parte mie, in accordo con
la licenza open-source (a meno che non abbia il permesso di usare
un’altra licenza) indicata nel file; oppure</p></li>
<li><p>Il contributo mi è stato fornito direttamente da qualcuno che
ha certificato (a), (b) o (c) e non l’ho modificata.</p></li>
<li><p>Capisco e concordo col fatto che questo progetto e i suoi
contributi sono pubblici e che un registro dei contributi (incluse
tutte le informazioni personali che invio con essi, inclusa la mia
firma) verrà mantenuto indefinitamente e che possa essere
ridistribuito in accordo con questo progetto o le licenze
open-source coinvolte.</p></li>
</ol>
</div></blockquote>
<p>poi dovete solo aggiungere una riga che dice:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Signed-off-by: Random J Developer &lt;random@developer.example.org&gt;
</pre></div>
</div>
<p>usando il vostro vero nome (spiacenti, non si accettano pseudonimi o
contributi anonimi). Questo verrà fatto automaticamente se usate
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-s</span></code>. Anche il ripristino di uno stato precedente dovrebbe
includere “Signed-off-by”, se usate <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">revert</span> <span class="pre">-s</span></code> questo verrà
fatto automaticamente.</p>
<p>Alcune persone aggiungono delle etichette alla fine.  Per ora queste verranno
ignorate, ma potete farlo per meglio identificare procedure aziendali interne o
per aggiungere dettagli circa la firma.</p>
<p>In seguito al SoB (Signed-off-by:) dell’autore ve ne sono altri da
parte di tutte quelle persone che si sono occupate della gestione e
del trasporto della patch. Queste però non sono state coinvolte nello
sviluppo, ma la loro sequenza d’apparizione ci racconta il percorso
<strong>reale</strong> che una patch a intrapreso dallo sviluppatore, fino al
manutentore, per poi giungere a Linus.</p>
</section>
</section>
<section id="quando-utilizzare-acked-by-cc-e-co-developed-by">
<h2>Quando utilizzare Acked-by:, Cc:, e Co-developed-by:<a class="headerlink" href="#quando-utilizzare-acked-by-cc-e-co-developed-by" title="Permalink to this headline">¶</a></h2>
<p>L’etichetta Signed-off-by: indica che il firmatario è stato coinvolto nello
sviluppo della patch, o che era nel suo percorso di consegna.</p>
<p>Se una persona non è direttamente coinvolta con la preparazione o gestione
della patch ma desidera firmare e mettere agli atti la loro approvazione,
allora queste persone possono chiedere di aggiungere al changelog della patch
una riga Acked-by:.</p>
<p>Acked-by: viene spesso utilizzato dai manutentori del sottosistema in oggetto
quando quello stesso manutentore non ha contribuito né trasmesso la patch.</p>
<p>Acked-by: non è formale come Signed-off-by:.  Questo indica che la persona ha
revisionato la patch e l’ha trovata accettabile.  Per cui, a volte, chi
integra le patch convertirà un “sì, mi sembra che vada bene” in un Acked-by:
(ma tenete presente che solitamente è meglio chiedere esplicitamente).</p>
<p>Acked-by: non indica l’accettazione di un’intera patch.  Per esempio, quando
una patch ha effetti su diversi sottosistemi e ha un Acked-by: da un
manutentore di uno di questi, significa che il manutentore accetta quella
parte di codice relativa al sottosistema che mantiene.  Qui dovremmo essere
giudiziosi.  Quando si hanno dei dubbi si dovrebbe far riferimento alla
discussione originale negli archivi della lista di discussione.</p>
<p>Se una persona ha avuto l’opportunità di commentare la patch, ma non lo ha
fatto, potete aggiungere l’etichetta <code class="docutils literal notranslate"><span class="pre">Cc:</span></code> alla patch.  Questa è l’unica
etichetta che può essere aggiunta senza che la persona in questione faccia
alcunché - ma dovrebbe indicare che la persona ha ricevuto una copia della
patch.  Questa etichetta documenta che terzi potenzialmente interessati sono
stati inclusi nella discussione.</p>
<p>Co-developed-by: indica che la patch è stata cosviluppata da diversi
sviluppatori; viene usato per assegnare più autori (in aggiunta a quello
associato all’etichetta From:) quando più persone lavorano ad una patch.  Dato
che Co-developed-by: implica la paternità della patch, ogni Co-developed-by:
dev’essere seguito immediatamente dal Signed-off-by: del corrispondente
coautore. Qui si applica la procedura di base per sign-off, in pratica
l’ordine delle etichette Signed-off-by: dovrebbe riflettere il più possibile
l’ordine cronologico della storia della patch, indipendentemente dal fatto che
la paternità venga assegnata via From: o Co-developed-by:. Da notare che
l’ultimo Signed-off-by: dev’essere quello di colui che ha sottomesso la patch.</p>
<p>Notate anche che l’etichetta From: è opzionale quando l’autore in From: è
anche la persona (e indirizzo email) indicato nel From: dell’intestazione
dell’email.</p>
<p>Esempio di una patch sottomessa dall’autore in From::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;changelog&gt;

Co-developed-by: First Co-Author &lt;first@coauthor.example.org&gt;
Signed-off-by: First Co-Author &lt;first@coauthor.example.org&gt;
Co-developed-by: Second Co-Author &lt;second@coauthor.example.org&gt;
Signed-off-by: Second Co-Author &lt;second@coauthor.example.org&gt;
Signed-off-by: From Author &lt;from@author.example.org&gt;
</pre></div>
</div>
<p>Esempio di una patch sottomessa dall’autore Co-developed-by::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>From: From Author &lt;from@author.example.org&gt;

&lt;changelog&gt;

Co-developed-by: Random Co-Author &lt;random@coauthor.example.org&gt;
Signed-off-by: Random Co-Author &lt;random@coauthor.example.org&gt;
Signed-off-by: From Author &lt;from@author.example.org&gt;
Co-developed-by: Submitting Co-Author &lt;sub@coauthor.example.org&gt;
Signed-off-by: Submitting Co-Author &lt;sub@coauthor.example.org&gt;
</pre></div>
</div>
</section>
<section id="utilizzare-reported-by-tested-by-reviewed-by-suggested-by-e-fixes">
<h2>Utilizzare Reported-by:, Tested-by:, Reviewed-by:, Suggested-by: e Fixes:<a class="headerlink" href="#utilizzare-reported-by-tested-by-reviewed-by-suggested-by-e-fixes" title="Permalink to this headline">¶</a></h2>
<p>L’etichetta Reported-by da credito alle persone che trovano e riportano i bachi
e si spera che questo possa ispirarli ad aiutarci nuovamente in futuro.
Rammentate che se il baco è stato riportato in privato, dovrete chiedere il
permesso prima di poter utilizzare l’etichetta Reported-by. Questa etichetta va
usata per i bachi, dunque non usatela per richieste di nuove funzionalità.</p>
<p>L’etichetta Tested-by: indica che la patch è stata verificata con successo
(su un qualche sistema) dalla persona citata.  Questa etichetta informa i
manutentori che qualche verifica è stata fatta, fornisce un mezzo per trovare
persone che possano verificare il codice in futuro, e garantisce che queste
stesse persone ricevano credito per il loro lavoro.</p>
<p>Reviewd-by:, invece, indica che la patch è stata revisionata ed è stata
considerata accettabile in accordo con la dichiarazione dei revisori:</p>
<section id="dichiarazione-di-svista-dei-revisori">
<h3>Dichiarazione di svista dei revisori<a class="headerlink" href="#dichiarazione-di-svista-dei-revisori" title="Permalink to this headline">¶</a></h3>
<p>Offrendo la mia etichetta Reviewed-by, dichiaro quanto segue:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Ho effettuato una revisione tecnica di questa patch per valutarne
l’adeguatezza ai fini dell’inclusione nel ramo principale del
kernel.</p></li>
<li><p>Tutti i problemi e le domande riguardanti la patch sono stati
comunicati al mittente.  Sono soddisfatto dalle risposte
del mittente.</p></li>
<li><p>Nonostante ci potrebbero essere cose migliorabili in queste
sottomissione, credo che sia, in questo momento, (1) una modifica
di interesse per il kernel, e (2) libera da problemi che
potrebbero metterne in discussione l’integrazione.</p></li>
<li><p>Nonostante abbia revisionato la patch e creda che vada bene,
non garantisco (se non specificato altrimenti) che questa
otterrà quello che promette o funzionerà correttamente in tutte
le possibili situazioni.</p></li>
</ol>
</div></blockquote>
<p>L’etichetta Reviewed-by è la dichiarazione di un parere sulla bontà di
una modifica che si ritiene appropriata e senza alcun problema tecnico
importante.  Qualsiasi revisore interessato (quelli che lo hanno fatto)
possono offrire il proprio Reviewed-by per la patch.  Questa etichetta serve
a dare credito ai revisori e a informare i manutentori sul livello di revisione
che è stato fatto sulla patch.  L’etichetta Reviewd-by, quando fornita da
revisori conosciuti per la loro conoscenza sulla materia in oggetto e per la
loro serietà nella revisione, accrescerà le probabilità che la vostra patch
venga integrate nel kernel.</p>
<p>Quando si riceve una email sulla lista di discussione da un tester o
un revisore, le etichette Tested-by o Reviewd-by devono essere
aggiunte dall’autore quando invierà nuovamente la patch. Tuttavia, se
la patch è cambiata in modo significativo, queste etichette potrebbero
non avere più senso e quindi andrebbero rimosse. Solitamente si tiene traccia
della rimozione nel changelog della patch (subito dopo il separatore ‘—‘).</p>
<p>L’etichetta Suggested-by: indica che l’idea della patch è stata suggerita
dalla persona nominata e le da credito. Tenete a mente che questa etichetta
non dovrebbe essere aggiunta senza un permesso esplicito, specialmente se
l’idea non è stata pubblicata in un forum pubblico.  Detto ciò, dando credito
a chi ci fornisce delle idee, si spera di poterli ispirare ad aiutarci
nuovamente in futuro.</p>
<p>L’etichetta Fixes: indica che la patch corregge un problema in un commit
precedente.  Serve a chiarire l’origine di un baco, il che aiuta la revisione
del baco stesso.  Questa etichetta è di aiuto anche per i manutentori dei
kernel stabili al fine di capire quale kernel deve ricevere la correzione.
Questo è il modo suggerito per indicare che un baco è stato corretto nella
patch. Per maggiori dettagli leggete <a class="reference internal" href="#it-describe-changes"><span class="std std-ref">Descrivete le vostre modifiche</span></a></p>
<p>Da notare che aggiungere un tag “Fixes:” non esime dalle regole
previste per i kernel stabili, e nemmeno dalla necessità di aggiungere
in copia conoscenza <a class="reference external" href="mailto:stable&#37;&#52;&#48;vger&#46;kernel&#46;org">stable<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a> su tutte le patch per
suddetti kernel.</p>
</section>
</section>
<section id="il-formato-canonico-delle-patch">
<span id="it-the-canonical-patch-format"></span><h2>Il formato canonico delle patch<a class="headerlink" href="#il-formato-canonico-delle-patch" title="Permalink to this headline">¶</a></h2>
<p>Questa sezione descrive il formato che dovrebbe essere usato per le patch.
Notate che se state usando un repositorio <code class="docutils literal notranslate"><span class="pre">git</span></code> per salvare le vostre patch
potere usare il comando <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">format-patch</span></code> per ottenere patch nel formato
appropriato.  Lo strumento non crea il testo necessario, per cui, leggete
le seguenti istruzioni.</p>
<p>L’oggetto di una patch canonica è la riga:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Subject: [PATCH 001/123] subsystem: summary phrase
</pre></div>
</div>
<p>Il corpo di una patch canonica contiene i seguenti elementi:</p>
<blockquote>
<div><ul class="simple">
<li><p>Una riga <code class="docutils literal notranslate"><span class="pre">from</span></code> che specifica l’autore della patch, seguita
da una riga vuota (necessaria soltanto se la persona che invia la
patch non ne è l’autore).</p></li>
<li><p>Il corpo della spiegazione, con linee non più lunghe di 75 caratteri,
che verrà copiato permanentemente nel changelog per descrivere la patch.</p></li>
<li><p>Una riga vuota</p></li>
<li><p>Le righe <code class="docutils literal notranslate"><span class="pre">Signed-off-by:</span></code>, descritte in precedenza, che finiranno
anch’esse nel changelog.</p></li>
<li><p>Una linea di demarcazione contenente semplicemente <code class="docutils literal notranslate"><span class="pre">---</span></code>.</p></li>
<li><p>Qualsiasi altro commento che non deve finire nel changelog.</p></li>
<li><p>Le effettive modifiche al codice (il prodotto di <code class="docutils literal notranslate"><span class="pre">diff</span></code>).</p></li>
</ul>
</div></blockquote>
<p>Il formato usato per l’oggetto permette ai programmi di posta di usarlo
per ordinare le patch alfabeticamente - tutti i programmi di posta hanno
questa funzionalità - dato che al numero sequenziale si antepongono degli zeri;
in questo modo l’ordine numerico ed alfabetico coincidono.</p>
<p>Il <code class="docutils literal notranslate"><span class="pre">subsystem</span></code> nell’oggetto dell’email dovrebbe identificare l’area
o il sottosistema modificato dalla patch.</p>
<p>La <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">phrase</span></code> nell’oggetto dell’email dovrebbe descrivere brevemente
il contenuto della patch.  La <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">phrase</span></code> non dovrebbe essere un nome
di file. Non utilizzate la stessa <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">phrase</span></code> per tutte le patch in
una serie (dove una <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">di</span> <span class="pre">patch</span></code> è una sequenza ordinata di diverse
patch correlate).</p>
<p>Ricordatevi che la <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">phrase</span></code> della vostra email diventerà un
identificatore globale ed unico per quella patch.  Si propaga fino al
changelog <code class="docutils literal notranslate"><span class="pre">git</span></code>.  La <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">phrase</span></code> potrà essere usata in futuro
dagli sviluppatori per riferirsi a quella patch.  Le persone vorranno
cercare la <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">phrase</span></code> su internet per leggere le discussioni che la
riguardano.  Potrebbe anche essere l’unica cosa che le persone vedranno
quando, in due o tre mesi, riguarderanno centinaia di patch usando strumenti
come <code class="docutils literal notranslate"><span class="pre">gitk</span></code> o <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--oneline</span></code>.</p>
<p>Per queste ragioni, dovrebbe essere lunga fra i 70 e i 75 caratteri, e deve
descrivere sia cosa viene modificato, sia il perché sia necessario. Essere
brevi e descrittivi è una bella sfida, ma questo è quello che fa un riassunto
ben scritto.</p>
<p>La <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">phrase</span></code> può avere un’etichetta (<em>tag</em>) di prefisso racchiusa fra
le parentesi quadre “Subject: [PATCH &lt;tag&gt;…] &lt;summary phrase&gt;”.
Le etichette non verranno considerate come parte della frase riassuntiva, ma
indicano come la patch dovrebbe essere trattata.  Fra le etichette più comuni
ci sono quelle di versione che vengono usate quando una patch è stata inviata
più volte (per esempio, “v1, v2, v3”); oppure “RFC” per indicare che si
attendono dei commenti (<em>Request For Comments</em>).</p>
<p>Se ci sono quattro patch nella serie, queste dovrebbero essere
enumerate così: 1/4, 2/4, 3/4, 4/4.  Questo assicura che gli
sviluppatori capiranno l’ordine in cui le patch dovrebbero essere
applicate, e per tracciare quelle che hanno revisionate o che hanno
applicato.</p>
<p>Un paio di esempi di oggetti:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Subject: [PATCH 2/5] ext2: improve scalability of bitmap searching
Subject: [PATCH v2 01/27] x86: fix eflags tracking
Subject: [PATCH v2] sub/sys: Condensed patch summary
Subject: [PATCH v2 M/N] sub/sys: Condensed patch summary
</pre></div>
</div>
<p>La riga <code class="docutils literal notranslate"><span class="pre">from</span></code> dev’essere la prima nel corpo del messaggio ed è nel
formato:</p>
<blockquote>
<div><p>From: Patch Author &lt;<a class="reference external" href="mailto:author&#37;&#52;&#48;example&#46;com">author<span>&#64;</span>example<span>&#46;</span>com</a>&gt;</p>
</div></blockquote>
<p>La riga <code class="docutils literal notranslate"><span class="pre">from</span></code> indica chi verrà accreditato nel changelog permanente come
l’autore della patch.  Se la riga <code class="docutils literal notranslate"><span class="pre">from</span></code> è mancante, allora per determinare
l’autore da inserire nel changelog verrà usata la riga <code class="docutils literal notranslate"><span class="pre">From</span></code>
nell’intestazione dell’email.</p>
<p>Il corpo della spiegazione verrà incluso nel changelog permanente, per cui
deve aver senso per un lettore esperto che è ha dimenticato i dettagli della
discussione che hanno portato alla patch.  L’inclusione di informazioni
sui problemi oggetto dalla patch (messaggi del kernel, messaggi di oops,
eccetera) è particolarmente utile per le persone che potrebbero cercare fra
i messaggi di log per la patch che li tratta. Il testo dovrebbe essere scritto
con abbastanza dettagli da far capire al lettore <strong>perché</strong> quella
patch fu creata, e questo a distanza di settimane, mesi, o addirittura
anni.</p>
<p>Se la patch corregge un errore di compilazione, non sarà necessario
includere proprio _tutto_ quello che è uscito dal compilatore;
aggiungete solo quello che è necessario per far si che la vostra patch
venga trovata.  Come nella <code class="docutils literal notranslate"><span class="pre">summary</span> <span class="pre">phrase</span></code>, è importante essere sia
brevi che descrittivi.</p>
<p>La linea di demarcazione <code class="docutils literal notranslate"><span class="pre">---</span></code> serve essenzialmente a segnare dove finisce
il messaggio di changelog.</p>
<p>Aggiungere il <code class="docutils literal notranslate"><span class="pre">diffstat</span></code> dopo <code class="docutils literal notranslate"><span class="pre">---</span></code> è un buon uso di questo spazio, per
mostrare i file che sono cambiati, e il numero di file aggiunto o rimossi.
Un <code class="docutils literal notranslate"><span class="pre">diffstat</span></code> è particolarmente utile per le patch grandi. Se
includete un <code class="docutils literal notranslate"><span class="pre">diffstat</span></code> dopo <code class="docutils literal notranslate"><span class="pre">---</span></code>, usate le opzioni <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">1</span> <span class="pre">-w70</span></code>
cosicché i nomi dei file elencati non occupino troppo spazio
(facilmente rientreranno negli 80 caratteri, magari con qualche
indentazione).  (<code class="docutils literal notranslate"><span class="pre">git</span></code> genera di base dei diffstat adatti).</p>
<p>I commenti che sono importanti solo per i manutentori, quindi
inadatti al changelog permanente, dovrebbero essere messi qui.  Un
buon esempio per questo tipo di commenti potrebbe essere il cosiddetto
<code class="docutils literal notranslate"><span class="pre">patch</span> <span class="pre">changelogs</span></code> che descrivere le differenze fra le versioni
della patch.</p>
<p>Queste informazioni devono andare <strong>dopo</strong> la linea <code class="docutils literal notranslate"><span class="pre">---</span></code> che separa
il <em>changelog</em> dal resto della patch. Le informazioni riguardanti la
versione di una patch non sono parte del <em>chagelog</em> che viene incluso
in git. Queste sono informazioni utili solo ai revisori. Se venissero
messe sopra la riga, qualcuno dovrà fare del lavoro manuale per
rimuoverle; cosa che invece viene fatta automaticamente quando vengono
messe correttamente oltre la riga.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;commit message&gt;
...
Signed-off-by: Author &lt;author@mail&gt;
---
V2 -&gt; V3: Removed redundant helper function
V1 -&gt; V2: Cleaned up coding style and addressed review comments

path/to/file | 5+++--
...
</pre></div>
</div>
<p>Maggiori dettagli sul formato delle patch nei riferimenti qui di seguito.</p>
<section id="aggiungere-i-backtrace-nei-messaggi-di-commit">
<span id="it-backtraces"></span><h3>Aggiungere i <em>backtrace</em> nei messaggi di commit<a class="headerlink" href="#aggiungere-i-backtrace-nei-messaggi-di-commit" title="Permalink to this headline">¶</a></h3>
<p>I <em>backtrace</em> aiutano a documentare la sequenza di chiamate a funzione
che portano ad un problema. Tuttavia, non tutti i <em>backtrace</em> sono
davvero utili. Per esempio, le sequenze iniziali di avvio sono uniche
e ovvie. Copiare integralmente l’output di <code class="docutils literal notranslate"><span class="pre">dmesg</span></code> aggiunge tante
informazioni che distraggono dal vero problema (per esempio, i
marcatori temporali, la lista dei moduli, la lista dei registri, lo
stato dello stack).</p>
<p>Quindi, per rendere utile un <em>backtrace</em> dovreste eliminare le
informazioni inutili, cosicché ci si possa focalizzare sul
problema. Ecco un esempio di un <em>backtrace</em> essenziale:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unchecked MSR access error: WRMSR to 0xd51 (tried to write 0x0000000000000064)
at rIP: 0xffffffffae059994 (native_write_msr+0x4/0x20)
Call Trace:
mba_wrmsr
update_domains
rdtgroup_mkdir
</pre></div>
</div>
</section>
</section>
<section id="usare-esplicitamente-in-reply-to-nell-intestazione">
<span id="it-explicit-in-reply-to"></span><h2>Usare esplicitamente In-Reply-To nell’intestazione<a class="headerlink" href="#usare-esplicitamente-in-reply-to-nell-intestazione" title="Permalink to this headline">¶</a></h2>
<p>Aggiungere manualmente In-Reply-To: nell’intestazione dell’e-mail
potrebbe essere d’aiuto per associare una patch ad una discussione
precedente, per esempio per collegare la correzione di un baco con l’e-mail
che lo riportava.  Tuttavia, per serie di patch multiple è generalmente
sconsigliato l’uso di In-Reply-To: per collegare precedenti versioni.
In questo modo versioni multiple di una patch non diventeranno un’ingestibile
giungla di riferimenti all’interno dei programmi di posta.  Se un collegamento
è utile, potete usare <a class="reference external" href="https://lore.kernel.org/">https://lore.kernel.org/</a> per ottenere i collegamenti
ad una versione precedente di una serie di patch (per esempio, potete usarlo
per l’email introduttiva alla serie).</p>
</section>
<section id="riferimenti">
<h2>Riferimenti<a class="headerlink" href="#riferimenti" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>Andrew Morton, “La patch perfetta” (tpp).</dt><dd><p>&lt;<a class="reference external" href="http://www.ozlabs.org/~akpm/stuff/tpp.txt">http://www.ozlabs.org/~akpm/stuff/tpp.txt</a>&gt;</p>
</dd>
<dt>Jeff Garzik, “Formato per la sottomissione di patch per il kernel Linux”</dt><dd><p>&lt;<a class="reference external" href="https://web.archive.org/web/20180829112450/http://linux.yyz.us/patch-format.html">https://web.archive.org/web/20180829112450/http://linux.yyz.us/patch-format.html</a>&gt;</p>
</dd>
<dt>Greg Kroah-Hartman, “Come scocciare un manutentore di un sottosistema”</dt><dd><p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer.html">http://www.kroah.com/log/linux/maintainer.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-02.html">http://www.kroah.com/log/linux/maintainer-02.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-03.html">http://www.kroah.com/log/linux/maintainer-03.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-04.html">http://www.kroah.com/log/linux/maintainer-04.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-05.html">http://www.kroah.com/log/linux/maintainer-05.html</a>&gt;</p>
<p>&lt;<a class="reference external" href="http://www.kroah.com/log/linux/maintainer-06.html">http://www.kroah.com/log/linux/maintainer-06.html</a>&gt;</p>
</dd>
<dt>No!!!! Basta gigantesche bombe patch alle persone sulla lista <a class="reference external" href="mailto:linux-kernel&#37;&#52;&#48;vger&#46;kernel&#46;org">linux-kernel<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a>!</dt><dd><p>&lt;<a class="reference external" href="https://lore.kernel.org/r/20050711.125305.08322243.davem&#64;davemloft.net">https://lore.kernel.org/r/20050711.125305.08322243.davem&#64;davemloft.net</a>&gt;</p>
</dd>
</dl>
<p>Kernel <a class="reference internal" href="coding-style.html"><span class="doc">Stile del codice per il kernel Linux</span></a>.</p>
<dl>
<dt>E-mail di Linus Torvalds sul formato canonico di una patch:</dt><dd><p>&lt;<a class="reference external" href="https://lore.kernel.org/r/Pine.LNX.4.58.0504071023190.28951&#64;ppc970.osdl.org">https://lore.kernel.org/r/Pine.LNX.4.58.0504071023190.28951&#64;ppc970.osdl.org</a>&gt;</p>
</dd>
<dt>Andi Kleen, “Su come sottomettere patch del kernel”</dt><dd><p>Alcune strategie su come sottomettere modifiche toste o controverse.</p>
<p><a class="reference external" href="http://halobates.de/on-submitting-patches.pdf">http://halobates.de/on-submitting-patches.pdf</a></p>
</dd>
</dl>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Inviare patch: la guida essenziale per vedere il vostro codice nel kernel</a><ul>
<li><a class="reference internal" href="#ottenere-i-sorgenti-attuali">Ottenere i sorgenti attuali</a></li>
<li><a class="reference internal" href="#descrivete-le-vostre-modifiche">Descrivete le vostre modifiche</a></li>
<li><a class="reference internal" href="#separate-le-vostre-modifiche">Separate le vostre modifiche</a></li>
<li><a class="reference internal" href="#verificate-lo-stile-delle-vostre-modifiche">4) Verificate lo stile delle vostre modifiche</a></li>
<li><a class="reference internal" href="#selezionate-i-destinatari-della-vostra-patch">5) Selezionate i destinatari della vostra patch</a></li>
<li><a class="reference internal" href="#niente-mime-links-compressione-allegati-solo-puro-testo">Niente: MIME, links, compressione, allegati.  Solo puro testo</a></li>
<li><a class="reference internal" href="#rispondere-ai-commenti-di-revisione">Rispondere ai commenti di revisione</a></li>
<li><a class="reference internal" href="#non-scoraggiatevi-o-impazientitevi">Non scoraggiatevi - o impazientitevi</a></li>
<li><a class="reference internal" href="#aggiungete-patch-nell-oggetto">Aggiungete PATCH nell’oggetto</a></li>
<li><a class="reference internal" href="#firmate-il-vostro-lavoro-il-certificato-d-origine-dello-sviluppatore">Firmate il vostro lavoro - Il certificato d’origine dello sviluppatore</a><ul>
<li><a class="reference internal" href="#il-certificato-d-origine-dello-sviluppatore-1-1">Il certificato d’origine dello sviluppatore 1.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quando-utilizzare-acked-by-cc-e-co-developed-by">Quando utilizzare Acked-by:, Cc:, e Co-developed-by:</a></li>
<li><a class="reference internal" href="#utilizzare-reported-by-tested-by-reviewed-by-suggested-by-e-fixes">Utilizzare Reported-by:, Tested-by:, Reviewed-by:, Suggested-by: e Fixes:</a><ul>
<li><a class="reference internal" href="#dichiarazione-di-svista-dei-revisori">Dichiarazione di svista dei revisori</a></li>
</ul>
</li>
<li><a class="reference internal" href="#il-formato-canonico-delle-patch">Il formato canonico delle patch</a><ul>
<li><a class="reference internal" href="#aggiungere-i-backtrace-nei-messaggi-di-commit">Aggiungere i <em>backtrace</em> nei messaggi di commit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usare-esplicitamente-in-reply-to-nell-intestazione">Usare esplicitamente In-Reply-To nell’intestazione</a></li>
<li><a class="reference internal" href="#riferimenti">Riferimenti</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/translations/it_IT/process/submitting-patches.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/translations/it_IT/process/submitting-patches.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>