
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>efivarfs - a (U)EFI variable filesystem &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="EROFS - Enhanced Read-Only File System" href="erofs.html" />
    <link rel="prev" title="eCryptfs: A stacked cryptographic filesystem for Linux" href="ecryptfs.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="efivarfs-a-u-efi-variable-filesystem">
<h1>efivarfs - a (U)EFI variable filesystem<a class="headerlink" href="#efivarfs-a-u-efi-variable-filesystem" title="Permalink to this headline">¶</a></h1>
<p>The efivarfs filesystem was created to address the shortcomings of
using entries in sysfs to maintain EFI variables. The old sysfs EFI
variables code only supported variables of up to 1024 bytes. This
limitation existed in version 0.99 of the EFI specification, but was
removed before any full releases. Since variables can now be larger
than a single page, sysfs isn’t the best interface for this.</p>
<p>Variables can be created, deleted and modified with the efivarfs
filesystem.</p>
<p>efivarfs is typically mounted like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mount -t efivarfs none /sys/firmware/efi/efivars
</pre></div>
</div>
<p>Due to the presence of numerous firmware bugs where removing non-standard
UEFI variables causes the system firmware to fail to POST, efivarfs
files that are not well-known standardized variables are created
as immutable files.  This doesn’t prevent removal - “chattr -i” will work -
but it does prevent this kind of failure from being accomplished
accidentally.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When a content of an UEFI variable in /sys/firmware/efi/efivars is
displayed, for example using “hexdump”, pay attention that the first
4 bytes of the output represent the UEFI variable attributes,
in little-endian format.</p>
<p>Practically the output of each efivar is composed of:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>4_bytes_of_attributes + efivar_data</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<p><em>See also:</em></p>
<ul class="simple">
<li><p><a class="reference internal" href="../admin-guide/acpi/ssdt-overlays.html"><span class="doc">SSDT Overlays</span></a></p></li>
<li><p>Documentation/ABI/stable/sysfs-firmware-efi-vars</p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/filesystems/efivarfs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/filesystems/efivarfs.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>