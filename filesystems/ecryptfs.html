
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>eCryptfs: A stacked cryptographic filesystem for Linux &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="efivarfs - a (U)EFI variable filesystem" href="efivarfs.html" />
    <link rel="prev" title="DLMFS" href="dlmfs.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="ecryptfs-a-stacked-cryptographic-filesystem-for-linux">
<h1>eCryptfs: A stacked cryptographic filesystem for Linux<a class="headerlink" href="#ecryptfs-a-stacked-cryptographic-filesystem-for-linux" title="Permalink to this headline">¶</a></h1>
<p>eCryptfs is free software. Please see the file COPYING for details.
For documentation, please see the files in the doc/ subdirectory.  For
building and installation instructions please see the INSTALL file.</p>
<dl class="field-list simple">
<dt class="field-odd">Maintainer</dt>
<dd class="field-odd"><p>Phillip Hellewell</p>
</dd>
<dt class="field-even">Lead developer</dt>
<dd class="field-even"><p>Michael A. Halcrow &lt;<a class="reference external" href="mailto:mhalcrow&#37;&#52;&#48;us&#46;ibm&#46;com">mhalcrow<span>&#64;</span>us<span>&#46;</span>ibm<span>&#46;</span>com</a>&gt;</p>
</dd>
<dt class="field-odd">Developers</dt>
<dd class="field-odd"><p>Michael C. Thompson
Kent Yoder</p>
</dd>
<dt class="field-even">Web Site</dt>
<dd class="field-even"><p><a class="reference external" href="http://ecryptfs.sf.net">http://ecryptfs.sf.net</a></p>
</dd>
</dl>
<p>This software is currently undergoing development. Make sure to
maintain a backup copy of any data you write into eCryptfs.</p>
<p>eCryptfs requires the userspace tools downloadable from the
SourceForge site:</p>
<p><a class="reference external" href="http://sourceforge.net/projects/ecryptfs/">http://sourceforge.net/projects/ecryptfs/</a></p>
<p>Userspace requirements include:</p>
<ul class="simple">
<li><p>David Howells’ userspace keyring headers and libraries (version
1.0 or higher), obtainable from
<a class="reference external" href="http://people.redhat.com/~dhowells/keyutils/">http://people.redhat.com/~dhowells/keyutils/</a></p></li>
<li><p>Libgcrypt</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the beta/experimental releases of eCryptfs, when you upgrade
eCryptfs, you should copy the files to an unencrypted location and
then copy the files back into the new eCryptfs mount to migrate the
files.</p>
</div>
<section id="mount-wide-passphrase">
<h2>Mount-wide Passphrase<a class="headerlink" href="#mount-wide-passphrase" title="Permalink to this headline">¶</a></h2>
<p>Create a new directory into which eCryptfs will write its encrypted
files (i.e., /root/crypt).  Then, create the mount point directory
(i.e., /mnt/crypt).  Now it’s time to mount eCryptfs:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mount -t ecryptfs /root/crypt /mnt/crypt
</pre></div>
</div>
<p>You should be prompted for a passphrase and a salt (the salt may be
blank).</p>
<p>Try writing a new file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo &quot;Hello, World&quot; &gt; /mnt/crypt/hello.txt
</pre></div>
</div>
<p>The operation will complete.  Notice that there is a new file in
/root/crypt that is at least 12288 bytes in size (depending on your
host page size).  This is the encrypted underlying file for what you
just wrote.  To test reading, from start to finish, you need to clear
the user session keyring:</p>
<p>keyctl clear &#64;u</p>
<p>Then umount /mnt/crypt and mount again per the instructions given
above.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cat /mnt/crypt/hello.txt
</pre></div>
</div>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>eCryptfs version 0.1 should only be mounted on (1) empty directories
or (2) directories containing files only created by eCryptfs. If you
mount a directory that has pre-existing files not created by eCryptfs,
then behavior is undefined. Do not run eCryptfs in higher verbosity
levels unless you are doing so for the sole purpose of debugging or
development, since secret values will be written out to the system log
in that case.</p>
<p>Mike Halcrow
<a class="reference external" href="mailto:mhalcrow&#37;&#52;&#48;us&#46;ibm&#46;com">mhalcrow<span>&#64;</span>us<span>&#46;</span>ibm<span>&#46;</span>com</a></p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">eCryptfs: A stacked cryptographic filesystem for Linux</a><ul>
<li><a class="reference internal" href="#mount-wide-passphrase">Mount-wide Passphrase</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/filesystems/ecryptfs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/filesystems/ecryptfs.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>