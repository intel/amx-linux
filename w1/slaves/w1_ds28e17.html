
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Kernel driver w1_ds28e17 &#8212; The Linux Kernel 6.2.0-rc4+ documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Kernel driver w1_therm" href="w1_therm.html" />
    <link rel="prev" title="Kernel driver w1_ds28e04" href="w1_ds28e04.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="kernel-driver-w1-ds28e17">
<h1>Kernel driver w1_ds28e17<a class="headerlink" href="#kernel-driver-w1-ds28e17" title="Permalink to this headline">¶</a></h1>
<p>Supported chips:</p>
<blockquote>
<div><ul class="simple">
<li><p>Maxim DS28E17 1-Wire-to-I2C Master Bridge</p></li>
</ul>
</div></blockquote>
<p>supported family codes:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 81%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>W1_FAMILY_DS28E17</p></td>
<td><p>0x19</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Author: Jan Kandziora &lt;<a class="reference external" href="mailto:jjj&#37;&#52;&#48;gmx&#46;de">jjj<span>&#64;</span>gmx<span>&#46;</span>de</a>&gt;</p>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The DS28E17 is a Onewire slave device which acts as an I2C bus master.</p>
<p>This driver creates a new I2C bus for any DS28E17 device detected. I2C buses
come and go as the DS28E17 devices come and go. I2C slave devices connected to
a DS28E17 can be accessed by the kernel or userspace tools as if they were
connected to a “native” I2C bus master.</p>
<p>An udev rule like the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SUBSYSTEM==&quot;i2c-dev&quot;, KERNEL==&quot;i2c-[0-9]*&quot;, ATTRS{name}==&quot;w1-19-*&quot;, \
        SYMLINK+=&quot;i2c-$attr{name}&quot;
</pre></div>
</div>
<p>may be used to create stable /dev/i2c- entries based on the unique id of the
DS28E17 chip.</p>
<p>Driver parameters are:</p>
<dl>
<dt>speed:</dt><dd><p>This sets up the default I2C speed a DS28E17 get configured for as soon
it is connected. The power-on default   of the DS28E17 is 400kBaud, but
chips may come and go on the Onewire bus without being de-powered and
as soon the “w1_ds28e17” driver notices a freshly connected, or
reconnected DS28E17 device on the Onewire bus, it will re-apply this
setting.</p>
<p>Valid values are 100, 400, 900 [kBaud]. Any other value means to leave
alone the current DS28E17 setting on detect. The default value is 100.</p>
</dd>
<dt>stretch:</dt><dd><p>This sets up the default stretch value used for freshly connected
DS28E17 devices. It is a multiplier used on the calculation of the busy
wait time for an I2C transfer. This is to account for I2C slave devices
which make heavy use of the I2C clock stretching feature and thus, the
needed timeout cannot be pre-calculated correctly. As the w1_ds28e17
driver checks the DS28E17’s busy flag in a loop after the precalculated
wait time, it should be hardly needed to tweak this setting.</p>
<p>Leave it at 1 unless you get ETIMEDOUT errors and a “w1_slave_driver
19-00000002dbd8: busy timeout” in the kernel log.</p>
<p>Valid values are 1 to 9. The default is 1.</p>
</dd>
</dl>
<p>The driver creates sysfs files /sys/bus/w1/devices/19-&lt;id&gt;/speed and
/sys/bus/w1/devices/19-&lt;id&gt;/stretch for each device, preloaded with the default
settings from the driver parameters. They may be changed anytime. In addition a
directory /sys/bus/w1/devices/19-&lt;id&gt;/i2c-&lt;nnn&gt; for the I2C bus master sysfs
structure is created.</p>
<p>See <a class="reference external" href="https://github.com/ianka/w1_ds28e17">https://github.com/ianka/w1_ds28e17</a> for even more information.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.2.0-rc4-6.2.0-rc4+</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Kernel driver w1_ds28e17</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/w1/slaves/w1_ds28e17.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/w1/slaves/w1_ds28e17.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>